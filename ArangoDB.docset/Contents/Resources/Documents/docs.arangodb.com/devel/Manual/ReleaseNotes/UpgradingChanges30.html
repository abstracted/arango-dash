<!DOCTYPE HTML>
<html lang="en" >
    <!-- Start book ArangoDB v3.0.x-devel (2016-06-02) Documentation -->
    <head>
        <!-- head:start -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Incompatible changes in 3.0 | ArangoDB v3.0.x-devel (2016-06-02) Documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        <meta name="author" content="ArangoDB GmbH">
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    
        <link rel="stylesheet" href="../styles/website.css">
    

        
    
    
    <link rel="next" href="../ReleaseNotes/UpgradingChanges28.html" />
    
    
    <link rel="prev" href="../ReleaseNotes/NewFeatures21.html" />
    

        <!-- head:end -->
<script type="text/javascript" src="../styles/header.js"></script><link rel="stylesheet" type="text/css" href="../styles/header.css">
    </head>
    <body>
        <!-- body:start -->
<div id="header">
  <div id="logo">
    <a href="https://arangodb.com/">
      <img src="https://docs.arangodb.com/assets/arangodb_logo_2016.png">
    </a>
  </div>
  <div id="logo-small">
    <a href="https://arangodb.com/">
      <img src="https://docs.arangodb.com/assets/arangodb_logo_small_2016.png">
    </a>
  </div>
  <select id="version-switcher">
    <option value="devel">v3.0.x-devel (2016-06-02)</option>
    <option value="2.8">v2.8</option>
    <option value="2.7">v2.7</option>
    <option value="2.6">v2.6</option>
    <option value="2.5">v2.5</option>
    <option value="2.4">v2.4</option>
    <option value="2.3">v2.3</option>
    <option value="2.2">v2.2</option>
    <option value="2.1">v2.1</option>
  </select>
  <div class="google-search">
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
  <ul id="navmenu">
    <li class="active-tab">
      <a href="https://docs.arangodb.com/devel/Manual/index.html">Manual</a>
    </li>
    <li>
      <a href="https://docs.arangodb.com/devel/AQL/index.html">AQL</a>
    </li>
    <li>
      <a href="https://docs.arangodb.com/devel/HTTP/index.html">HTTP</a>
    </li>
    <li>
      <a href="https://docs.arangodb.com/cookbook">Cookbook</a>
    </li>
    <li class="socialIcons">
      <a href="https://github.com/ArangoDB/ArangoDB/issues" target="blank" name="github">
        <i title="GitHub" class="fa fa-github"></i>
      </a>
    </li>
    <li class="socialIcons">
      <a href="http://stackoverflow.com/questions/tagged/arangodb" target="blank" name="stackoverflow">
        <i title="Stackoverflow" class="fa fa-stack-overflow"></i>
      </a>
    </li>
    <li class="socialIcons socialIcons-googlegroups">
      <a href="https://groups.google.com/forum/#!forum/arangodb" target="blank" name="google groups">
        <img title="Google Groups" alt="Google Groups" src="https://docs.arangodb.com/assets/googlegroupsIcon.png" />
      </a>
    </li>
  </ul>
</div>
        
    <div class="book"
        data-level="12.10"
        data-chapter-title="Incompatible changes in 3.0"
        data-filepath="ReleaseNotes/UpgradingChanges30.md"
        data-basepath=".."
        data-revision="Thu Jun 02 2016 11:45:23 GMT+0000 (UTC)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="GettingStarted/index.html">
            
                
                    <a href="../GettingStarted/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Getting Started
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="GettingStarted/Installing/index.html">
            
                
                    <a href="../GettingStarted/Installing/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Installing
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="GettingStarted/Installing/Linux.html">
            
                
                    <a href="../GettingStarted/Installing/Linux.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.1.</b>
                        
                        Linux
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="GettingStarted/Installing/MacOSX.html">
            
                
                    <a href="../GettingStarted/Installing/MacOSX.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.2.</b>
                        
                        Mac OS X
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="GettingStarted/Installing/Windows.html">
            
                
                    <a href="../GettingStarted/Installing/Windows.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.3.</b>
                        
                        Windows
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.1.4" data-path="GettingStarted/Installing/ARM.html">
            
                
                    <a href="../GettingStarted/Installing/ARM.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.4.</b>
                        
                        ARM
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.1.5" data-path="GettingStarted/Installing/Compiling.html">
            
                
                    <a href="../GettingStarted/Installing/Compiling.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.5.</b>
                        
                        Compiling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.1.6" data-path="GettingStarted/Installing/Cluster.html">
            
                
                    <a href="../GettingStarted/Installing/Cluster.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.6.</b>
                        
                        Cluster setup
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="GettingStarted/WebInterface.html">
            
                
                    <a href="../GettingStarted/WebInterface.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Using the Web Interface
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="GettingStarted/ComingFromSql.html">
            
                
                    <a href="../GettingStarted/ComingFromSql.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Coming from SQL
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="Scalability/index.html">
            
                
                    <a href="../Scalability/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Scalability
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="DataModeling/index.html">
            
                
                    <a href="../DataModeling/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Data model &amp; modeling
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="DataModeling/Concepts.html">
            
                
                    <a href="../DataModeling/Concepts.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Concepts
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="DataModeling/Databases/index.html">
            
                
                    <a href="../DataModeling/Databases/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Databases
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="DataModeling/Databases/WorkingWith.html">
            
                
                    <a href="../DataModeling/Databases/WorkingWith.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.1.</b>
                        
                        Working with Databases
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="DataModeling/Databases/Notes.html">
            
                
                    <a href="../DataModeling/Databases/Notes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.2.</b>
                        
                        Notes about Databases
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="DataModeling/Collections/index.html">
            
                
                    <a href="../DataModeling/Collections/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Collections
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.1" data-path="DataModeling/Collections/CollectionMethods.html">
            
                
                    <a href="../DataModeling/Collections/CollectionMethods.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.1.</b>
                        
                        Collection Methods
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3.2" data-path="DataModeling/Collections/DatabaseMethods.html">
            
                
                    <a href="../DataModeling/Collections/DatabaseMethods.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.2.</b>
                        
                        Database Methods
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="DataModeling/Documents/index.html">
            
                
                    <a href="../DataModeling/Documents/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Documents
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.4.1" data-path="DataModeling/Documents/DocumentAddress.html">
            
                
                    <a href="../DataModeling/Documents/DocumentAddress.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.1.</b>
                        
                        Basics and Terminology
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4.2" data-path="DataModeling/Documents/DocumentMethods.html">
            
                
                    <a href="../DataModeling/Documents/DocumentMethods.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.2.</b>
                        
                        Collection Methods
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4.3" data-path="DataModeling/Documents/DatabaseMethods.html">
            
                
                    <a href="../DataModeling/Documents/DatabaseMethods.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.3.</b>
                        
                        Database Methods
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="DataModeling/GraphsVerticesEdges.html">
            
                
                    <a href="../DataModeling/GraphsVerticesEdges.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        Graphs, Vertices &amp; Edges
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="DataModeling/NamingConventions/index.html">
            
                
                    <a href="../DataModeling/NamingConventions/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        Naming Conventions
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.6.1" data-path="DataModeling/NamingConventions/DatabaseNames.html">
            
                
                    <a href="../DataModeling/NamingConventions/DatabaseNames.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.1.</b>
                        
                        Database Names
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6.2" data-path="DataModeling/NamingConventions/CollectionNames.html">
            
                
                    <a href="../DataModeling/NamingConventions/CollectionNames.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.2.</b>
                        
                        Collection Names
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6.3" data-path="DataModeling/NamingConventions/DocumentKeys.html">
            
                
                    <a href="../DataModeling/NamingConventions/DocumentKeys.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.3.</b>
                        
                        Document Keys
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6.4" data-path="DataModeling/NamingConventions/AttributeNames.html">
            
                
                    <a href="../DataModeling/NamingConventions/AttributeNames.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.4.</b>
                        
                        Attribute Names
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="DataModeling/ModelingRelationships.html">
            
                
                    <a href="../DataModeling/ModelingRelationships.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                        Modeling Relationships
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="Indexing/index.html">
            
                
                    <a href="../Indexing/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Indexing
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="Indexing/IndexBasics.html">
            
                
                    <a href="../Indexing/IndexBasics.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Index Basics
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="Indexing/WhichIndex.html">
            
                
                    <a href="../Indexing/WhichIndex.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Which index to use when
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="Indexing/IndexUtilization.html">
            
                
                    <a href="../Indexing/IndexUtilization.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Index Utilization
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="Indexing/WorkingWithIndexes.html">
            
                
                    <a href="../Indexing/WorkingWithIndexes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        Working with Indexes
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.4.1" data-path="Indexing/Hash.html">
            
                
                    <a href="../Indexing/Hash.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.1.</b>
                        
                        Hash Indexes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4.2" data-path="Indexing/Skiplist.html">
            
                
                    <a href="../Indexing/Skiplist.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.2.</b>
                        
                        Skiplists
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4.3" data-path="Indexing/Fulltext.html">
            
                
                    <a href="../Indexing/Fulltext.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.3.</b>
                        
                        Fulltext Indexes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4.4" data-path="Indexing/Geo.html">
            
                
                    <a href="../Indexing/Geo.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.4.</b>
                        
                        Geo Indexes
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="Graphs/index.html">
            
                
                    <a href="../Graphs/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Graphs
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="Graphs/GeneralGraphs/index.html">
            
                
                    <a href="../Graphs/GeneralGraphs/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        General Graphs
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1" data-path="Graphs/GeneralGraphs/Management.html">
            
                
                    <a href="../Graphs/GeneralGraphs/Management.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.1.</b>
                        
                        Graph Management
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.1.2" data-path="Graphs/GeneralGraphs/Functions.html">
            
                
                    <a href="../Graphs/GeneralGraphs/Functions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.2.</b>
                        
                        Graph Functions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.1.3" data-path="Graphs/GeneralGraphs/FluentAQLInterface.html">
            
                
                    <a href="../Graphs/GeneralGraphs/FluentAQLInterface.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.3.</b>
                        
                        Fluent Query Interface
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="Graphs/Traversals/index.html">
            
                
                    <a href="../Graphs/Traversals/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Traversals
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.2.1" data-path="Graphs/Traversals/UsingTraversalObjects.html">
            
                
                    <a href="../Graphs/Traversals/UsingTraversalObjects.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.1.</b>
                        
                        Using Traversal Objects
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2.2" data-path="Graphs/Traversals/ExampleData.html">
            
                
                    <a href="../Graphs/Traversals/ExampleData.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.2.</b>
                        
                        Example Data
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="Graphs/Edges/index.html">
            
                
                    <a href="../Graphs/Edges/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        Working with Edges
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="Foxx/index.html">
            
                
                    <a href="../Foxx/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Foxx Microservices
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="Foxx/GettingStarted.html">
            
                
                    <a href="../Foxx/GettingStarted.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Getting started
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="Foxx/Manifest.html">
            
                
                    <a href="../Foxx/Manifest.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Service manifest
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="Foxx/Context.html">
            
                
                    <a href="../Foxx/Context.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        Service context
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="Foxx/Configuration.html">
            
                
                    <a href="../Foxx/Configuration.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                        Configuration
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="Foxx/Dependencies.html">
            
                
                    <a href="../Foxx/Dependencies.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.5.</b>
                        
                        Dependencies
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="Foxx/Router/index.html">
            
                
                    <a href="../Foxx/Router/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.6.</b>
                        
                        Routers
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.6.1" data-path="Foxx/Router/Endpoints.html">
            
                
                    <a href="../Foxx/Router/Endpoints.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.6.1.</b>
                        
                        Endpoints
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.6.2" data-path="Foxx/Router/Middleware.html">
            
                
                    <a href="../Foxx/Router/Middleware.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.6.2.</b>
                        
                        Middleware
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.6.3" data-path="Foxx/Router/Request.html">
            
                
                    <a href="../Foxx/Router/Request.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.6.3.</b>
                        
                        Request
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.6.4" data-path="Foxx/Router/Response.html">
            
                
                    <a href="../Foxx/Router/Response.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.6.4.</b>
                        
                        Response
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="Foxx/Sessions/index.html">
            
                
                    <a href="../Foxx/Sessions/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.7.</b>
                        
                        Sessions middleware
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.7.1" data-path="Foxx/Sessions/Storages/index.html">
            
                
                    <a href="../Foxx/Sessions/Storages/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.7.1.</b>
                        
                        Session storages
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.7.1.1" data-path="Foxx/Sessions/Storages/Collection.html">
            
                
                    <a href="../Foxx/Sessions/Storages/Collection.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.7.1.1.</b>
                        
                        Collection storage
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.7.1.2" data-path="Foxx/Sessions/Storages/JWT.html">
            
                
                    <a href="../Foxx/Sessions/Storages/JWT.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.7.1.2.</b>
                        
                        JWT storage
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6.7.2" data-path="Foxx/Sessions/Transports/index.html">
            
                
                    <a href="../Foxx/Sessions/Transports/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.7.2.</b>
                        
                        Session transports
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.7.2.1" data-path="Foxx/Sessions/Transports/Cookie.html">
            
                
                    <a href="../Foxx/Sessions/Transports/Cookie.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.7.2.1.</b>
                        
                        Cookie transport
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.7.2.2" data-path="Foxx/Sessions/Transports/Header.html">
            
                
                    <a href="../Foxx/Sessions/Transports/Header.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.7.2.2.</b>
                        
                        Header transport
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="Foxx/Assets.html">
            
                
                    <a href="../Foxx/Assets.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.</b>
                        
                        Serving files
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.9" data-path="Foxx/Testing.html">
            
                
                    <a href="../Foxx/Testing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.9.</b>
                        
                        Writing tests
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.10" data-path="Foxx/Scripts.html">
            
                
                    <a href="../Foxx/Scripts.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.10.</b>
                        
                        Scripts and queued jobs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.11" data-path="Foxx/LegacyMode.html">
            
                
                    <a href="../Foxx/LegacyMode.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.11.</b>
                        
                        Legacy mode for 2.x
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.12" data-path="Foxx/Users.html">
            
                
                    <a href="../Foxx/Users.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.12.</b>
                        
                        User management
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.13" data-path="Foxx/Modules.html">
            
                
                    <a href="../Foxx/Modules.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.13.</b>
                        
                        Related modules
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.13.1" data-path="Foxx/Auth.html">
            
                
                    <a href="../Foxx/Auth.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.13.1.</b>
                        
                        Authentication
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.13.2" data-path="Foxx/OAuth2.html">
            
                
                    <a href="../Foxx/OAuth2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.13.2.</b>
                        
                        OAuth 2.0
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="Transactions/index.html">
            
                
                    <a href="../Transactions/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Transactions
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="Transactions/TransactionInvocation.html">
            
                
                    <a href="../Transactions/TransactionInvocation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        Transaction invocation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="Transactions/Passing.html">
            
                
                    <a href="../Transactions/Passing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        Passing parameters
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="Transactions/LockingAndIsolation.html">
            
                
                    <a href="../Transactions/LockingAndIsolation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        Locking and isolation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="Transactions/Durability.html">
            
                
                    <a href="../Transactions/Durability.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.4.</b>
                        
                        Durability
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="Transactions/Limitations.html">
            
                
                    <a href="../Transactions/Limitations.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.5.</b>
                        
                        Limitations
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="Deployment/index.html">
            
                
                    <a href="../Deployment/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Deployment
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="Deployment/Single.html">
            
                
                    <a href="../Deployment/Single.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        Single instance
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="Deployment/Mesos.html">
            
                
                    <a href="../Deployment/Mesos.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        Cluster: DC/OS
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="Deployment/Docker.html">
            
                
                    <a href="../Deployment/Docker.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.</b>
                        
                        Cluster: Docker
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="Deployment/Local.html">
            
                
                    <a href="../Deployment/Local.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.</b>
                        
                        Cluster: Local test
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9" data-path="Administration/index.html">
            
                
                    <a href="../Administration/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Administration
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="Administration/Arangosh/index.html">
            
                
                    <a href="../Administration/Arangosh/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        ArangoDB Shell
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1.1" data-path="Administration/Arangosh/Output.html">
            
                
                    <a href="../Administration/Arangosh/Output.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.1.</b>
                        
                        Shell Output
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.1.2" data-path="Administration/Arangosh/Configuration.html">
            
                
                    <a href="../Administration/Arangosh/Configuration.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.2.</b>
                        
                        Configuration
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.1.3" data-path="GettingStarted/Arangosh.html">
            
                
                    <a href="../GettingStarted/Arangosh.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.3.</b>
                        
                        Details
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="Administration/Arangoimp.html">
            
                
                    <a href="../Administration/Arangoimp.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                        Arangoimp
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.3" data-path="Administration/Arangodump.html">
            
                
                    <a href="../Administration/Arangodump.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.3.</b>
                        
                        Arangodump
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.4" data-path="Administration/Arangorestore.html">
            
                
                    <a href="../Administration/Arangorestore.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.4.</b>
                        
                        Arangorestore
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.5" data-path="Administration/Upgrading/index.html">
            
                
                    <a href="../Administration/Upgrading/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.5.</b>
                        
                        Upgrading
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.5.1" data-path="Administration/Upgrading/Upgrading30.html">
            
                
                    <a href="../Administration/Upgrading/Upgrading30.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.5.1.</b>
                        
                        Upgrading to 3.0
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.5.2" data-path="Administration/Upgrading/Upgrading28.html">
            
                
                    <a href="../Administration/Upgrading/Upgrading28.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.5.2.</b>
                        
                        Upgrading to 2.8
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.5.3" data-path="Administration/Upgrading/Upgrading26.html">
            
                
                    <a href="../Administration/Upgrading/Upgrading26.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.5.3.</b>
                        
                        Upgrading to 2.6
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.5.4" data-path="Administration/Upgrading/Upgrading25.html">
            
                
                    <a href="../Administration/Upgrading/Upgrading25.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.5.4.</b>
                        
                        Upgrading to 2.5
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.5.5" data-path="Administration/Upgrading/Upgrading24.html">
            
                
                    <a href="../Administration/Upgrading/Upgrading24.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.5.5.</b>
                        
                        Upgrading to 2.4
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.5.6" data-path="Administration/Upgrading/Upgrading23.html">
            
                
                    <a href="../Administration/Upgrading/Upgrading23.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.5.6.</b>
                        
                        Upgrading to 2.3
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.5.7" data-path="Administration/Upgrading/Upgrading22.html">
            
                
                    <a href="../Administration/Upgrading/Upgrading22.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.5.7.</b>
                        
                        Upgrading to 2.2
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9.6" data-path="Administration/Configuration/index.html">
            
                
                    <a href="../Administration/Configuration/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.6.</b>
                        
                        Server Configuration
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.6.1" data-path="Administration/Configuration/Arangod.html">
            
                
                    <a href="../Administration/Configuration/Arangod.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.6.1.</b>
                        
                        Arangod options
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.6.2" data-path="Administration/Configuration/Wal.html">
            
                
                    <a href="../Administration/Configuration/Wal.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.6.2.</b>
                        
                        Write-ahead log options
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.6.3" data-path="Administration/Configuration/Endpoint.html">
            
                
                    <a href="../Administration/Configuration/Endpoint.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.6.3.</b>
                        
                        Managing Endpoints
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.6.4" data-path="Administration/Configuration/Cluster.html">
            
                
                    <a href="../Administration/Configuration/Cluster.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.6.4.</b>
                        
                        Cluster options
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.6.5" data-path="Administration/Configuration/Logging.html">
            
                
                    <a href="../Administration/Configuration/Logging.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.6.5.</b>
                        
                        Logging options
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.6.6" data-path="Administration/Configuration/Communication.html">
            
                
                    <a href="../Administration/Configuration/Communication.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.6.6.</b>
                        
                        Communication options
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.6.7" data-path="Administration/Configuration/Authentication.html">
            
                
                    <a href="../Administration/Configuration/Authentication.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.6.7.</b>
                        
                        Authentication
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9.7" data-path="Administration/Replication/index.html">
            
                
                    <a href="../Administration/Replication/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.7.</b>
                        
                        Replication
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.7.1" data-path="Administration/Replication/Components.html">
            
                
                    <a href="../Administration/Replication/Components.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.7.1.</b>
                        
                        Components
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.7.2" data-path="Administration/Replication/ExampleSetup.html">
            
                
                    <a href="../Administration/Replication/ExampleSetup.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.7.2.</b>
                        
                        Example Setup
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.7.3" data-path="Administration/Replication/SyncingCollections.html">
            
                
                    <a href="../Administration/Replication/SyncingCollections.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.7.3.</b>
                        
                        Syncing Collections
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.7.4" data-path="Administration/Replication/Limitations.html">
            
                
                    <a href="../Administration/Replication/Limitations.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.7.4.</b>
                        
                        Replication Limitations
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.7.5" data-path="Administration/Replication/Overhead.html">
            
                
                    <a href="../Administration/Replication/Overhead.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.7.5.</b>
                        
                        Replication Overhead
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9.8" data-path="Administration/Sharding/index.html">
            
                
                    <a href="../Administration/Sharding/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.8.</b>
                        
                        Sharding
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.8.1" data-path="Administration/Sharding/StatusOfImplementation.html">
            
                
                    <a href="../Administration/Sharding/StatusOfImplementation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.8.1.</b>
                        
                        Implementation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.8.2" data-path="Administration/Sharding/Authentication.html">
            
                
                    <a href="../Administration/Sharding/Authentication.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.8.2.</b>
                        
                        Authentication
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.8.3" data-path="Administration/Sharding/FirewallSetup.html">
            
                
                    <a href="../Administration/Sharding/FirewallSetup.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.8.3.</b>
                        
                        Firewall setup
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10" data-path="Troubleshooting/index.html">
            
                
                    <a href="../Troubleshooting/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        Troubleshooting
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1" data-path="Troubleshooting/EmergencyConsole.html">
            
                
                    <a href="../Troubleshooting/EmergencyConsole.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.1.</b>
                        
                        Emergency Console
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.2" data-path="Troubleshooting/DatafileDebugger.html">
            
                
                    <a href="../Troubleshooting/DatafileDebugger.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.2.</b>
                        
                        Datafile Debugger
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.3" data-path="Troubleshooting/Arangobench.html">
            
                
                    <a href="../Troubleshooting/Arangobench.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.3.</b>
                        
                        Arangobench
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="11" data-path="Architecture/index.html">
            
                
                    <a href="../Architecture/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        Architecture
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="11.1" data-path="Architecture/WriteAheadLog.html">
            
                
                    <a href="../Architecture/WriteAheadLog.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.1.</b>
                        
                        Write-ahead log
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="11.2" data-path="Architecture/ServerInternals.html">
            
                
                    <a href="../Architecture/ServerInternals.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.2.</b>
                        
                        Server Internals
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="12" data-path="ReleaseNotes/index.html">
            
                
                    <a href="../ReleaseNotes/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        Release notes
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="12.1" data-path="ReleaseNotes/NewFeatures30.html">
            
                
                    <a href="../ReleaseNotes/NewFeatures30.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.1.</b>
                        
                        Whats New in 3.0
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.2" data-path="ReleaseNotes/NewFeatures28.html">
            
                
                    <a href="../ReleaseNotes/NewFeatures28.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.2.</b>
                        
                        Whats New in 2.8
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.3" data-path="ReleaseNotes/NewFeatures27.html">
            
                
                    <a href="../ReleaseNotes/NewFeatures27.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.3.</b>
                        
                        Whats New in 2.7
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.4" data-path="ReleaseNotes/NewFeatures26.html">
            
                
                    <a href="../ReleaseNotes/NewFeatures26.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.4.</b>
                        
                        Whats New in 2.6
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.5" data-path="ReleaseNotes/NewFeatures25.html">
            
                
                    <a href="../ReleaseNotes/NewFeatures25.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.5.</b>
                        
                        Whats New in 2.5
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.6" data-path="ReleaseNotes/NewFeatures24.html">
            
                
                    <a href="../ReleaseNotes/NewFeatures24.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.6.</b>
                        
                        Whats New in 2.4
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.7" data-path="ReleaseNotes/NewFeatures23.html">
            
                
                    <a href="../ReleaseNotes/NewFeatures23.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.7.</b>
                        
                        Whats New in 2.3
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.8" data-path="ReleaseNotes/NewFeatures22.html">
            
                
                    <a href="../ReleaseNotes/NewFeatures22.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.8.</b>
                        
                        Whats New in 2.2
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.9" data-path="ReleaseNotes/NewFeatures21.html">
            
                
                    <a href="../ReleaseNotes/NewFeatures21.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.9.</b>
                        
                        Whats New in 2.1
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="12.10" data-path="ReleaseNotes/UpgradingChanges30.html">
            
                
                    <a href="../ReleaseNotes/UpgradingChanges30.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.10.</b>
                        
                        Incompatible changes in 3.0
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.11" data-path="ReleaseNotes/UpgradingChanges28.html">
            
                
                    <a href="../ReleaseNotes/UpgradingChanges28.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.11.</b>
                        
                        Incompatible changes in 2.8
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.12" data-path="ReleaseNotes/UpgradingChanges27.html">
            
                
                    <a href="../ReleaseNotes/UpgradingChanges27.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.12.</b>
                        
                        Incompatible changes in 2.7
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.13" data-path="ReleaseNotes/UpgradingChanges26.html">
            
                
                    <a href="../ReleaseNotes/UpgradingChanges26.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.13.</b>
                        
                        Incompatible changes in 2.6
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.14" data-path="ReleaseNotes/UpgradingChanges25.html">
            
                
                    <a href="../ReleaseNotes/UpgradingChanges25.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.14.</b>
                        
                        Incompatible changes in 2.5
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.15" data-path="ReleaseNotes/UpgradingChanges24.html">
            
                
                    <a href="../ReleaseNotes/UpgradingChanges24.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.15.</b>
                        
                        Incompatible changes in 2.4
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.16" data-path="ReleaseNotes/UpgradingChanges23.html">
            
                
                    <a href="../ReleaseNotes/UpgradingChanges23.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.16.</b>
                        
                        Incompatible changes in 2.3
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="13" data-path="Appendix/index.html">
            
                
                    <a href="../Appendix/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Appendix
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="13.1" data-path="Appendix/JavaScriptModules/index.html">
            
                
                    <a href="../Appendix/JavaScriptModules/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.1.</b>
                        
                        JavaScript Modules
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="13.1.1" data-path="Appendix/JavaScriptModules/Console.html">
            
                
                    <a href="../Appendix/JavaScriptModules/Console.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.1.1.</b>
                        
                        &quot;console&quot;
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.1.2" data-path="Appendix/JavaScriptModules/FS.html">
            
                
                    <a href="../Appendix/JavaScriptModules/FS.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.1.2.</b>
                        
                        &quot;fs&quot;
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.1.3" data-path="Appendix/JavaScriptModules/Process.html">
            
                
                    <a href="../Appendix/JavaScriptModules/Process.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.1.3.</b>
                        
                        &quot;process&quot;
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.1.4" data-path="Appendix/JavaScriptModules/Request.html">
            
                
                    <a href="../Appendix/JavaScriptModules/Request.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.1.4.</b>
                        
                        &quot;request&quot;
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.1.5" data-path="Appendix/JavaScriptModules/Actions.html">
            
                
                    <a href="../Appendix/JavaScriptModules/Actions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.1.5.</b>
                        
                        &quot;actions&quot;
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.1.6" data-path="Appendix/JavaScriptModules/Queries.html">
            
                
                    <a href="../Appendix/JavaScriptModules/Queries.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.1.6.</b>
                        
                        &quot;queries&quot;
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.1.7" data-path="Appendix/JavaScriptModules/WAL.html">
            
                
                    <a href="../Appendix/JavaScriptModules/WAL.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.1.7.</b>
                        
                        Write-ahead log
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.1.8" data-path="Appendix/JavaScriptModules/Tasks.html">
            
                
                    <a href="../Appendix/JavaScriptModules/Tasks.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.1.8.</b>
                        
                        Task Management
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="13.2" data-path="Appendix/Deprecated/index.html">
            
                
                    <a href="../Appendix/Deprecated/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.2.</b>
                        
                        Deprecated
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="13.2.1" data-path="Appendix/Deprecated/SimpleQueries/index.html">
            
                
                    <a href="../Appendix/Deprecated/SimpleQueries/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.2.1.</b>
                        
                        Simple Queries
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="13.2.1.1" data-path="Appendix/Deprecated/SimpleQueries/Access.html">
            
                
                    <a href="../Appendix/Deprecated/SimpleQueries/Access.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.2.1.1.</b>
                        
                        Sequential Access
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.2.1.2" data-path="Appendix/Deprecated/SimpleQueries/Pagination.html">
            
                
                    <a href="../Appendix/Deprecated/SimpleQueries/Pagination.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.2.1.2.</b>
                        
                        Pagination
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.2.1.3" data-path="Appendix/Deprecated/SimpleQueries/ModificationQueries.html">
            
                
                    <a href="../Appendix/Deprecated/SimpleQueries/ModificationQueries.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.2.1.3.</b>
                        
                        Modification Queries
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.2.1.4" data-path="Appendix/Deprecated/SimpleQueriesGeoQueries.html">
            
                
                    <a href="../Appendix/Deprecated/SimpleQueriesGeoQueries.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.2.1.4.</b>
                        
                        Geo Queries
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.2.1.5" data-path="Appendix/Deprecated/SimpleQueries/FulltextQueries.html">
            
                
                    <a href="../Appendix/Deprecated/SimpleQueries/FulltextQueries.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.2.1.5.</b>
                        
                        Fulltext Queries
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="13.2.2" data-path="Appendix/Deprecated/Actions/index.html">
            
                
                    <a href="../Appendix/Deprecated/Actions/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.2.2.</b>
                        
                        Actions
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="13.2.2.1" data-path="Appendix/Deprecated/Actions/HtmlExample.html">
            
                
                    <a href="../Appendix/Deprecated/Actions/HtmlExample.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.2.2.1.</b>
                        
                        Delivering HTML Pages
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.2.2.2" data-path="Appendix/Deprecated/Actions/JsonExample.html">
            
                
                    <a href="../Appendix/Deprecated/Actions/JsonExample.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.2.2.2.</b>
                        
                        Json Objects
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.2.2.3" data-path="Appendix/Deprecated/Actions/Modifying.html">
            
                
                    <a href="../Appendix/Deprecated/Actions/Modifying.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.2.2.3.</b>
                        
                        Modifying
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="13.3" data-path="Appendix/ErrorCodes.html">
            
                
                    <a href="../Appendix/ErrorCodes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.3.</b>
                        
                        Error codes and meanings
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.4" data-path="Appendix/Glossary.html">
            
                
                    <a href="../Appendix/Glossary.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.4.</b>
                        
                        Glossary
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >ArangoDB v3.0.x-devel (2016-06-02) Documentation</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <p><a name="incompatible_changes_in_arangodb_3.0"></a></p>
<h1 id="incompatible-changes-in-arangodb-30">Incompatible changes in ArangoDB 3.0</h1>
<p>It is recommended to check the following list of incompatible changes <strong>before</strong>
upgrading to ArangoDB 3.0, and adjust any client programs if necessary.</p>
<p><a name="build_system"></a></p>
<h2 id="build-system">Build system</h2>
<p>Building ArangoDB 3.0 from source now requires CMake.</p>
<p>The pre-3.0 build system used a configure-based approach. The steps to build
ArangoDB from source code in 2.8 were:</p>
<pre><code>make setup
./configure &lt;options&gt;
make
</code></pre><p>These steps will not work anymore, as ArangoDB 3.0 does not come with a
configure script.</p>
<p>To build 3.0 on Linux, create a separate build directory first:</p>
<pre><code>mkdir -p build
</code></pre><p>and then create the initial build scripts once using CMake:</p>
<pre><code>(cd build &amp;&amp; cmake &lt;options&gt; ..)
</code></pre><p>The above command will configure the build and check for the required
dependencies. If everything works well the actual build can be started with</p>
<pre><code>(cd build &amp;&amp; make)
</code></pre><p>The binaries for the ArangoDB server and all client tools will then be created
inside the <code>build</code> directory. To start ArangoDB locally from the <code>build</code> directory,
use</p>
<pre><code>build/bin/arangod &lt;options&gt;
</code></pre><p><a name="datafiles_and_datafile_names"></a></p>
<h2 id="datafiles-and-datafile-names">Datafiles and datafile names</h2>
<p>ArangoDB 3.0 uses a new VelocyPack-based format for storing data in WAL logfiles
and collection datafiles. The file format is not compatible with the files used
in prior versions of ArangoDB. That means datafiles written by ArangoDB 3.0 cannot be
used in earlier versions and vice versa.</p>
<p>The pattern for collection directory names was changed in 3.0 to include a random 
id component at the end. The new pattern is <code>collection-&lt;id&gt;-&lt;random&gt;</code>, where <code>&lt;id&gt;</code> 
is the collection id and <code>&lt;random&gt;</code> is a random number. Previous versions of ArangoDB 
used a pattern <code>collection-&lt;id&gt;</code> without the random number.</p>
<p><a name="edges_and_edges_attributes"></a></p>
<h2 id="edges-and-edges-attributes">Edges and edges attributes</h2>
<p>In ArangoDB prior to 3.0 the attributes <code>_from</code> and <code>_to</code> of edges were treated
specially when loading or storing edges. That special handling led to these attributes
being not as flexible as regular document attributes. For example, the <code>_from</code> and 
<code>_to</code> attribute values of an existing edge could not be updated once the edge was
created. Additionally, the <code>_from</code> and <code>_to</code> attributes could not be indexed in
user-defined indexes, e.g. to make each combination of <code>_from</code> and <code>_to</code> unique.
Finally, as <code>_from</code> and <code>_to</code> referenced the linked collections by collection id
and not by collection name, their meaning became unclear once a referenced collection 
was dropped. The collection id stored in edges then became unusable, and when
accessing such edge the collection name part of it was always translated to <code>_undefined</code>.</p>
<p>In ArangoDB 3.0, the <code>_from</code> and <code>_to</code> values of edges are saved as regular strings.
This allows using <code>_from</code> and <code>_to</code> in user-defined indexes. Additionally this allows
updating the <code>_from</code> and <code>_to</code> values of existing edges. Furthermore, collections
referenced by <code>_from</code> and <code>_to</code> values may be dropped and re-created later. Any
<code>_from</code> and <code>_to</code> values of edges pointing to such dropped collection are unaffected
by the drop operation now. Also note that renaming the collection referenced in
<code>_from</code> and <code>_to</code> in ArangoDB 2.8 also relinked the edges. In 3.0 the edges are NOT
automatically relinked to the new collection anymore.</p>
<p><a name="documents"></a></p>
<h2 id="documents">Documents</h2>
<p>Documents (in contrast to edges) cannot contain the attributes <code>_from</code> or <code>_to</code> on the
main level in ArangoDB 3.0. These attributes will be automatically removed when saving
documents (i.e. non-edges). <code>_from</code> and <code>_to</code> can be still used in sub-objects inside
documents.</p>
<p>The <code>_from</code> and <code>_to</code> attributes will of course be preserved and are still required when 
saving edges.</p>
<p><a name="aql"></a></p>
<h2 id="aql">AQL</h2>
<p><a name="edges_handling"></a></p>
<h3 id="edges-handling">Edges handling</h3>
<p>When updating or replacing edges via AQL, any modifications to the <code>_from</code> and <code>_to</code>
attributes of edges were ignored by previous versions of ArangoDB, without signaling
any errors. This was due to the <code>_from</code> and <code>_to</code> attributes being immutable in earlier
versions of ArangoDB.</p>
<p>From 3.0 on, the <code>_from</code> and <code>_to</code> attributes of edges are mutable, so any AQL queries that
modify the <code>_from</code> or <code>_to</code> attribute values of edges will attempt to actually change these
attributes. Clients should be aware of this change and should review their queries that
modify edges to rule out unintended side-effects.</p>
<p>Additionally, when completely replacing the data of existing edges via the AQL <code>REPLACE</code>
operation, it is now required to specify values for the <code>_from</code> and <code>_to</code> attributes,
as <code>REPLACE</code> requires the entire new document to be specified. If either <code>_from</code> or <code>_to</code>
are missing from the replacement document, an <code>REPLACE</code> operation will fail.</p>
<p><a name="typecasting_functions"></a></p>
<h3 id="typecasting-functions">Typecasting functions</h3>
<p>The type casting applied by the <code>TO_NUMBER()</code> AQL function has changed as follows:</p>
<ul>
<li>string values that do not contain a valid numeric value are now converted to the number
<code>0</code>. In previous versions of ArangoDB such string values were converted to the value
<code>null</code>.</li>
<li>array values with more than 1 member are now converted to the number <code>0</code>. In previous
versions of ArangoDB such arrays were converted to the value <code>null</code>.</li>
<li>objects / documents are now converted to the number <code>0</code>. In previous versions of ArangoDB
objects / documents were converted to the value <code>null</code>.</li>
</ul>
<p>Additionally, the <code>TO_STRING()</code> AQL function now converts <code>null</code> values into an empty string
(<code>&quot;&quot;</code>) instead of the string <code>&quot;null&quot;</code>, which is more in line with <code>LENGTH(null)</code> returning
<code>0</code> and not <code>4</code> since v2.6.</p>
<p>The output of <code>TO_STRING()</code> has also changed for arrays and objects as follows:</p>
<ul>
<li><p>arrays are now converted into their JSON-stringify equivalents, e.g.</p>
<ul>
<li><code>[ ]</code> is now converted to <code>[]</code></li>
<li><code>[ 1, 2, 3 ]</code> is now converted to <code>[1,2,3]</code></li>
<li><code>[ &quot;test&quot;, 1, 2 ] is now converted to</code>[&quot;test&quot;,1,2]`</li>
</ul>
<p>Previous versions of ArangoDB converted arrays with no members into the
empty string, and non-empty arrays into a comma-separated list of member
values, without the surrounding angular brackets. Additionally, string
array members were not enclosed in quotes in the result string:</p>
<ul>
<li><code>[ ]</code> was converted to ``</li>
<li><code>[ 1, 2, 3 ]</code> was converted to <code>1,2,3</code></li>
<li><code>[ &quot;test&quot;, 1, 2 ] was converted to</code>test,1,2`</li>
</ul>
</li>
<li><p>objects are now converted to their JSON-stringify equivalents, e.g.</p>
<ul>
<li><code>{ }</code> is converted to <code>{}</code></li>
<li><code>{ a: 1, b: 2 }</code> is converted to <code>{&quot;a&quot;:1,&quot;b&quot;:2}</code></li>
<li><code>{ &quot;test&quot; : &quot;foobar&quot; }</code> is converted to <code>{&quot;test&quot;:&quot;foobar&quot;}</code></li>
</ul>
<p>Previous versions of ArangoDB always converted objects into the string
<code>[object Object]</code>  </p>
</li>
</ul>
<p>This change also affects other parts in AQL that used <code>TO_STRING()</code> to implicitly
cast operands to strings. It also affects the AQL functions <code>CONCAT()</code> and 
<code>CONCAT_SEPARATOR()</code> which treated array values differently. Previous versions
of ArangoDB automatically flattened array values in the first level of the array, 
e.g. <code>CONCAT([1, 2, 3, [ 4, 5, 6 ]])</code> produced <code>1,2,3,4,5,6</code>. Now this will produce
<code>[1,2,3,[4,5,6]]</code>. To flatten array members on the top level, you can now use
the more explicit <code>CONCAT(FLATTEN([1, 2, 3, [4, 5, 6]], 1))</code>.</p>
<p><a name="arithmetic_operators"></a></p>
<h3 id="arithmetic-operators">Arithmetic operators</h3>
<p>As the arithmetic operations in AQL implicitly convert their operands to numeric values using 
<code>TO_NUMBER()</code>, their casting behavior has also changed as described above.</p>
<p>Some examples of the changed behavior:</p>
<ul>
<li><code>&quot;foo&quot; + 1</code> produces <code>1</code> now. In previous versions this produced <code>null</code>.</li>
<li><code>[ 1, 2 ] + 1</code> produces <code>1</code>. In previous versions this produced <code>null</code>.</li>
<li><code>1 + &quot;foo&quot; + 1&#xB4; produces</code>2<code>now. In previous version this produced</code>1`.</li>
</ul>
<p><a name="attribute_names_and_parameters"></a></p>
<h3 id="attribute-names-and-parameters">Attribute names and parameters</h3>
<p>Previous versions of ArangoDB had some trouble with attribute names that contained the dot
symbol (<code>.</code>). Some code parts in AQL used the dot symbol to split an attribute name into
sub-components, so an attribute named <code>a.b</code> was not completely distinguishable from an
attribute <code>a</code> with a sub-attribute <code>b</code>. This inconsistent behavior sometimes allowed &quot;hacks&quot;
to work such as passing sub-attributes in a bind parameter as follows:</p>
<pre><code>FOR doc IN collection
  FILTER doc.@name == 1
  RETURN doc
</code></pre><p>If the bind parameter <code>@name</code> contained the dot symbol (e.g. <code>@bind</code> = <code>a.b</code>, it was unclear 
whether this should trigger sub-attribute access (i.e. <code>doc.a.b</code>) or a access to an attribute 
with exactly the specified name (i.e. <code>doc[&quot;a.b&quot;]</code>).</p>
<p>ArangoDB 3.0 now handles attribute names containing the dot symbol properly, and sending a
bind parameter <code>@name</code> = <code>a.b</code> will now always trigger an access to the attribute <code>doc[&quot;a.b&quot;]</code>,
not the sub-attribute <code>b</code> of <code>a</code> in <code>doc</code>.</p>
<p>For users that used the &quot;hack&quot; of passing bind parameters containing dot symbol to access
sub-attributes, ArangoDB 3.0 allows specifying the attribute name parts as an array of strings,
e.g. <code>@name</code> = <code>[ &quot;a&quot;, &quot;b&quot; ]</code>, which will be resolved to the sub-attribute access <code>doc.a.b</code> 
when the query is executed.</p>
<p><a name="keywords"></a></p>
<h3 id="keywords">Keywords</h3>
<p><code>LIKE</code> is now a keyword in AQL. Using <code>LIKE</code> in either case as an attribute or collection 
name in AQL queries now requires quoting.</p>
<p><a name="subqueries"></a></p>
<h3 id="subqueries">Subqueries</h3>
<p>Queries that contain subqueries that contain data-modification operations such as <code>INSERT</code>, 
<code>UPDATE</code>, <code>REPLACE</code>, <code>UPSERT</code> or <code>REMOVE</code> will now refuse to execute if the collection
affected by the subquery&apos;s data-modification operation is read-accessed in an outer scope 
of the query.</p>
<p>For example, the following query will refuse to execute as the collection <code>myCollection</code>
is modified in the subquery but also read-accessed in the outer scope:</p>
<pre><code>FOR doc IN myCollection
  LET changes = (
    FOR what IN myCollection
      FILTER what.value == 1
      REMOVE what IN myCollection
  )
  RETURN doc
</code></pre><p>It is still possible to write to collections from which data is read in the same query,
e.g.</p>
<pre><code>FOR doc IN myCollection
  FILTER doc.value == 1
  REMOVE doc IN myCollection
</code></pre><p>and to modify data in different collection via subqueries.</p>
<p><a name="other_changes"></a></p>
<h3 id="other-changes">Other changes</h3>
<p>The AQL optimizer rule &quot;merge-traversal-filter&quot; that already existed in 3.0 was renamed to 
&quot;optimize-traversals&quot;. This should be of no relevance to client applications except if 
they programatically look for applied optimizer rules in the explain out of AQL queries.</p>
<p>The order of results created by the AQL functions <code>VALUES()</code> and <code>ATTRIBUTES()</code> was never 
guaranteed and it only had the &quot;correct&quot; ordering by accident when iterating over objects 
that were not loaded from the database. As some of the function internals have changed, the
&quot;correct&quot; ordering will not appear anymore, and still no result order is guaranteed by
these functions unless the <code>sort</code> parameter is specified (for the <code>ATTRIBUTES()</code> function).</p>
<p><a name="upgraded_v8_version"></a></p>
<h2 id="upgraded-v8-version">Upgraded V8 version</h2>
<p>The V8 engine that is used inside ArangoDB to execute JavaScript code has been upgraded from
version 4.3.61 to 5.0.71.39. The new version should be mostly compatible to the old version,
but there may be subtle differences, including changes of error message texts thrown by the
engine.
Furthermore, some V8 startup parameters have changed their meaning or have been removed in
the new version. This is only relevant when ArangoDB or ArangoShell are started with a custom
value for the <code>--javascript.v8-options</code> startup option.</p>
<p>Among others, the following V8 options change in the new version of ArangoDB:</p>
<ul>
<li><p><code>--es_staging</code>: in 2.8 it had the meaning <code>enable all completed harmony features</code>, in 3.0 
the option means <code>enable test-worthy harmony features (for internal use only)</code></p>
</li>
<li><p><code>--strong_this</code>: this option wasn&apos;t present in 2.8. In 3.0 it means <code>don&apos;t allow &apos;this&apos; to
escape from constructors</code> and defaults to true.</p>
</li>
<li><p><code>--harmony_regexps</code>: this options means <code>enable &quot;harmony regular expression extensions&quot;</code> 
and changes its default value from false to true</p>
</li>
<li><p><code>--harmony_proxies</code>: this options means <code>enable &quot;harmony proxies&quot;</code> and changes its default 
 value from false to true</p>
</li>
<li><p><code>--harmony_reflect</code>: this options means <code>enable &quot;harmony Reflect API&quot;</code> and changes its 
default value from false to true</p>
</li>
<li><p><code>--harmony_sloppy</code>: this options means <code>enable &quot;harmony features in sloppy mode&quot;</code> and 
changes its default value from false to true</p>
</li>
<li><p><code>--harmony_tostring</code>: this options means <code>enable &quot;harmony toString&quot;</code> and changes its 
default value from false to true</p>
</li>
<li><p><code>--harmony_unicode_regexps</code>: this options means <code>enable &quot;harmony unicode regexps&quot;</code> and 
changes its default value from false to true</p>
</li>
<li><p><code>--harmony_arrays</code>, <code>--harmony_array_includes</code>, <code>--harmony_computed_property_names</code>, 
<code>--harmony_arrow_functions</code>, <code>--harmony_rest_parameters</code>, <code>--harmony_classes</code>, 
<code>--harmony_object_literals</code>, <code>--harmony_numeric_literals</code>, <code>--harmony_unicode</code>:
 these option have been removed in V8 5.</p>
</li>
</ul>
<p>As a consequence of the upgrade to V8 version 5, the implementation of the
JavaScript <code>Buffer</code> object had to be changed. JavaScript <code>Buffer</code> objects in
ArangoDB now always store their data on the heap. There is no shared pool
for small Buffer values, and no pointing into existing Buffer data when
extracting slices. This change may increase the cost of creating Buffers with
short contents or when peeking into existing Buffers, but was required for
safer memory management and to prevent leaks.</p>
<p><a name="javascript_api_changes"></a></p>
<h2 id="javascript-api-changes">JavaScript API changes</h2>
<p>The following incompatible changes have been made to the JavaScript API in ArangoDB 3.0:</p>
<p><a name="foxx"></a></p>
<h3 id="foxx">Foxx</h3>
<p>The Foxx framework has been completely rewritten for 3.0 with a new, simpler and more 
familiar API. To make Foxx services developed for 2.8 or earlier ArangoDB versions run in 3.0, the service&apos;s manifest file needs to be edited.</p>
<p>To enable the legacy mode for a Foxx service, add <code>&quot;engines&quot;: {&quot;arangodb&quot;: &quot;^2.8.0&quot;}</code> 
(or similar version ranges that exclude 3.0 and up) to the service manifest file
(named &quot;manifest.json&quot;, located in the service&apos;s base directory).</p>
<p><a name="require"></a></p>
<h3 id="require">Require</h3>
<p>Modules shipped with ArangoDB can now be required using the pattern <code>@arangodb/&lt;module&gt;</code>
instead of <code>org/arangodb/&lt;module&gt;</code>, e.g.</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> cluster = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@arangodb/cluster&quot;</span>);
</code></pre>
<p>The old format can still be used for compatibility:</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> cluster = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;org/arangodb/cluster&quot;</span>);
</code></pre>
<p>ArangoDB prior to version 3.0 allowed a transparent use of CoffeeScript
source files with the <code>require()</code> function. Files with a file name extension
of <code>coffee</code> were automatically sent through a CoffeeScript parser and
transpiled into JavaScript on-the-fly. This support is gone with ArangoDB
3.0. To run any CoffeeScript source files, they must be converted to JavaScript
by the client application.</p>
<p><a name="response_object"></a></p>
<h3 id="response-object">Response object</h3>
<p>The <code>@arangodb/request</code> response object now stores the parsed JSON response
body in a property <code>json</code> instead of <code>body</code> when the request was made using the
<code>json</code> option. The <code>body</code> instead contains the response body as a string.</p>
<p><a name="edges_api"></a></p>
<h3 id="edges-api">Edges API</h3>
<p>When completely replacing an edge via a collection&apos;s <code>replace()</code> function the replacing 
edge data now needs to contain the <code>_from</code> and <code>_to</code> attributes for the new edge. Previous
versions of ArangoDB did not require the edge data to contain <code>_from</code> and <code>_to</code> attributes
when replacing an edge, since <code>_from</code> and <code>_to</code> values were immutable for existing edges.</p>
<p>For example, the following call worked in ArangoDB 2.8 but will fail in 3.0:</p>
<pre><code class="lang-js">db.edgeCollection.replace(<span class="hljs-string">&quot;myKey&quot;</span>, { value: <span class="hljs-string">&quot;test&quot;</span> });
</code></pre>
<p>To make this work in ArangoDB 3.0, <code>_from</code> and <code>_to</code> need to be added to the replacement
data:</p>
<pre><code class="lang-js">db.edgeCollection.replace(<span class="hljs-string">&quot;myKey&quot;</span>, { _from: <span class="hljs-string">&quot;myVertexCollection/1&quot;</span>, _to: <span class="hljs-string">&quot;myVertexCollection/2&quot;</span>, value: <span class="hljs-string">&quot;test&quot;</span> });
</code></pre>
<p>Note that this only affects the <code>replace()</code> function but not <code>update()</code>, which will
only update the specified attributes of the edge and leave all others intact.</p>
<p>Additionally, the functions <code>edges()</code>, <code>outEdges()</code> and <code>inEdges()</code> with an array of edge 
ids will now make the edge ids unique before returning the connected edges. This is probably 
desired anyway, as results will be returned only once per distinct input edge id. However, 
it may break client applications that rely on the old behavior.</p>
<p><a name="databases_api"></a></p>
<h3 id="databases-api">Databases API</h3>
<p>The <code>_listDatabases()</code> function of the <code>db</code> object has been renamed to <code>_databases()</code>, making it 
consistent with the <code>_collections()</code> function. Also the <code>_listEndpoints()</code> function has been 
renamed to <code>_endpoints()</code>.</p>
<p><a name="collection_api"></a></p>
<h3 id="collection-api">Collection API</h3>
<p><a name="example_matching"></a></p>
<h4 id="example-matching">Example matching</h4>
<p>The collection function <code>byExampleHash()</code> and <code>byExampleSkiplist()</code> have been removed in 3.0.
Their functionality is provided by collection&apos;s <code>byExample()</code> function, which will automatically
use a suitable index if present.</p>
<p>The collection function <code>byConditionSkiplist()</code> has been removed in 3.0. The same functionality
can be achieved by issuing an AQL query with the target condition, which will automatically use
a suitable index if present.</p>
<p><a name="revision_id_handling"></a></p>
<h4 id="revision-id-handling">Revision id handling</h4>
<p>The <code>exists()</code> method of a collection now throws an exception when the specified document
exists but its revision id does not match the revision id specified. Previous versions of
ArangoDB simply returned <code>false</code> if either no document existed with the specified key or
when the revision id did not match. It was therefore impossible to distinguish these two
cases from the return value alone. 3.0 corrects this. Additionally, <code>exists()</code> in previous
versions always returned a boolean if only the document key was given. 3.0 now returns the
document&apos;s meta-data, which includes the document&apos;s current revision id.</p>
<p>Given there is a document with key <code>test</code> in collection <code>myCollection</code>, then the behavior
of 3.0 is as follows:</p>
<pre><code class="lang-js"><span class="hljs-comment">/* test if document exists. this returned true in 2.8 */</span>
db.myCollection.exists(<span class="hljs-string">&quot;test&quot;</span>);
{
  <span class="hljs-string">&quot;_key&quot;</span> : <span class="hljs-string">&quot;test&quot;</span>,
  <span class="hljs-string">&quot;_id&quot;</span> : <span class="hljs-string">&quot;myCollection/test&quot;</span>,
  <span class="hljs-string">&quot;_rev&quot;</span> : <span class="hljs-string">&quot;9758059&quot;</span>
}

<span class="hljs-comment">/* test if document exists. this returned true in 2.8 */</span>
db.myCollection.exists({ _key: <span class="hljs-string">&quot;test&quot;</span> });
{
  <span class="hljs-string">&quot;_key&quot;</span> : <span class="hljs-string">&quot;test&quot;</span>,
  <span class="hljs-string">&quot;_id&quot;</span> : <span class="hljs-string">&quot;myCollection/test&quot;</span>,
  <span class="hljs-string">&quot;_rev&quot;</span> : <span class="hljs-string">&quot;9758059&quot;</span>
}

<span class="hljs-comment">/* test if document exists. this also returned false in 2.8 */</span>
db.myCollection.exists(<span class="hljs-string">&quot;foo&quot;</span>);
<span class="hljs-literal">false</span>

<span class="hljs-comment">/* test if document with a given revision id exists. this returned true in 2.8 */</span>
db.myCollection.exists({ _key: <span class="hljs-string">&quot;test&quot;</span>, _rev: <span class="hljs-string">&quot;9758059&quot;</span> });
{
  <span class="hljs-string">&quot;_key&quot;</span> : <span class="hljs-string">&quot;test&quot;</span>,
  <span class="hljs-string">&quot;_id&quot;</span> : <span class="hljs-string">&quot;myCollection/test&quot;</span>,
  <span class="hljs-string">&quot;_rev&quot;</span> : <span class="hljs-string">&quot;9758059&quot;</span>
}

<span class="hljs-comment">/* test if document with a given revision id exists. this returned false in 2.8 */</span>
db.myCollection.exists({ _key: <span class="hljs-string">&quot;test&quot;</span>, _rev: <span class="hljs-string">&quot;1234&quot;</span> });
JavaScript exception: ArangoError <span class="hljs-number">1200</span>: conflict
</code></pre>
<p><a name="cap_constraints"></a></p>
<h4 id="cap-constraints">Cap constraints</h4>
<p>The cap constraints feature has been removed. This change has led to the removal of the
collection operations <code>first()</code> and <code>last()</code>, which were internally based on data from 
cap constraints.</p>
<p>As cap constraints have been removed in ArangoDB 3.0 it is not possible to create an
index of type &quot;cap&quot; with a collection&apos;s <code>ensureIndex()</code> function. The dedicated function
<code>ensureCapConstraint()</code> has also been removed from the collection API.</p>
<p><a name="undocumented_apis"></a></p>
<h4 id="undocumented-apis">Undocumented APIs</h4>
<p>The undocumented functions <code>BY_EXAMPLE_HASH()</code> and <code>BY_EXAMPLE_SKIPLIST()</code> and
<code>BY_CONDITION_SKIPLIST</code> have been removed. These functions were always hidden and not 
intended to be part of the public JavaScript API for collections.</p>
<p><a name="http_api_changes"></a></p>
<h2 id="http-api-changes">HTTP API changes</h2>
<p><a name="crud_operations"></a></p>
<h3 id="crud-operations">CRUD operations</h3>
<p>The following incompatible changes have been made to the HTTP API in ArangoDB 3.0:</p>
<p><a name="general"></a></p>
<h4 id="general">General</h4>
<p>The HTTP insert operations for single documents and edges (POST <code>/_api/document</code>) do 
not support the URL parameter &quot;createCollection&quot; anymore. In previous versions of
ArangoDB this parameter could be used to automatically create a collection upon
insertion of the first document. It is now required that the target collection already
exists when using this API, otherwise it will return an HTTP 404 error.
The same is true for the import API at POST <code>/_api/import</code>.</p>
<p>Collections can still be created easily via a separate call to POST <code>/_api/collection</code>
as before.</p>
<p>The &quot;location&quot; HTTP header returned by ArangoDB when inserting a new document or edge
now always contains the database name. This was also the default behavior in previous
versions of ArangoDB, but it could be overridden by clients sending the HTTP header
<code>x-arango-version: 1.4</code> in the request. Clients can continue to send this header to
ArangoDB 3.0, but the header will not influence the location response headers produced 
by ArangoDB 3.0 anymore.</p>
<p>Additionally the CRUD operations APIs do not return an attribute &quot;error&quot; in the
response body with an attribute value of &quot;false&quot; in case an operation succeeded.</p>
<p><a name="revision_id_handling"></a></p>
<h4 id="revision-id-handling">Revision id handling</h4>
<p>The operations for updating, replacing and removing documents can optionally check the
revision number of the document to be updated, replaced or removed so the caller can
ensure the operation works on a specific version of the document and there are no
lost updates.</p>
<p>Previous versions of ArangoDB allowed passing the revision id of the previous document
either in the HTTP header <code>If-Match</code> or in the URL parameter <code>rev</code>. For example, 
removing a document with a specific revision id could be achieved as follows:</p>
<pre><code>curl -X DELETE \
     &quot;http://127.0.0.1:8529/_api/document/myCollection/myKey?rev=123&quot;
</code></pre><p>ArangoDB 3.0 does not support passing the revision id via the &quot;rev&quot; URL parameter
anymore. Instead the previous revision id must be passed in the HTTP header <code>If-Match</code>,
e.g.</p>
<pre><code>curl -X DELETE \
     --header &quot;If-Match: &apos;123&apos;&quot; \
     &quot;http://127.0.0.1:8529/_api/document/myCollection/myKey&quot;
</code></pre><p>The URL parameter &quot;policy&quot; was also usable in previous versions of ArangoDB to
control revision handling. Using it was redundant to specifying the expected revision
id via the &quot;rev&quot; parameter or &quot;If-Match&quot; HTTP header and therefore support for the &quot;policy&quot;
parameter was removed in 3.0.</p>
<p>In order to check for a previous revision id when updating, replacing or removing 
documents please use the <code>If-Match</code> HTTP header as described above. When no revision
check if required the HTTP header can be omitted, and the operations will work on the
current revision of the document, regardless of its revision id.</p>
<p><a name="all_documents_api"></a></p>
<h3 id="all-documents-api">All documents API</h3>
<p>The HTTP API for retrieving the ids, keys or URLs of all documents from a collection
was previously located at GET <code>/_api/document?collection=...</code>. This API was moved to
PUT <code>/_api/simple/all-keys</code> and is now executed as an AQL query.
The name of the collection must now be passed in the HTTP request body instead of in
the request URL. The same is true for the &quot;type&quot; parameter, which controls the type of
the result to be created.</p>
<p>Calls to the previous API can be translated as follows:</p>
<ul>
<li>old: GET <code>/_api/document?collection=&lt;collection&gt;&amp;type=&lt;type&gt;</code> without HTTP request body</li>
<li>3.0: PUT <code>/_api/simple/all-keys</code> with HTTP request body <code>{&quot;collection&quot;:&quot;&lt;collection&gt;&quot;,&quot;type&quot;:&quot;id&quot;}</code></li>
</ul>
<p>The result format of this API has also changed slightly. In previous versions calls to
the API returned a JSON object with a <code>documents</code> attribute. As the functionality is
based on AQL internally in 3.0, the API now returns a JSON object with a <code>result</code> attribute.</p>
<p><a name="edges_api"></a></p>
<h3 id="edges-api">Edges API</h3>
<p><a name="crud_operations"></a></p>
<h4 id="crud-operations">CRUD operations</h4>
<p>The API for documents and edges have been unified in ArangoDB 3.0. The CRUD operations 
for documents and edges are now handled by the same endpoint at <code>/_api/document</code>. For 
CRUD operations there is no distinction anymore between documents and edges API-wise.</p>
<p>That means CRUD operations concerning edges need to be sent to the HTTP endpoint 
<code>/_api/document</code> instead of <code>/_api/edge</code>. Sending requests to <code>/_api/edge</code> will
result in an HTTP 404 error in 3.0. The following methods are available at
<code>/_api/document</code> for documents and edge:</p>
<ul>
<li>HTTP POST: insert new document or edge</li>
<li>HTTP GET: fetch an existing document or edge</li>
<li>HTTP PUT: replace an existing document or edge</li>
<li>HTTP PATCH: partially update an existing document or edge</li>
<li>HTTP DELETE: remove an existing document or edge</li>
</ul>
<p>When completely replacing an edge via HTTP PUT please note that the replacing edge
data now needs to contain the <code>_from</code> and <code>_to</code> attributes for the edge. Previous
versions of ArangoDB did not require sending <code>_from</code> and <code>_to</code> when replacing edges, 
as <code>_from</code> and <code>_to</code> values were immutable for existing edges.</p>
<p>The <code>_from</code> and <code>_to</code> attributes of edges now also need to be present inside the
edges objects sent to the server:</p>
<pre><code>curl -X POST \
     --data &apos;{&quot;value&quot;:1,&quot;_from&quot;:&quot;myVertexCollection/1&quot;,&quot;_to&quot;:&quot;myVertexCollection/2&quot;}&apos; \
     &quot;http://127.0.0.1:8529/_api/document?collection=myEdgeCollection&quot;
</code></pre><p>Previous versions of ArangoDB required the <code>_from</code> and <code>_to</code> attributes of edges be 
sent separately in URL parameter <code>from</code> and <code>to</code>:</p>
<pre><code>curl -X POST \
     --data &apos;{&quot;value&quot;:1}&apos; \
     &quot;http://127.0.0.1:8529/_api/edge?collection=e&amp;from=myVertexCollection/1&amp;to=myVertexCollection/2&quot;
</code></pre><p><a name="querying_connected_edges"></a></p>
<h4 id="querying-connected-edges">Querying connected edges</h4>
<p>The REST API for querying connected edges at GET <code>/_api/edges/&lt;collection&gt;</code> will now
make the edge ids unique before returning the connected edges. This is probably desired anyway
as results will now be returned only once per distinct input edge id. However, it may break 
client applications that rely on the old behavior.</p>
<p><a name="graph_api"></a></p>
<h4 id="graph-api">Graph API</h4>
<p>Some data-modification operations in the named graphs API at <code>/_api/gharial</code> now return either
HTTP 202 (Accepted) or HTTP 201 (Created) if the operation succeeds. Which status code is returned
depends on the <code>waitForSync</code> attribute of the affected collection. In previous versions some
of these operations return HTTP 200 regardless of the <code>waitForSync</code> value.</p>
<p><a name="simple_queries_api"></a></p>
<h3 id="simple-queries-api">Simple queries API</h3>
<p>The REST routes PUT <code>/_api/simple/first</code> and <code>/_api/simple/last</code> have been removed
entirely. These APIs were responsible for returning the first-inserted and
last-inserted documents in a collection. This feature was built on cap constraints
internally, which have been removed in 3.0.</p>
<p>Calling one of these endpoints in 3.0 will result in an HTTP 404 error.</p>
<p><a name="indexes_api"></a></p>
<h3 id="indexes-api">Indexes API</h3>
<p>It is not supported in 3.0 to create an index with type <code>cap</code> (cap constraint) in 
3.0 as the cap constraints feature has bee removed. Calling the index creation
endpoint HTTP API POST <code>/_api/index?collection=...</code> with an index type <code>cap</code> will 
therefore result in an HTTP 400 error.</p>
<p><a name="log_entries_api"></a></p>
<h3 id="log-entries-api">Log entries API</h3>
<p>The REST route HTTP GET <code>/_admin/log</code> is now accessible from within all databases. In
previous versions of ArangoDB, this route was accessible from within the <code>_system</code>
database only, and an HTTP 403 (Forbidden) was thrown by the server for any access
from within another database.</p>
<p><a name="figures_api"></a></p>
<h3 id="figures-api">Figures API</h3>
<p>The REST route HTTP GET <code>/_api/collection/&lt;collection&gt;/figures</code> will not return the 
following result attributes as they became meaningless in 3.0:</p>
<ul>
<li>shapefiles.count</li>
<li>shapes.fileSize</li>
<li>shapes.count</li>
<li>shapes.size</li>
<li>attributes.count</li>
<li>attributes.size</li>
</ul>
<p><a name="databases_and_collections_apis"></a></p>
<h3 id="databases-and-collections-apis">Databases and Collections APIs</h3>
<p>When creating a database via the API POST <code>/_api/database</code>, ArangoDB will now always
return the HTTP status code 202 (created) if the operation succeeds. Previous versions
of ArangoDB returned HTTP 202 as well, but this behavior was changable by sending an
HTTP header <code>x-arango-version: 1.4</code>. When sending this header, previous versions of
ArangoDB returned an HTTP status code 200 (ok). Clients can still send this header to
ArangoDB 3.0 but this will not influence the HTTP status code produced by ArangoDB.</p>
<p>The &quot;location&quot; header produced by ArangoDB 3.0 will now always contain the database 
name. This was also the default in previous versions of ArangoDB, but the behaviour
could be overridden by sending the HTTP header <code>x-arango-version: 1.4</code>. Clients can
still send the header, but this will not make the database name in the &quot;location&quot;
response header disappear.</p>
<p>The result format for querying all collections via the API GET <code>/_api/collection</code> 
has been changed.</p>
<p>Previous versions of ArangoDB returned an object with an attribute named <code>collections</code> 
and an attribute named <code>names</code>. Both contained all available collections, but
<code>collections</code> contained the collections as an array, and <code>names</code> contained the
collections again, contained in an object in which the attribute names were the
collection names, e.g.</p>
<pre><code>{
  &quot;collections&quot;: [
    {&quot;id&quot;:&quot;5874437&quot;,&quot;name&quot;:&quot;test&quot;,&quot;isSystem&quot;:false,&quot;status&quot;:3,&quot;type&quot;:2},
    {&quot;id&quot;:&quot;17343237&quot;,&quot;name&quot;:&quot;something&quot;,&quot;isSystem&quot;:false,&quot;status&quot;:3,&quot;type&quot;:2},
    ...
  ],
  &quot;names&quot;: {
    &quot;test&quot;: {&quot;id&quot;:&quot;5874437&quot;,&quot;name&quot;:&quot;test&quot;,&quot;isSystem&quot;:false,&quot;status&quot;:3,&quot;type&quot;:2},
    &quot;something&quot;: {&quot;id&quot;:&quot;17343237&quot;,&quot;name&quot;:&quot;something&quot;,&quot;isSystem&quot;:false,&quot;status&quot;:3,&quot;type&quot;:2},
    ...
  }
}
</code></pre><p>This result structure was redundant, and therefore has been simplified to just</p>
<pre><code>{
  &quot;result&quot;: [
    {&quot;id&quot;:&quot;5874437&quot;,&quot;name&quot;:&quot;test&quot;,&quot;isSystem&quot;:false,&quot;status&quot;:3,&quot;type&quot;:2},
    {&quot;id&quot;:&quot;17343237&quot;,&quot;name&quot;:&quot;something&quot;,&quot;isSystem&quot;:false,&quot;status&quot;:3,&quot;type&quot;:2},
    ...
  ]
}
</code></pre><p>in ArangoDB 3.0.</p>
<p><a name="replication_apis"></a></p>
<h3 id="replication-apis">Replication APIs</h3>
<p>The URL parameter &quot;failOnUnknown&quot; was removed from the REST API GET <code>/_api/replication/dump</code>.
This parameter controlled whether dumping or replicating edges should fail if one
of the vertex collections linked in the edge&apos;s <code>_from</code> or <code>_to</code> attributes was not
present anymore. In this case the <code>_from</code> and <code>_to</code> values could not be translated into
meaningful ids anymore.</p>
<p>There were two ways for handling this:</p>
<ul>
<li>setting <code>failOnUnknown</code> to <code>true</code> caused the HTTP request to fail, leaving error 
handling to the user</li>
<li>setting <code>failOnUnknown</code> to <code>false</code> caused the HTTP request to continue, translating
the collection name part in the <code>_from</code> or <code>_to</code> value to <code>_unknown</code>.</li>
</ul>
<p>In ArangoDB 3.0 this parameter is obsolete, as <code>_from</code> and <code>_to</code> are stored as self-contained
string values all the time, so they cannot get invalid when referenced collections are
dropped.</p>
<p>The result format of the API GET <code>/_api/replication/logger-follow</code> has changed slightly in
the following aspects:</p>
<ul>
<li>documents and edges are reported in the same way. The type for document insertions/updates
and edge insertions/updates is now always <code>2300</code>. Previous versions of ArangoDB returned
a <code>type</code> value of <code>2300</code> for documents and <code>2301</code> for edges.</li>
<li>records about insertions, updates or removals of documents and edges do not have the
<code>key</code> and <code>rev</code> attributes on the top-level anymore. Instead, <code>key</code> and <code>rev</code> can be 
accessed by peeking into the <code>_key</code> and <code>_rev</code> attributes of the <code>data</code> sub-attributes
of the change record.</li>
</ul>
<p>The same is true for the collection-specific changes API GET <code>/_api/replication/dump</code>.</p>
<p><a name="undocumented_apis"></a></p>
<h3 id="undocumented-apis">Undocumented APIs</h3>
<p>The following undocumented HTTP REST endpoints have been removed from ArangoDB&apos;s REST
API:</p>
<ul>
<li><code>/_open/cerberus</code> and <code>/_system/cerberus</code>: these endpoints were intended for some 
ArangoDB-internal applications only</li>
<li>PUT <code>/_api/simple/by-example-hash</code>, PUT <code>/_api/simple/by-example-skiplist</code> and
PUT <code>/_api/simple/by-condition-skiplist</code>: these methods were documented in early
versions of ArangoDB but have been marked as not intended to be called by end
users since ArangoDB version 2.3. These methods should not have been part of any
ArangoDB manual since version 2.4.</li>
<li><code>/_api/structure</code>: an older unfinished and unpromoted API for data format and type 
checks, superseded by Foxx applications.</li>
</ul>
<p><a name="handling_of_cors_requests"></a></p>
<h3 id="handling-of-cors-requests">Handling of CORS requests</h3>
<p>It can now be controlled in detail for which origin hosts CORS (Cross-origin resource 
sharing) requests with credentials will be allowed. ArangoDB 3.0 provides the startup
option <code>--http.trusted-origin</code> that can be used to specify one or many origins from
which CORS requests are treated as &quot;trustworthy&quot;.</p>
<p>The option can be specified multiple times, once per trusted origin, e.g.</p>
<pre><code>--http.trusted-origin http://127.0.0.1:8529 --http.trusted-origin https://127.0.0.1:8599
</code></pre><p>This will make the ArangoDB server respond to CORS requests from these origins with an
<code>Access-Control-Allow-Credentials</code> HTTP header with a value of <code>true</code>. Web browsers can
inspect this header and can allow passing ArangoDB web interface credentials (if stored 
in the browser) to the requesting site. ArangoDB will not forward or provide any credentials.</p>
<p>Setting this option is only required if applications on other hosts need to access the 
ArangoDB web interface or other HTTP REST APIs from a web browser with the same credentials 
that the user has entered when logging into the web interface. When a web browser finds 
the <code>Access-Control-Allow-Credentials</code> HTTP response header, it may forward the credentials
entered into the browser for the ArangoDB web interface login to the other site. </p>
<p>This is a potential security issue, so there are no trusted origins by default. It may
be required to set some trusted origins if you&apos;re planning to issue AJAX requests to ArangoDB
from other sites from the browser, with the credentials entered during the ArangoDB interface 
login (i.e. single sign-on). If such functionality is not used, the option should not
be set.</p>
<p>To specify a trusted origin, specify the option once per trusted origin as shown above.
Note that the trusted origin values specified in this option will be compared bytewise
with the <code>Origin</code> HTTP header value sent by clients, and only exact matches will pass.</p>
<p>There is also the wildcard <code>all</code> for enabling CORS access from all origins in a 
test or development setup:</p>
<pre><code>--http.trusted-origin all
</code></pre><p>Setting this option will lead to the ArangoDB server responding with an 
<code>Access-Control-Allow-Origin: true</code> HTTP header to all incoming CORS requests.</p>
<p><a name="command-line_options"></a></p>
<h2 id="commandline-options">Command-line options</h2>
<p>Quite a few startup options in ArangoDB 2 were double negations (like
<code>--server.disable-authentication false</code>). In ArangoDB 3 these are now expressed as 
positives (e. g. <code>--server.authentication</code>). Also the options between the ArangoDB
server and its client tools have being unified. For example, the logger options are 
now the same for the server and the client tools. Additionally many options have
been moved into more appropriate topic sections.</p>
<p><a name="renamed_options"></a></p>
<h3 id="renamed-options">Renamed options</h3>
<p>The following options have been available before 3.0 and have changed their name 
in 3.0:</p>
<ul>
<li><code>--server.disable-authentication</code> was renamed to <code>--server.authentication</code>.
Note that the meaning of the option <code>--server.authentication</code> is the opposite of 
the previous <code>--server.disable-authentication</code>.</li>
<li><code>--server.disable-authentication-unix-sockets</code> was renamed to
<code>--server.authentication-unix-sockets</code>. Note that the meaning of the option
<code>--server.authentication-unix-sockets</code> is the opposite of the previous
<code>--server.disable-authentication-unix-sockets</code>.</li>
<li><code>--server.authenticate-system-only</code> was renamed to <code>--server.authentication-system-only</code>.
The meaning of the option in unchanged.</li>
<li><code>--server.disable-statistics</code> was renamed to <code>--server.statistics</code>. Note that the
meaning of the option <code>--server.statistics</code> is the opposite of the previous
<code>--server.disable-statistics</code>.</li>
<li><code>--server.cafile</code> was renamed to <code>--ssl.cafile</code>. The meaning of the option is
unchanged.</li>
<li><code>--server.keyfile</code> was renamed to <code>--ssl.keyfile</code>. The meaning of the option is
unchanged.</li>
<li><code>--server.ssl-cache</code> was renamed to <code>--ssl.session-cache</code>. The meaning of the option
is unchanged.</li>
<li><code>--server.ssl-cipher-list</code> was renamed to <code>--ssl.cipher-list</code>. The meaning of the
option is unchanged.</li>
<li><code>--server.ssl-options</code> was renamed to <code>--ssl.options</code>. The meaning of the option
is unchanged.</li>
<li><code>--server.ssl-protocol</code> was renamed to <code>--ssl.protocol</code>. The meaning of the option
is unchanged.</li>
<li><code>--server.backlog-size</code> was renamed to <code>--tcp.backlog-size</code>. The meaning of the
option is unchanged.</li>
<li><code>--server.reuse-address</code> was renamed to <code>--tcp.reuse-address</code>. The meaning of the
option is unchanged.</li>
<li><code>--server.disable-replication-applier</code> was renamed to <code>--database.replication-applier</code>.
The meaning of the option <code>--database.replication-applier</code> is the opposite of the
previous <code>--server.disable-replication-applier</code>.</li>
<li><code>--server.allow-method-override</code> was renamed to <code>--http.allow-method-override</code>. The
meaning of the option is unchanged.</li>
<li><code>--server.hide-product-header</code> was renamed to <code>--http.hide-product-header</code>. The
meaning of the option is unchanged.</li>
<li><code>--server.keep-alive-timeout</code> was renamed to <code>--http.keep-alive-timeout</code>. The
meaning of the option is unchanged.</li>
<li><code>--server.foxx-queues</code> was renamed to <code>--foxx.queues</code>. The meaning of the option
is unchanged.</li>
<li><code>--server.foxx-queues-poll-interval</code> was renamed to <code>--foxx.queues-poll-interval</code>.
The meaning of the option is unchanged.</li>
<li><code>--database.query-cache-mode</code> was renamed to <code>--query.cache-mode</code>. The meaning of
the option is unchanged.</li>
<li><code>--database.query-cache-max-results</code> was renamed to <code>--query.cache-entries</code>. The
meaning of the option is unchanged.</li>
<li><code>--database.disable-query-tracking</code> was renamed to <code>--query.tracking</code>. The meaning 
of the option <code>--query.tracking</code> is the opposite of the previous
<code>--database.disable-query-tracking</code>.</li>
<li><code>--log.tty</code> was renamed to <code>--log.foreground-tty</code>. The meaning of the option is
unchanged.</li>
<li><code>--upgrade</code> has been renamed to <code>--database.auto-upgrade</code>. In contrast to 2.8 this
option now requires a boolean parameter. To actually perform an automatic database 
upgrade at startup use <code>--database.auto-upgrade true</code>. To not perform it, use
<code>--database.auto-upgrade false</code>.</li>
<li><code>--check-version</code> has been renamed to <code>--database.check-version</code>.</li>
<li><code>--temp-path</code> has been renamed to <code>--temp.path</code>.</li>
</ul>
<p><a name="log_verbosity,_topics_and_output_files"></a></p>
<h3 id="log-verbosity-topics-and-output-files">Log verbosity, topics and output files</h3>
<p>Logging now supports log topics. You can control these by specifying a log
topic in front of a log level or an output. For example</p>
<pre><code>  --log.level startup=trace --log.level info
</code></pre><p>will log messages concerning startup at trace level, everything else at info
level. <code>--log.level</code> can be specified multiple times at startup, for as many
topics as needed.</p>
<p>Some relevant log topics available in 3.0 are:</p>
<ul>
<li><em>collector</em>: information about the WAL collector&apos;s state</li>
<li><em>compactor</em>: information about the collection datafile compactor</li>
<li><em>datafiles</em>: datafile-related operations</li>
<li><em>mmap</em>: information about memory-mapping operations</li>
<li><em>performance</em>: some performance-related information</li>
<li><em>queries</em>: executed AQL queries</li>
<li><em>replication</em>: replication-related info</li>
<li><em>requests</em>: HTTP requests</li>
<li><em>startup</em>: information about server startup and shutdown</li>
<li><em>threads</em>: information about threads</li>
</ul>
<p>The new log option <code>--log.output &lt;definition&gt;</code> allows directing the global
or per-topic log output to different outputs. The output definition &quot;<definition>&quot; 
can be one of</definition></p>
<ul>
<li>&quot;-&quot; for stdin</li>
<li>&quot;+&quot; for stderr</li>
<li>&quot;syslog://<syslog-facility>&quot;</syslog-facility></li>
<li>&quot;syslog://<syslog-facility>/<application-name>&quot;</application-name></syslog-facility></li>
<li>&quot;file://<relative-path>&quot;</relative-path></li>
</ul>
<p>The option can be specified multiple times in order to configure the output
for different log topics. To set up a per-topic output configuration, use
<code>--log.output &lt;topic&gt;=&lt;definition&gt;</code>, e.g.</p>
<p>  queries=file://queries.txt</p>
<p>logs all queries to the file &quot;queries.txt&quot;.</p>
<p>The old option <code>--log.file</code> is still available in 3.0 for convenience reasons. In
3.0 it is a shortcut for the more general option <code>--log.output file://filename</code>.</p>
<p>The old option <code>--log.requests-file</code> is still available in 3.0. It is now a shortcut
for the more general option <code>--log.output requests=file://...</code>.</p>
<p>The old option <code>--log.performance</code> is still available in 3.0. It is now a shortcut
for the more general option <code>--log.level performance=trace</code>.</p>
<p><a name="removed_options_for_logging"></a></p>
<h3 id="removed-options-for-logging">Removed options for logging</h3>
<p>The options <code>--log.content-filter</code> and <code>--log.source-filter</code> have been removed. They
have most been used during ArangoDB&apos;s internal development.</p>
<p>The syslog-related options <code>--log.application</code> and <code>--log.facility</code> have been removed.
They are superseded by the more general <code>--log.output</code> option which can also handle 
syslog targets.</p>
<p><a name="removed_other_options"></a></p>
<h3 id="removed-other-options">Removed other options</h3>
<p>The option <code>--server.default-api-compatibility</code> was present in earlier version of
ArangoDB to control various aspects of the server behavior, e.g. HTTP return codes
or the format of HTTP &quot;location&quot; headers. Client applications could send an HTTP
header &quot;x-arango-version&quot; with a version number to request the server behavior of
a certain ArangoDB version.</p>
<p>This option was only honored in a handful of cases (described above) and was removed
in 3.0 because the changes in server behavior controlled by this option were changed
even before ArangoDB 2.0. This should have left enough time for client applications
to adapt to the new behavior, making the option superfluous in 3.0.</p>
<p><a name="thread_options"></a></p>
<h3 id="thread-options">Thread options</h3>
<p>The options <code>--server.threads</code> and <code>--scheduler.threads</code> now have a default value of 
<code>0</code>. When <code>--server.threads</code> is set to <code>0</code> on startup, the suitable number of
threads will be determined by ArangoDB by asking the OS for the number of available
CPUs and using that as a baseline. If the number of CPUs is lower than 4, ArangoDB
will still start 4 dispatcher threads. When <code>--scheduler.threads</code> is set to <code>0</code>,
then ArangoDB will automatically determine the number of scheduler threads to start.
This will normally create 2 scheduler threads. </p>
<p>If the exact number of threads needs to be set by the admin, then it is still possible
to set <code>--server.threads</code> and <code>--scheduler.threads</code> to non-zero values. ArangoDB will
use these values and start that many threads (note that some threads may be created
lazily so they may not be present directly after startup). </p>
<p>The number of V8 JavaScript contexts to be created (<code>--javascript.v8-contexts</code>) now 
has a default value of <code>0</code> too, meaning that ArangoDB will create as many V8 contexts
as there will be dispatcher threads (controlled by the <code>--server.threads</code> option).
Setting this option to a non-zero value will create exactly as many V8 contexts as
specified.</p>
<p>Setting these options explicitly to non-zero values may be beneficial in environments
that have few resources (processing time, maximum thread count, available memory). </p>
<p><a name="authentication"></a></p>
<h2 id="authentication">Authentication</h2>
<p>The default value for <code>--server.authentication</code> is now <code>true</code> in the configuration
files shipped with ArangoDB. This means the server will be started with authentication 
enabled by default, requiring all client connections to provide authentication data 
when connecting to ArangoDB. Previous ArangoDB versions used the setting
<code>--server.disable-authentication true</code>, effectively disabling authentication by default.</p>
<p>Though enabling the authentication is recommended for production setups, it may be
overkill in a development environment. To turn off authentication, the option 
<code>--server.authentication</code> can be set to <code>false</code> in ArangoDB&apos;s configuration file or
on the command-line.</p>
<p><a name="web_admin_interface"></a></p>
<h2 id="web-admin-interface">Web Admin Interface</h2>
<p>The JavaScript shell has been removed from ArangoDB&apos;s web interface. The functionality
the shell provided is still fully available in the ArangoShell (arangosh) binary shipped
with ArangoDB.</p>
<p><a name="arangoshell_and_client_tools"></a></p>
<h2 id="arangoshell-and-client-tools">ArangoShell and client tools</h2>
<p>The ArangoShell (arangosh) and the other client tools bundled with ArangoDB can only
connect to an ArangoDB server of version 3.0 or higher. They will not connect to an
ArangoDB 2.8. This is because the server HTTP APIs have changed between 2.8 and 3.0,
and all client tools uses these APIs.</p>
<p>In order to connect to earlier versions of ArangoDB with the client tools, an older
version of the client tools needs to be kept installed.</p>
<p><a name="command-line_options_changed"></a></p>
<h3 id="commandline-options-changed">Command-line options changed</h3>
<p>For all client tools, the option <code>--server.disable-authentication</code> was renamed to
<code>--server.authentication</code>. Note that the meaning of the option <code>--server.authentication</code> 
is the opposite of the previous <code>--server.disable-authentication</code>.</p>
<p>The option <code>--server.ssl-protocol</code> was renamed to <code>--ssl.protocol</code>. The meaning of 
the option is unchanged.</p>
<p>The command-line option <code>--quiet</code> was removed from all client tools except arangosh 
because it had no effect in them.</p>
<p><a name="arangobench"></a></p>
<h3 id="arangobench">Arangobench</h3>
<p>In order to make its purpose more apparent the former <code>arangob</code> client tool has 
been renamed to <code>arangobench</code> in 3.0.</p>
<p><a name="miscellaneous_changes"></a></p>
<h2 id="miscellaneous-changes">Miscellaneous changes</h2>
<p>The checksum calculation algorithm for the <code>collection.checksum()</code> method and its
corresponding REST API GET <code>/_api/collection/&lt;collection&lt;/checksum</code> has changed in 3.0. 
Checksums calculated in 3.0 will differ from checksums calculated with 2.8 or before.</p>
<p>The ArangoDB server in 3.0 does not read a file <code>ENDPOINTS</code> containing a list of 
additional endpoints on startup. In 2.8 this file was automatically read if present
in the database directory.</p>
<p>The names of the sub-threads started by ArangoDB have changed in 3.0. This is relevant
on Linux only, where threads can be named and thread names may be visible to system
tools such as <em>top</em> or monitoring solutions.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../ReleaseNotes/NewFeatures21.html" class="navigation navigation-prev " aria-label="Previous page: Whats New in 2.1"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../ReleaseNotes/UpgradingChanges28.html" class="navigation navigation-next " aria-label="Next page: Incompatible changes in 2.8"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.js"></script>
    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.1.1/anchor.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-anchorjs/anchor-style.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-piwik/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"addcssjs":{"js":["styles/header.js"],"css":["styles/header.css"]},"add-header":{"BASE_PATH":"https://docs.arangodb.com/devel"},"piwik":{"URL":"www.arangodb.com/piwik/","siteId":12},"toggle-chapters":{},"anchorjs":{},"highlight":{},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        <!-- body:end -->
<script type="text/javascript">var _paq = _paq || [];_paq.push(['trackPageView']);_paq.push(['enableLinkTracking']);(function() {var u=(("https:" == document.location.protocol) ? "https" : "http") + "://www.arangodb.com/piwik/";_paq.push(['setTrackerUrl', u+'piwik.php']);_paq.push(['setSiteId', 12]);var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript';g.defer=true; g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);})();</script><noscript><p><img src="http://www.arangodb.com/piwik/piwik.php?idsite=12" style="border:0;" alt="" /></p></noscript>
    </body>
    <!-- End of book ArangoDB v3.0.x-devel (2016-06-02) Documentation -->
</html>
