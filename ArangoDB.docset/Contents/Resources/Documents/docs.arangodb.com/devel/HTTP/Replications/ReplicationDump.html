<!DOCTYPE HTML>
<html lang="en" >
    <!-- Start book ArangoDB v3.0.x-devel (2016-06-02) HTTP API Documentation -->
    <head>
        <!-- head:start -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Replication Dump | ArangoDB v3.0.x-devel (2016-06-02) HTTP API Documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        <meta name="author" content="ArangoDB GmbH">
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    
        <link rel="stylesheet" href="../styles/website.css">
    

        
    
    
    <link rel="next" href="../Replications/ReplicationLogger.html" />
    
    
    <link rel="prev" href="../Replications/index.html" />
    

        <!-- head:end -->
<script type="text/javascript" src="../styles/header.js"></script><link rel="stylesheet" type="text/css" href="../styles/header.css">
    </head>
    <body>
        <!-- body:start -->
<div id="header">
  <div id="logo">
    <a href="https://arangodb.com/">
      <img src="https://docs.arangodb.com/assets/arangodb_logo_2016.png">
    </a>
  </div>
  <div id="logo-small">
    <a href="https://arangodb.com/">
      <img src="https://docs.arangodb.com/assets/arangodb_logo_small_2016.png">
    </a>
  </div>
  <select id="version-switcher">
    <option value="devel">v3.0.x-devel (2016-06-02)</option>
    <option value="2.8">v2.8</option>
    <option value="2.7">v2.7</option>
    <option value="2.6">v2.6</option>
    <option value="2.5">v2.5</option>
    <option value="2.4">v2.4</option>
    <option value="2.3">v2.3</option>
    <option value="2.2">v2.2</option>
    <option value="2.1">v2.1</option>
  </select>
  <div class="google-search">
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
  <ul id="navmenu">
    <li>
      <a href="https://docs.arangodb.com/devel/Manual/index.html">Manual</a>
    </li>
    <li>
      <a href="https://docs.arangodb.com/devel/AQL/index.html">AQL</a>
    </li>
    <li class="active-tab">
      <a href="https://docs.arangodb.com/devel/HTTP/index.html">HTTP</a>
    </li>
    <li>
      <a href="https://docs.arangodb.com/cookbook">Cookbook</a>
    </li>
    <li class="socialIcons">
      <a href="https://github.com/ArangoDB/ArangoDB/issues" target="blank" name="github">
        <i title="GitHub" class="fa fa-github"></i>
      </a>
    </li>
    <li class="socialIcons">
      <a href="http://stackoverflow.com/questions/tagged/arangodb" target="blank" name="stackoverflow">
        <i title="Stackoverflow" class="fa fa-stack-overflow"></i>
      </a>
    </li>
    <li class="socialIcons socialIcons-googlegroups">
      <a href="https://groups.google.com/forum/#!forum/arangodb" target="blank" name="google groups">
        <img title="Google Groups" alt="Google Groups" src="https://docs.arangodb.com/assets/googlegroupsIcon.png" />
      </a>
    </li>
  </ul>
</div>
        
    <div class="book"
        data-level="18.1"
        data-chapter-title="Replication Dump"
        data-filepath="Replications/ReplicationDump.md"
        data-basepath=".."
        data-revision="Thu Jun 02 2016 11:44:44 GMT+0000 (UTC)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="General/index.html">
            
                
                    <a href="../General/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        General HTTP Handling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="Api/index.html">
            
                
                    <a href="../Api/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        HTTP Interface
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="Database/index.html">
            
                
                    <a href="../Database/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Databases
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="Database/DatabaseEndpoint.html">
            
                
                    <a href="../Database/DatabaseEndpoint.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        To-Endpoint
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="Database/DatabaseManagement.html">
            
                
                    <a href="../Database/DatabaseManagement.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Management
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="Database/NotesOnDatabases.html">
            
                
                    <a href="../Database/NotesOnDatabases.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Notes on Databases
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="Collection/index.html">
            
                
                    <a href="../Collection/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Collections
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="Collection/Creating.html">
            
                
                    <a href="../Collection/Creating.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Creating
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="Collection/Getting.html">
            
                
                    <a href="../Collection/Getting.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Getting Information
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="Collection/Modifying.html">
            
                
                    <a href="../Collection/Modifying.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Modifying
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="Document/index.html">
            
                
                    <a href="../Document/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Documents
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="Document/AddressAndEtag.html">
            
                
                    <a href="../Document/AddressAndEtag.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Basics and Terminology
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="Document/WorkingWithDocuments.html">
            
                
                    <a href="../Document/WorkingWithDocuments.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Working with Documents
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="Edge/index.html">
            
                
                    <a href="../Edge/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Edges
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="Edge/AddressAndEtag.html">
            
                
                    <a href="../Edge/AddressAndEtag.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Address and ETag
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="Edge/WorkingWithEdges.html">
            
                
                    <a href="../Edge/WorkingWithEdges.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Working with Edges
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="Gharial/index.html">
            
                
                    <a href="../Gharial/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        General Graph
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="Gharial/Management.html">
            
                
                    <a href="../Gharial/Management.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        Management
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="Gharial/Vertices.html">
            
                
                    <a href="../Gharial/Vertices.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        Vertices
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="Gharial/Edges.html">
            
                
                    <a href="../Gharial/Edges.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        Edges
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="Traversal/index.html">
            
                
                    <a href="../Traversal/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Traversals
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="AqlQueryCursor/index.html">
            
                
                    <a href="../AqlQueryCursor/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        AQL Query Cursors
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="AqlQueryCursor/QueryResults.html">
            
                
                    <a href="../AqlQueryCursor/QueryResults.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        Query Results
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="AqlQueryCursor/AccessingCursors.html">
            
                
                    <a href="../AqlQueryCursor/AccessingCursors.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                        Accessing Cursors
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10" data-path="AqlQuery/index.html">
            
                
                    <a href="../AqlQuery/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        AQL Queries
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="11" data-path="AqlQueryCache/index.html">
            
                
                    <a href="../AqlQueryCache/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        AQL Query Cache
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="AqlUserFunctions/index.html">
            
                
                    <a href="../AqlUserFunctions/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        AQL User Functions Management
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="SimpleQuery/index.html">
            
                
                    <a href="../SimpleQuery/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Simple Queries
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="14" data-path="AsyncResultsManagement/index.html">
            
                
                    <a href="../AsyncResultsManagement/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        Async Result Handling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="BulkImports/index.html">
            
                
                    <a href="../BulkImports/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        Bulk Import / Export
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="15.1" data-path="BulkImports/ImportingSelfContained.html">
            
                
                    <a href="../BulkImports/ImportingSelfContained.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.1.</b>
                        
                        JSON Documents
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15.2" data-path="BulkImports/ImportingHeadersAndValues.html">
            
                
                    <a href="../BulkImports/ImportingHeadersAndValues.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.2.</b>
                        
                        Headers &amp; Values
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15.3" data-path="BatchRequest/index.html">
            
                
                    <a href="../BatchRequest/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.3.</b>
                        
                        Batch Requests
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15.4" data-path="Export/index.html">
            
                
                    <a href="../Export/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.4.</b>
                        
                        Exporting data
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="16" data-path="Indexes/index.html">
            
                
                    <a href="../Indexes/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        Indexes
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="16.1" data-path="Indexes/WorkingWith.html">
            
                
                    <a href="../Indexes/WorkingWith.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.1.</b>
                        
                        Working with Indexes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.2" data-path="Indexes/Hash.html">
            
                
                    <a href="../Indexes/Hash.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.2.</b>
                        
                        Hash
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.3" data-path="Indexes/Skiplist.html">
            
                
                    <a href="../Indexes/Skiplist.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.3.</b>
                        
                        Skiplist
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.4" data-path="Indexes/Geo.html">
            
                
                    <a href="../Indexes/Geo.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.4.</b>
                        
                        Geo
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.5" data-path="Indexes/Fulltext.html">
            
                
                    <a href="../Indexes/Fulltext.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.5.</b>
                        
                        Fulltext
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="17" data-path="Transaction/index.html">
            
                
                    <a href="../Transaction/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                        Transactions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18" data-path="Replications/index.html">
            
                
                    <a href="../Replications/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.</b>
                        
                        Replication
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="18.1" data-path="Replications/ReplicationDump.html">
            
                
                    <a href="../Replications/ReplicationDump.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.1.</b>
                        
                        Replication Dump
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18.2" data-path="Replications/ReplicationLogger.html">
            
                
                    <a href="../Replications/ReplicationLogger.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.2.</b>
                        
                        Replication Logger
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18.3" data-path="Replications/ReplicationApplier.html">
            
                
                    <a href="../Replications/ReplicationApplier.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.3.</b>
                        
                        Replication Applier
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18.4" data-path="Replications/OtherReplication.html">
            
                
                    <a href="../Replications/OtherReplication.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.4.</b>
                        
                        Other Replication Commands
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="19" data-path="ShardingInterface/index.html">
            
                
                    <a href="../ShardingInterface/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>19.</b>
                        
                        Sharding
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="20" data-path="AdministrationAndMonitoring/index.html">
            
                
                    <a href="../AdministrationAndMonitoring/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>20.</b>
                        
                        Monitoring
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="21" data-path="Endpoints/index.html">
            
                
                    <a href="../Endpoints/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>21.</b>
                        
                        Endpoints
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="22" data-path="UserManagement/index.html">
            
                
                    <a href="../UserManagement/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>22.</b>
                        
                        User Management
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="23" data-path="Tasks/index.html">
            
                
                    <a href="../Tasks/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>23.</b>
                        
                        Tasks
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="24" data-path="MiscellaneousFunctions/index.html">
            
                
                    <a href="../MiscellaneousFunctions/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>24.</b>
                        
                        Miscellaneous functions
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >ArangoDB v3.0.x-devel (2016-06-02) HTTP API Documentation</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <p><a name="replication_dump_commands"></a></p>
<h1 id="replication-dump-commands">Replication Dump Commands</h1>
<p>The <em>inventory</em> method can be used to query an ArangoDB database&apos;s current
set of collections plus their indexes. Clients can use this method to get an 
overview of which collections are present in the database. They can use this information
to either start a full or a partial synchronization of data, e.g. to initiate a backup
or the incremental data synchronization.</p>
<!-- arangod/RestHandler/RestReplicationHandler.cpp -->
<h3 id="return-inventory-of-collections-and-indexes">Return inventory of collections and indexes</h3>
<p> Returns an overview of collections and their indexes</p>
<p><code>GET /_api/replication/inventory</code></p>
<p><strong>Query Parameters</strong></p>
<ul>
<li><em>includeSystem</em> (optional):
Include system collections in the result. The default value is <em>true</em>.</li>
</ul>
<p>Returns the array of collections and indexes available on the server. This
array can be used by replication clients to initiate an initial sync with the
server.
The response will contain a JSON object with the <em>collection</em> and <em>state</em> and
<em>tick</em> attributes.
<em>collections</em> is a array of collections with the following sub-attributes:</p>
<ul>
<li><em>parameters</em>: the collection properties</li>
<li><em>indexes</em>: a array of the indexes of a the collection. Primary indexes and edges indexes
 are not included in this array.
The <em>state</em> attribute contains the current state of the replication logger. It
contains the following sub-attributes:</li>
<li><em>running</em>: whether or not the replication logger is currently active. Note:
since ArangoDB 2.2, the value will always be <em>true</em></li>
<li><em>lastLogTick</em>: the value of the last tick the replication logger has written</li>
<li><em>time</em>: the current time on the server
Replication clients should note the <em>lastLogTick</em> value returned. They can then
fetch collections&apos; data using the dump method up to the value of lastLogTick, and
query the continuous replication log for log events after this tick value.
To create a full copy of the collections on the server, a replication client
can execute these steps:</li>
<li>call the <em>/inventory</em> API method. This returns the <em>lastLogTick</em> value and the
array of collections and indexes from the server.</li>
<li>for each collection returned by <em>/inventory</em>, create the collection locally and
call <em>/dump</em> to stream the collection data to the client, up to the value of
<em>lastLogTick</em>.
After that, the client can create the indexes on the collections as they were
reported by <em>/inventory</em>.
If the clients wants to continuously stream replication log events from the logger
server, the following additional steps need to be carried out:</li>
<li>the client should call <em>/logger-follow</em> initially to fetch the first batch of
replication events that were logged after the client&apos;s call to <em>/inventory</em>.
The call to <em>/logger-follow</em> should use a <em>from</em> parameter with the value of the
<em>lastLogTick</em> as reported by <em>/inventory</em>. The call to <em>/logger-follow</em> will return the
<em>x-arango-replication-lastincluded</em> which will contain the last tick value included
in the response.</li>
<li>the client can then continuously call <em>/logger-follow</em> to incrementally fetch new
replication events that occurred after the last transfer.
Calls should use a <em>from</em> parameter with the value of the <em>x-arango-replication-lastincluded</em>
header of the previous response. If there are no more replication events, the
response will be empty and clients can go to sleep for a while and try again
later.
<strong>Note</strong>: on a coordinator, this request must have the query parameter
<em>DBserver</em> which must be an ID of a DBserver.
The very same request is forwarded synchronously to that DBserver.
It is an error if this attribute is not bound in the coordinator case.</li>
</ul>
<p><strong>Return Codes</strong></p>
<ul>
<li><em>200</em>:
is returned if the request was executed successfully.</li>
<li><em>405</em>:
is returned when an invalid HTTP method is used.</li>
<li><em>500</em>:
is returned if an error occurred while assembling the response.</li>
</ul>
<p><strong>Examples</strong></p>
<div id="RestReplicationInventory_container">
<div id="RestReplicationInventory_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl --dump - http://localhost:8529/_api/replication/inventory

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;collections&quot;</span> : [ 
    { 
      <span class="hljs-string">&quot;parameters&quot;</span> : { 
        <span class="hljs-string">&quot;cid&quot;</span> : <span class="hljs-string">&quot;46&quot;</span>, 
        <span class="hljs-string">&quot;deleted&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;doCompact&quot;</span> : <span class="hljs-literal">true</span>, 
        <span class="hljs-string">&quot;indexBuckets&quot;</span> : <span class="hljs-number">8</span>, 
        <span class="hljs-string">&quot;isVolatile&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;maximalSize&quot;</span> : <span class="hljs-number">2097152</span>, 
        <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;_aqlfunctions&quot;</span>, 
        <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-number">2</span>, 
        <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-number">5</span>, 
        <span class="hljs-string">&quot;waitForSync&quot;</span> : <span class="hljs-literal">false</span> 
      }, 
      <span class="hljs-string">&quot;indexes&quot;</span> : [ ] 
    }, 
    { 
      <span class="hljs-string">&quot;parameters&quot;</span> : { 
        <span class="hljs-string">&quot;cid&quot;</span> : <span class="hljs-string">&quot;63&quot;</span>, 
        <span class="hljs-string">&quot;deleted&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;doCompact&quot;</span> : <span class="hljs-literal">true</span>, 
        <span class="hljs-string">&quot;indexBuckets&quot;</span> : <span class="hljs-number">8</span>, 
        <span class="hljs-string">&quot;isVolatile&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;maximalSize&quot;</span> : <span class="hljs-number">1048576</span>, 
        <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;_frontend&quot;</span>, 
        <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-number">2</span>, 
        <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-number">5</span>, 
        <span class="hljs-string">&quot;waitForSync&quot;</span> : <span class="hljs-literal">false</span> 
      }, 
      <span class="hljs-string">&quot;indexes&quot;</span> : [ ] 
    }, 
    { 
      <span class="hljs-string">&quot;parameters&quot;</span> : { 
        <span class="hljs-string">&quot;cid&quot;</span> : <span class="hljs-string">&quot;2&quot;</span>, 
        <span class="hljs-string">&quot;deleted&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;doCompact&quot;</span> : <span class="hljs-literal">true</span>, 
        <span class="hljs-string">&quot;indexBuckets&quot;</span> : <span class="hljs-number">8</span>, 
        <span class="hljs-string">&quot;isVolatile&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;maximalSize&quot;</span> : <span class="hljs-number">1048576</span>, 
        <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;_graphs&quot;</span>, 
        <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-number">2</span>, 
        <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-number">5</span>, 
        <span class="hljs-string">&quot;waitForSync&quot;</span> : <span class="hljs-literal">false</span> 
      }, 
      <span class="hljs-string">&quot;indexes&quot;</span> : [ ] 
    }, 
    { 
      <span class="hljs-string">&quot;parameters&quot;</span> : { 
        <span class="hljs-string">&quot;cid&quot;</span> : <span class="hljs-string">&quot;25&quot;</span>, 
        <span class="hljs-string">&quot;deleted&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;doCompact&quot;</span> : <span class="hljs-literal">true</span>, 
        <span class="hljs-string">&quot;indexBuckets&quot;</span> : <span class="hljs-number">8</span>, 
        <span class="hljs-string">&quot;isVolatile&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;maximalSize&quot;</span> : <span class="hljs-number">1048576</span>, 
        <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;_modules&quot;</span>, 
        <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-number">2</span>, 
        <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-number">5</span>, 
        <span class="hljs-string">&quot;waitForSync&quot;</span> : <span class="hljs-literal">false</span> 
      }, 
      <span class="hljs-string">&quot;indexes&quot;</span> : [ ] 
    }, 
    { 
      <span class="hljs-string">&quot;parameters&quot;</span> : { 
        <span class="hljs-string">&quot;cid&quot;</span> : <span class="hljs-string">&quot;27&quot;</span>, 
        <span class="hljs-string">&quot;deleted&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;doCompact&quot;</span> : <span class="hljs-literal">true</span>, 
        <span class="hljs-string">&quot;indexBuckets&quot;</span> : <span class="hljs-number">8</span>, 
        <span class="hljs-string">&quot;isVolatile&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;maximalSize&quot;</span> : <span class="hljs-number">8388608</span>, 
        <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;_routing&quot;</span>, 
        <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-number">2</span>, 
        <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-number">5</span>, 
        <span class="hljs-string">&quot;waitForSync&quot;</span> : <span class="hljs-literal">false</span> 
      }, 
      <span class="hljs-string">&quot;indexes&quot;</span> : [ ] 
    }, 
    { 
      <span class="hljs-string">&quot;parameters&quot;</span> : { 
        <span class="hljs-string">&quot;cid&quot;</span> : <span class="hljs-string">&quot;7&quot;</span>, 
        <span class="hljs-string">&quot;deleted&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;doCompact&quot;</span> : <span class="hljs-literal">true</span>, 
        <span class="hljs-string">&quot;indexBuckets&quot;</span> : <span class="hljs-number">8</span>, 
        <span class="hljs-string">&quot;isVolatile&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;maximalSize&quot;</span> : <span class="hljs-number">4194304</span>, 
        <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;_users&quot;</span>, 
        <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-number">2</span>, 
        <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-number">5</span>, 
        <span class="hljs-string">&quot;waitForSync&quot;</span> : <span class="hljs-literal">false</span> 
      }, 
      <span class="hljs-string">&quot;indexes&quot;</span> : [ 
        { 
          <span class="hljs-string">&quot;fields&quot;</span> : [ 
            <span class="hljs-string">&quot;user&quot;</span> 
          ], 
          <span class="hljs-string">&quot;id&quot;</span> : <span class="hljs-string">&quot;11&quot;</span>, 
          <span class="hljs-string">&quot;selectivityEstimate&quot;</span> : <span class="hljs-number">1</span>, 
          <span class="hljs-string">&quot;sparse&quot;</span> : <span class="hljs-literal">true</span>, 
          <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-string">&quot;hash&quot;</span>, 
          <span class="hljs-string">&quot;unique&quot;</span> : <span class="hljs-literal">true</span> 
        } 
      ] 
    }, 
    { 
      <span class="hljs-string">&quot;parameters&quot;</span> : { 
        <span class="hljs-string">&quot;cid&quot;</span> : <span class="hljs-string">&quot;104&quot;</span>, 
        <span class="hljs-string">&quot;deleted&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;doCompact&quot;</span> : <span class="hljs-literal">true</span>, 
        <span class="hljs-string">&quot;indexBuckets&quot;</span> : <span class="hljs-number">8</span>, 
        <span class="hljs-string">&quot;isVolatile&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;maximalSize&quot;</span> : <span class="hljs-number">33554432</span>, 
        <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;animals&quot;</span>, 
        <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-number">2</span>, 
        <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-number">5</span>, 
        <span class="hljs-string">&quot;waitForSync&quot;</span> : <span class="hljs-literal">false</span> 
      }, 
      <span class="hljs-string">&quot;indexes&quot;</span> : [ ] 
    }, 
    { 
      <span class="hljs-string">&quot;parameters&quot;</span> : { 
        <span class="hljs-string">&quot;cid&quot;</span> : <span class="hljs-string">&quot;98&quot;</span>, 
        <span class="hljs-string">&quot;deleted&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;doCompact&quot;</span> : <span class="hljs-literal">true</span>, 
        <span class="hljs-string">&quot;indexBuckets&quot;</span> : <span class="hljs-number">8</span>, 
        <span class="hljs-string">&quot;isVolatile&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;maximalSize&quot;</span> : <span class="hljs-number">33554432</span>, 
        <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;demo&quot;</span>, 
        <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-number">2</span>, 
        <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-number">5</span>, 
        <span class="hljs-string">&quot;waitForSync&quot;</span> : <span class="hljs-literal">false</span> 
      }, 
      <span class="hljs-string">&quot;indexes&quot;</span> : [ ] 
    } 
  ], 
  <span class="hljs-string">&quot;state&quot;</span> : { 
    <span class="hljs-string">&quot;running&quot;</span> : <span class="hljs-literal">true</span>, 
    <span class="hljs-string">&quot;lastLogTick&quot;</span> : <span class="hljs-string">&quot;11006&quot;</span>, 
    <span class="hljs-string">&quot;lastUncommittedLogTick&quot;</span> : <span class="hljs-string">&quot;11008&quot;</span>, 
    <span class="hljs-string">&quot;totalEvents&quot;</span> : <span class="hljs-number">3752</span>, 
    <span class="hljs-string">&quot;time&quot;</span> : <span class="hljs-string">&quot;2016-06-02T11:43:47Z&quot;</span> 
  }, 
  <span class="hljs-string">&quot;tick&quot;</span> : <span class="hljs-string">&quot;11008&quot;</span> 
}
</pre>
</div>
<div id="RestReplicationInventory_short" onclick="$(&apos;#RestReplicationInventory_short&apos;).hide(); $(&apos;#RestReplicationInventory_long&apos;).show();">
<pre>
shell&gt; curl --dump - http://localhost:8529/_api/replication/inventory

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<p>With some additional indexes:</p>
<div id="RestReplicationInventoryIndexes_container">
<div id="RestReplicationInventoryIndexes_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl --dump - http://localhost:8529/_api/replication/inventory

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;collections&quot;</span> : [ 
    { 
      <span class="hljs-string">&quot;parameters&quot;</span> : { 
        <span class="hljs-string">&quot;cid&quot;</span> : <span class="hljs-string">&quot;46&quot;</span>, 
        <span class="hljs-string">&quot;deleted&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;doCompact&quot;</span> : <span class="hljs-literal">true</span>, 
        <span class="hljs-string">&quot;indexBuckets&quot;</span> : <span class="hljs-number">8</span>, 
        <span class="hljs-string">&quot;isVolatile&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;maximalSize&quot;</span> : <span class="hljs-number">2097152</span>, 
        <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;_aqlfunctions&quot;</span>, 
        <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-number">2</span>, 
        <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-number">5</span>, 
        <span class="hljs-string">&quot;waitForSync&quot;</span> : <span class="hljs-literal">false</span> 
      }, 
      <span class="hljs-string">&quot;indexes&quot;</span> : [ ] 
    }, 
    { 
      <span class="hljs-string">&quot;parameters&quot;</span> : { 
        <span class="hljs-string">&quot;cid&quot;</span> : <span class="hljs-string">&quot;63&quot;</span>, 
        <span class="hljs-string">&quot;deleted&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;doCompact&quot;</span> : <span class="hljs-literal">true</span>, 
        <span class="hljs-string">&quot;indexBuckets&quot;</span> : <span class="hljs-number">8</span>, 
        <span class="hljs-string">&quot;isVolatile&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;maximalSize&quot;</span> : <span class="hljs-number">1048576</span>, 
        <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;_frontend&quot;</span>, 
        <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-number">2</span>, 
        <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-number">5</span>, 
        <span class="hljs-string">&quot;waitForSync&quot;</span> : <span class="hljs-literal">false</span> 
      }, 
      <span class="hljs-string">&quot;indexes&quot;</span> : [ ] 
    }, 
    { 
      <span class="hljs-string">&quot;parameters&quot;</span> : { 
        <span class="hljs-string">&quot;cid&quot;</span> : <span class="hljs-string">&quot;2&quot;</span>, 
        <span class="hljs-string">&quot;deleted&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;doCompact&quot;</span> : <span class="hljs-literal">true</span>, 
        <span class="hljs-string">&quot;indexBuckets&quot;</span> : <span class="hljs-number">8</span>, 
        <span class="hljs-string">&quot;isVolatile&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;maximalSize&quot;</span> : <span class="hljs-number">1048576</span>, 
        <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;_graphs&quot;</span>, 
        <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-number">2</span>, 
        <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-number">5</span>, 
        <span class="hljs-string">&quot;waitForSync&quot;</span> : <span class="hljs-literal">false</span> 
      }, 
      <span class="hljs-string">&quot;indexes&quot;</span> : [ ] 
    }, 
    { 
      <span class="hljs-string">&quot;parameters&quot;</span> : { 
        <span class="hljs-string">&quot;cid&quot;</span> : <span class="hljs-string">&quot;25&quot;</span>, 
        <span class="hljs-string">&quot;deleted&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;doCompact&quot;</span> : <span class="hljs-literal">true</span>, 
        <span class="hljs-string">&quot;indexBuckets&quot;</span> : <span class="hljs-number">8</span>, 
        <span class="hljs-string">&quot;isVolatile&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;maximalSize&quot;</span> : <span class="hljs-number">1048576</span>, 
        <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;_modules&quot;</span>, 
        <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-number">2</span>, 
        <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-number">5</span>, 
        <span class="hljs-string">&quot;waitForSync&quot;</span> : <span class="hljs-literal">false</span> 
      }, 
      <span class="hljs-string">&quot;indexes&quot;</span> : [ ] 
    }, 
    { 
      <span class="hljs-string">&quot;parameters&quot;</span> : { 
        <span class="hljs-string">&quot;cid&quot;</span> : <span class="hljs-string">&quot;27&quot;</span>, 
        <span class="hljs-string">&quot;deleted&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;doCompact&quot;</span> : <span class="hljs-literal">true</span>, 
        <span class="hljs-string">&quot;indexBuckets&quot;</span> : <span class="hljs-number">8</span>, 
        <span class="hljs-string">&quot;isVolatile&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;maximalSize&quot;</span> : <span class="hljs-number">8388608</span>, 
        <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;_routing&quot;</span>, 
        <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-number">2</span>, 
        <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-number">5</span>, 
        <span class="hljs-string">&quot;waitForSync&quot;</span> : <span class="hljs-literal">false</span> 
      }, 
      <span class="hljs-string">&quot;indexes&quot;</span> : [ ] 
    }, 
    { 
      <span class="hljs-string">&quot;parameters&quot;</span> : { 
        <span class="hljs-string">&quot;cid&quot;</span> : <span class="hljs-string">&quot;7&quot;</span>, 
        <span class="hljs-string">&quot;deleted&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;doCompact&quot;</span> : <span class="hljs-literal">true</span>, 
        <span class="hljs-string">&quot;indexBuckets&quot;</span> : <span class="hljs-number">8</span>, 
        <span class="hljs-string">&quot;isVolatile&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;maximalSize&quot;</span> : <span class="hljs-number">4194304</span>, 
        <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;_users&quot;</span>, 
        <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-number">2</span>, 
        <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-number">5</span>, 
        <span class="hljs-string">&quot;waitForSync&quot;</span> : <span class="hljs-literal">false</span> 
      }, 
      <span class="hljs-string">&quot;indexes&quot;</span> : [ 
        { 
          <span class="hljs-string">&quot;fields&quot;</span> : [ 
            <span class="hljs-string">&quot;user&quot;</span> 
          ], 
          <span class="hljs-string">&quot;id&quot;</span> : <span class="hljs-string">&quot;11&quot;</span>, 
          <span class="hljs-string">&quot;selectivityEstimate&quot;</span> : <span class="hljs-number">1</span>, 
          <span class="hljs-string">&quot;sparse&quot;</span> : <span class="hljs-literal">true</span>, 
          <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-string">&quot;hash&quot;</span>, 
          <span class="hljs-string">&quot;unique&quot;</span> : <span class="hljs-literal">true</span> 
        } 
      ] 
    }, 
    { 
      <span class="hljs-string">&quot;parameters&quot;</span> : { 
        <span class="hljs-string">&quot;cid&quot;</span> : <span class="hljs-string">&quot;104&quot;</span>, 
        <span class="hljs-string">&quot;deleted&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;doCompact&quot;</span> : <span class="hljs-literal">true</span>, 
        <span class="hljs-string">&quot;indexBuckets&quot;</span> : <span class="hljs-number">8</span>, 
        <span class="hljs-string">&quot;isVolatile&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;maximalSize&quot;</span> : <span class="hljs-number">33554432</span>, 
        <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;animals&quot;</span>, 
        <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-number">2</span>, 
        <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-number">5</span>, 
        <span class="hljs-string">&quot;waitForSync&quot;</span> : <span class="hljs-literal">false</span> 
      }, 
      <span class="hljs-string">&quot;indexes&quot;</span> : [ ] 
    }, 
    { 
      <span class="hljs-string">&quot;parameters&quot;</span> : { 
        <span class="hljs-string">&quot;cid&quot;</span> : <span class="hljs-string">&quot;98&quot;</span>, 
        <span class="hljs-string">&quot;deleted&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;doCompact&quot;</span> : <span class="hljs-literal">true</span>, 
        <span class="hljs-string">&quot;indexBuckets&quot;</span> : <span class="hljs-number">8</span>, 
        <span class="hljs-string">&quot;isVolatile&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;maximalSize&quot;</span> : <span class="hljs-number">33554432</span>, 
        <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;demo&quot;</span>, 
        <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-number">2</span>, 
        <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-number">5</span>, 
        <span class="hljs-string">&quot;waitForSync&quot;</span> : <span class="hljs-literal">false</span> 
      }, 
      <span class="hljs-string">&quot;indexes&quot;</span> : [ ] 
    }, 
    { 
      <span class="hljs-string">&quot;parameters&quot;</span> : { 
        <span class="hljs-string">&quot;cid&quot;</span> : <span class="hljs-string">&quot;11009&quot;</span>, 
        <span class="hljs-string">&quot;deleted&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;doCompact&quot;</span> : <span class="hljs-literal">true</span>, 
        <span class="hljs-string">&quot;indexBuckets&quot;</span> : <span class="hljs-number">8</span>, 
        <span class="hljs-string">&quot;isVolatile&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;maximalSize&quot;</span> : <span class="hljs-number">33554432</span>, 
        <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;IndexedCollection1&quot;</span>, 
        <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-number">2</span>, 
        <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-number">5</span>, 
        <span class="hljs-string">&quot;waitForSync&quot;</span> : <span class="hljs-literal">false</span> 
      }, 
      <span class="hljs-string">&quot;indexes&quot;</span> : [ 
        { 
          <span class="hljs-string">&quot;fields&quot;</span> : [ 
            <span class="hljs-string">&quot;name&quot;</span> 
          ], 
          <span class="hljs-string">&quot;id&quot;</span> : <span class="hljs-string">&quot;11012&quot;</span>, 
          <span class="hljs-string">&quot;selectivityEstimate&quot;</span> : <span class="hljs-number">1</span>, 
          <span class="hljs-string">&quot;sparse&quot;</span> : <span class="hljs-literal">false</span>, 
          <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-string">&quot;hash&quot;</span>, 
          <span class="hljs-string">&quot;unique&quot;</span> : <span class="hljs-literal">false</span> 
        }, 
        { 
          <span class="hljs-string">&quot;fields&quot;</span> : [ 
            <span class="hljs-string">&quot;a&quot;</span>, 
            <span class="hljs-string">&quot;b&quot;</span> 
          ], 
          <span class="hljs-string">&quot;id&quot;</span> : <span class="hljs-string">&quot;11015&quot;</span>, 
          <span class="hljs-string">&quot;sparse&quot;</span> : <span class="hljs-literal">false</span>, 
          <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-string">&quot;skiplist&quot;</span>, 
          <span class="hljs-string">&quot;unique&quot;</span> : <span class="hljs-literal">true</span> 
        } 
      ] 
    }, 
    { 
      <span class="hljs-string">&quot;parameters&quot;</span> : { 
        <span class="hljs-string">&quot;cid&quot;</span> : <span class="hljs-string">&quot;11017&quot;</span>, 
        <span class="hljs-string">&quot;deleted&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;doCompact&quot;</span> : <span class="hljs-literal">true</span>, 
        <span class="hljs-string">&quot;indexBuckets&quot;</span> : <span class="hljs-number">8</span>, 
        <span class="hljs-string">&quot;isVolatile&quot;</span> : <span class="hljs-literal">false</span>, 
        <span class="hljs-string">&quot;maximalSize&quot;</span> : <span class="hljs-number">33554432</span>, 
        <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;IndexedCollection2&quot;</span>, 
        <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-number">2</span>, 
        <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-number">5</span>, 
        <span class="hljs-string">&quot;waitForSync&quot;</span> : <span class="hljs-literal">false</span> 
      }, 
      <span class="hljs-string">&quot;indexes&quot;</span> : [ 
        { 
          <span class="hljs-string">&quot;fields&quot;</span> : [ 
            <span class="hljs-string">&quot;text&quot;</span> 
          ], 
          <span class="hljs-string">&quot;id&quot;</span> : <span class="hljs-string">&quot;11020&quot;</span>, 
          <span class="hljs-string">&quot;minLength&quot;</span> : <span class="hljs-number">10</span>, 
          <span class="hljs-string">&quot;sparse&quot;</span> : <span class="hljs-literal">true</span>, 
          <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-string">&quot;fulltext&quot;</span>, 
          <span class="hljs-string">&quot;unique&quot;</span> : <span class="hljs-literal">false</span> 
        }, 
        { 
          <span class="hljs-string">&quot;fields&quot;</span> : [ 
            <span class="hljs-string">&quot;a&quot;</span> 
          ], 
          <span class="hljs-string">&quot;id&quot;</span> : <span class="hljs-string">&quot;11023&quot;</span>, 
          <span class="hljs-string">&quot;sparse&quot;</span> : <span class="hljs-literal">false</span>, 
          <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-string">&quot;skiplist&quot;</span>, 
          <span class="hljs-string">&quot;unique&quot;</span> : <span class="hljs-literal">false</span> 
        } 
      ] 
    } 
  ], 
  <span class="hljs-string">&quot;state&quot;</span> : { 
    <span class="hljs-string">&quot;running&quot;</span> : <span class="hljs-literal">true</span>, 
    <span class="hljs-string">&quot;lastLogTick&quot;</span> : <span class="hljs-string">&quot;11006&quot;</span>, 
    <span class="hljs-string">&quot;lastUncommittedLogTick&quot;</span> : <span class="hljs-string">&quot;11024&quot;</span>, 
    <span class="hljs-string">&quot;totalEvents&quot;</span> : <span class="hljs-number">3758</span>, 
    <span class="hljs-string">&quot;time&quot;</span> : <span class="hljs-string">&quot;2016-06-02T11:43:47Z&quot;</span> 
  }, 
  <span class="hljs-string">&quot;tick&quot;</span> : <span class="hljs-string">&quot;11024&quot;</span> 
}
</pre>
</div>
<div id="RestReplicationInventoryIndexes_short" onclick="$(&apos;#RestReplicationInventoryIndexes_short&apos;).hide(); $(&apos;#RestReplicationInventoryIndexes_long&apos;).show();">
<pre>
shell&gt; curl --dump - http://localhost:8529/_api/replication/inventory

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<p>The <em>dump</em> method can be used to fetch data from a specific collection. As the
results of the dump command can be huge, <em>dump</em> may not return all data from a collection
at once. Instead, the dump command may be called repeatedly by replication clients
until there is no more data to fetch. The dump command will not only return the
current documents in the collection, but also document updates and deletions.</p>
<p>Please note that the <em>dump</em> method will only return documents, updates and deletions
from a collection&apos;s journals and datafiles. Operations that are stored in the write-ahead
log only will not be returned. In order to ensure that these operations are included
in a dump, the write-ahead log must be flushed first. </p>
<p>To get to an identical state of data, replication clients should apply the individual
parts of the dump results in the same order as they are provided.</p>
<!-- arangod/RestHandler/RestReplicationHandler.cpp -->
<h3 id="return-data-of-a-collection">Return data of a collection</h3>
<p> returns the whole content of one collection</p>
<p><code>GET /_api/replication/dump</code></p>
<p><strong>Query Parameters</strong></p>
<ul>
<li><em>collection</em> (required):
The name or id of the collection to dump.</li>
<li><em>from</em> (optional):
Lower bound tick value for results.</li>
<li><em>to</em> (optional):
Upper bound tick value for results.</li>
<li><em>chunkSize</em> (optional):
Approximate maximum size of the returned result.</li>
<li><em>includeSystem</em> (optional):
Include system collections in the result. The default value is <em>true</em>.</li>
<li><em>failOnUnknown</em> (optional):
Produce an error when dumped edges refer to now-unknown collections.</li>
<li><em>ticks</em> (optional):
Whether or not to include tick values in the dump. The default value is <em>true</em>.</li>
<li><em>flush</em> (optional):
Whether or not to flush the WAL before dumping. The default value is <em>true</em>.</li>
</ul>
<p>Returns the data from the collection for the requested range.
When the <em>from</em> query parameter is not used, collection events are returned from
the beginning. When the <em>from</em> parameter is used, the result will only contain
collection entries which have higher tick values than the specified <em>from</em> value
(note: the log entry with a tick value equal to <em>from</em> will be excluded).
The <em>to</em> query parameter can be used to optionally restrict the upper bound of
the result to a certain tick value. If used, the result will only contain
collection entries with tick values up to (including) <em>to</em>.
The <em>chunkSize</em> query parameter can be used to control the size of the result.
It must be specified in bytes. The <em>chunkSize</em> value will only be honored
approximately. Otherwise a too low <em>chunkSize</em> value could cause the server
to not be able to put just one entry into the result and return it.
Therefore, the <em>chunkSize</em> value will only be consulted after an entry has
been written into the result. If the result size is then bigger than
<em>chunkSize</em>, the server will respond with as many entries as there are
in the response already. If the result size is still smaller than <em>chunkSize</em>,
the server will try to return more data if there&apos;s more data left to return.
If <em>chunkSize</em> is not specified, some server-side default value will be used.
The <em>Content-Type</em> of the result is <em>application/x-arango-dump</em>. This is an
easy-to-process format, with all entries going onto separate lines in the
response body.
Each line itself is a JSON object, with at least the following attributes:</p>
<ul>
<li><em>tick</em>: the operation&apos;s tick attribute</li>
<li><em>key</em>: the key of the document/edge or the key used in the deletion operation</li>
<li><em>rev</em>: the revision id of the document/edge or the deletion operation</li>
<li><em>data</em>: the actual document/edge data for types 2300 and 2301. The full
document/edge data will be returned even for updates.</li>
<li><em>type</em>: the type of entry. Possible values for <em>type</em> are:<ul>
<li>2300: document insertion/update</li>
<li>2301: edge insertion/update</li>
<li>2302: document/edge deletion
<strong>Note</strong>: there will be no distinction between inserts and updates when calling this method.</li>
</ul>
</li>
</ul>
<p><strong>Return Codes</strong></p>
<ul>
<li><em>200</em>:
is returned if the request was executed successfully and data was returned. The header
<code>x-arango-replication-lastincluded</code> is set to the tick of the last document returned.</li>
<li><em>204</em>:
is returned if the request was executed successfully, but there was no content available.
The header <code>x-arango-replication-lastincluded</code> is <code>0</code> in this case.</li>
<li><em>400</em>:
is returned if either the <em>from</em> or <em>to</em> values are invalid.</li>
<li><em>404</em>:
is returned when the collection could not be found.</li>
<li><em>405</em>:
is returned when an invalid HTTP method is used.</li>
<li><em>500</em>:
is returned if an error occurred while assembling the response.</li>
</ul>
<p><strong>Examples</strong></p>
<p>Empty collection:</p>
<div id="RestReplicationDumpEmpty_container">
<div id="RestReplicationDumpEmpty_long">
<pre>
shell&gt; curl --dump - http://localhost:8529/_api/replication/dump?collection=testCollection

HTTP/1.1 204 No Content
content-type: application/x-arango-dump; charset=utf-8
x-arango-replication-checkmore: false
x-arango-replication-lastincluded: 0

</pre>
</div>
</div>

<p>Non-empty collection:</p>
<div id="RestReplicationDump_container">
<div id="RestReplicationDump_long">
<pre>
shell&gt; curl --dump - http://localhost:8529/_api/replication/dump?collection=testCollection

HTTP/1.1 200 OK
content-type: application/x-arango-dump; charset=utf-8
x-arango-replication-checkmore: false
x-arango-replication-lastincluded: 10996

&quot;{\&quot;tick\&quot;:\&quot;10987\&quot;,\&quot;type\&quot;:2300,\&quot;data\&quot;:{\&quot;_id\&quot;:\&quot;testCollection/123456\&quot;,\&quot;_key\&quot;:\&quot;123456\&quot;,\&quot;_rev\&quot;:\&quot;10986\&quot;,\&quot;b\&quot;:1,\&quot;c\&quot;:false,\&quot;d\&quot;:\&quot;additional value\&quot;}}
{\&quot;tick\&quot;:\&quot;10993\&quot;,\&quot;type\&quot;:2302,\&quot;data\&quot;:{\&quot;_key\&quot;:\&quot;foobar\&quot;,\&quot;_rev\&quot;:\&quot;10992\&quot;}}
{\&quot;tick\&quot;:\&quot;10996\&quot;,\&quot;type\&quot;:2302,\&quot;data\&quot;:{\&quot;_key\&quot;:\&quot;abcdef\&quot;,\&quot;_rev\&quot;:\&quot;10995\&quot;}}
&quot;
</pre>
</div>
</div>

<!-- arangod/RestHandler/RestReplicationHandler.cpp -->
<h3 id="synchronize-data-from-a-remote-endpoint">Synchronize data from a remote endpoint</h3>
<p> start a replication</p>
<p><code>PUT /_api/replication/sync</code></p>
<p><strong>Body Parameters</strong></p>
<ul>
<li><strong>username</strong>: an optional ArangoDB username to use when connecting to the endpoint.</li>
<li><strong>includeSystem</strong>: whether or not system collection operations will be applied</li>
<li><strong>endpoint</strong>: the master endpoint to connect to (e.g. &quot;tcp://192.168.173.13:8529&quot;).</li>
<li><strong>initialSyncMaxWaitTime</strong>: the maximum wait time (in seconds) that the initial synchronization will
wait for a response from the master when fetching initial collection data.
This wait time can be used to control after what time the initial synchronization
will give up waiting for a response and fail.
This value will be ignored if set to <em>0</em>.</li>
<li><strong>database</strong>: the database name on the master (if not specified, defaults to the
name of the local current database).</li>
<li><strong>restrictType</strong>: an optional string value for collection filtering. When
specified, the allowed values are <em>include</em> or <em>exclude</em>.</li>
<li><strong>incremental</strong>: if set to <em>true</em>, then an incremental synchronization method will be used
for synchronizing data in collections. This method is useful when
collections already exist locally, and only the remaining differences need
to be transferred from the remote endpoint. In this case, the incremental
synchronization can be faster than a full synchronization.
The default value is <em>false</em>, meaning that the complete data from the remote
collection will be transferred.</li>
<li><strong>restrictCollections</strong>: an optional array of collections for use with
<em>restrictType</em>. If <em>restrictType</em> is <em>include</em>, only the specified collections
will be sychronised. If <em>restrictType</em> is <em>exclude</em>, all but the specified
collections will be synchronized. of type string</li>
<li><strong>password</strong>: the password to use when connecting to the endpoint.</li>
</ul>
<!-- arangod/RestHandler/RestReplicationHandler.cpp -->
<h3 id="return-cluster-inventory-of-collections-and-indexes">Return cluster inventory of collections and indexes</h3>
<p> returs an overview of collections and indexes in a cluster</p>
<p><code>GET /_api/replication/clusterInventory</code></p>
<p><strong>Query Parameters</strong></p>
<ul>
<li><em>includeSystem</em> (optional):
Include system collections in the result. The default value is <em>true</em>.</li>
</ul>
<p>Returns the array of collections and indexes available on the cluster.
The response will be an array of JSON objects, one for each collection.
Each collection containscontains exactly two keys &quot;parameters&quot; and
&quot;indexes&quot;. This
information comes from Plan/Collections/{DB-Name}/<em> in the agency,
just that the </em>indexes* attribute there is relocated to adjust it to
the data format of arangodump.</p>
<p><strong>Return Codes</strong></p>
<ul>
<li><em>200</em>:
is returned if the request was executed successfully.</li>
<li><em>405</em>:
is returned when an invalid HTTP method is used.</li>
<li><em>500</em>:
is returned if an error occurred while assembling the response.</li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../Replications/index.html" class="navigation navigation-prev " aria-label="Previous page: Replication"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../Replications/ReplicationLogger.html" class="navigation navigation-next " aria-label="Next page: Replication Logger"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.js"></script>
    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.1.1/anchor.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-anchorjs/anchor-style.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-piwik/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"addcssjs":{"js":["styles/header.js"],"css":["styles/header.css"]},"add-header":{"BASE_PATH":"https://docs.arangodb.com/devel"},"piwik":{"URL":"www.arangodb.com/piwik/","siteId":12},"toggle-chapters":{},"anchorjs":{},"highlight":{},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        <!-- body:end -->
<script type="text/javascript">var _paq = _paq || [];_paq.push(['trackPageView']);_paq.push(['enableLinkTracking']);(function() {var u=(("https:" == document.location.protocol) ? "https" : "http") + "://www.arangodb.com/piwik/";_paq.push(['setTrackerUrl', u+'piwik.php']);_paq.push(['setSiteId', 12]);var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript';g.defer=true; g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);})();</script><noscript><p><img src="http://www.arangodb.com/piwik/piwik.php?idsite=12" style="border:0;" alt="" /></p></noscript>
    </body>
    <!-- End of book ArangoDB v3.0.x-devel (2016-06-02) HTTP API Documentation -->
</html>
