<!DOCTYPE HTML>
<html lang="en" >
    <!-- Start book ArangoDB v3.0.x-devel (2016-06-02) HTTP API Documentation -->
    <head>
        <!-- head:start -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Replication Applier | ArangoDB v3.0.x-devel (2016-06-02) HTTP API Documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        <meta name="author" content="ArangoDB GmbH">
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    
        <link rel="stylesheet" href="../styles/website.css">
    

        
    
    
    <link rel="next" href="../Replications/OtherReplication.html" />
    
    
    <link rel="prev" href="../Replications/ReplicationLogger.html" />
    

        <!-- head:end -->
<script type="text/javascript" src="../styles/header.js"></script><link rel="stylesheet" type="text/css" href="../styles/header.css">
    </head>
    <body>
        <!-- body:start -->
<div id="header">
  <div id="logo">
    <a href="https://arangodb.com/">
      <img src="https://docs.arangodb.com/assets/arangodb_logo_2016.png">
    </a>
  </div>
  <div id="logo-small">
    <a href="https://arangodb.com/">
      <img src="https://docs.arangodb.com/assets/arangodb_logo_small_2016.png">
    </a>
  </div>
  <select id="version-switcher">
    <option value="devel">v3.0.x-devel (2016-06-02)</option>
    <option value="2.8">v2.8</option>
    <option value="2.7">v2.7</option>
    <option value="2.6">v2.6</option>
    <option value="2.5">v2.5</option>
    <option value="2.4">v2.4</option>
    <option value="2.3">v2.3</option>
    <option value="2.2">v2.2</option>
    <option value="2.1">v2.1</option>
  </select>
  <div class="google-search">
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
  <ul id="navmenu">
    <li>
      <a href="https://docs.arangodb.com/devel/Manual/index.html">Manual</a>
    </li>
    <li>
      <a href="https://docs.arangodb.com/devel/AQL/index.html">AQL</a>
    </li>
    <li class="active-tab">
      <a href="https://docs.arangodb.com/devel/HTTP/index.html">HTTP</a>
    </li>
    <li>
      <a href="https://docs.arangodb.com/cookbook">Cookbook</a>
    </li>
    <li class="socialIcons">
      <a href="https://github.com/ArangoDB/ArangoDB/issues" target="blank" name="github">
        <i title="GitHub" class="fa fa-github"></i>
      </a>
    </li>
    <li class="socialIcons">
      <a href="http://stackoverflow.com/questions/tagged/arangodb" target="blank" name="stackoverflow">
        <i title="Stackoverflow" class="fa fa-stack-overflow"></i>
      </a>
    </li>
    <li class="socialIcons socialIcons-googlegroups">
      <a href="https://groups.google.com/forum/#!forum/arangodb" target="blank" name="google groups">
        <img title="Google Groups" alt="Google Groups" src="https://docs.arangodb.com/assets/googlegroupsIcon.png" />
      </a>
    </li>
  </ul>
</div>
        
    <div class="book"
        data-level="18.3"
        data-chapter-title="Replication Applier"
        data-filepath="Replications/ReplicationApplier.md"
        data-basepath=".."
        data-revision="Thu Jun 02 2016 11:44:44 GMT+0000 (UTC)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="General/index.html">
            
                
                    <a href="../General/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        General HTTP Handling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="Api/index.html">
            
                
                    <a href="../Api/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        HTTP Interface
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="Database/index.html">
            
                
                    <a href="../Database/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Databases
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="Database/DatabaseEndpoint.html">
            
                
                    <a href="../Database/DatabaseEndpoint.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        To-Endpoint
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="Database/DatabaseManagement.html">
            
                
                    <a href="../Database/DatabaseManagement.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Management
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="Database/NotesOnDatabases.html">
            
                
                    <a href="../Database/NotesOnDatabases.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Notes on Databases
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="Collection/index.html">
            
                
                    <a href="../Collection/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Collections
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="Collection/Creating.html">
            
                
                    <a href="../Collection/Creating.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Creating
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="Collection/Getting.html">
            
                
                    <a href="../Collection/Getting.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Getting Information
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="Collection/Modifying.html">
            
                
                    <a href="../Collection/Modifying.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Modifying
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="Document/index.html">
            
                
                    <a href="../Document/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Documents
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="Document/AddressAndEtag.html">
            
                
                    <a href="../Document/AddressAndEtag.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Basics and Terminology
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="Document/WorkingWithDocuments.html">
            
                
                    <a href="../Document/WorkingWithDocuments.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Working with Documents
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="Edge/index.html">
            
                
                    <a href="../Edge/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Edges
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="Edge/AddressAndEtag.html">
            
                
                    <a href="../Edge/AddressAndEtag.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Address and ETag
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="Edge/WorkingWithEdges.html">
            
                
                    <a href="../Edge/WorkingWithEdges.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Working with Edges
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="Gharial/index.html">
            
                
                    <a href="../Gharial/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        General Graph
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="Gharial/Management.html">
            
                
                    <a href="../Gharial/Management.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        Management
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="Gharial/Vertices.html">
            
                
                    <a href="../Gharial/Vertices.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        Vertices
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="Gharial/Edges.html">
            
                
                    <a href="../Gharial/Edges.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        Edges
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="Traversal/index.html">
            
                
                    <a href="../Traversal/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Traversals
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="AqlQueryCursor/index.html">
            
                
                    <a href="../AqlQueryCursor/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        AQL Query Cursors
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="AqlQueryCursor/QueryResults.html">
            
                
                    <a href="../AqlQueryCursor/QueryResults.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        Query Results
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="AqlQueryCursor/AccessingCursors.html">
            
                
                    <a href="../AqlQueryCursor/AccessingCursors.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                        Accessing Cursors
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10" data-path="AqlQuery/index.html">
            
                
                    <a href="../AqlQuery/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        AQL Queries
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="11" data-path="AqlQueryCache/index.html">
            
                
                    <a href="../AqlQueryCache/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        AQL Query Cache
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="AqlUserFunctions/index.html">
            
                
                    <a href="../AqlUserFunctions/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        AQL User Functions Management
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="SimpleQuery/index.html">
            
                
                    <a href="../SimpleQuery/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Simple Queries
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="14" data-path="AsyncResultsManagement/index.html">
            
                
                    <a href="../AsyncResultsManagement/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        Async Result Handling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="BulkImports/index.html">
            
                
                    <a href="../BulkImports/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        Bulk Import / Export
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="15.1" data-path="BulkImports/ImportingSelfContained.html">
            
                
                    <a href="../BulkImports/ImportingSelfContained.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.1.</b>
                        
                        JSON Documents
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15.2" data-path="BulkImports/ImportingHeadersAndValues.html">
            
                
                    <a href="../BulkImports/ImportingHeadersAndValues.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.2.</b>
                        
                        Headers &amp; Values
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15.3" data-path="BatchRequest/index.html">
            
                
                    <a href="../BatchRequest/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.3.</b>
                        
                        Batch Requests
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15.4" data-path="Export/index.html">
            
                
                    <a href="../Export/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.4.</b>
                        
                        Exporting data
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="16" data-path="Indexes/index.html">
            
                
                    <a href="../Indexes/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        Indexes
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="16.1" data-path="Indexes/WorkingWith.html">
            
                
                    <a href="../Indexes/WorkingWith.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.1.</b>
                        
                        Working with Indexes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.2" data-path="Indexes/Hash.html">
            
                
                    <a href="../Indexes/Hash.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.2.</b>
                        
                        Hash
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.3" data-path="Indexes/Skiplist.html">
            
                
                    <a href="../Indexes/Skiplist.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.3.</b>
                        
                        Skiplist
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.4" data-path="Indexes/Geo.html">
            
                
                    <a href="../Indexes/Geo.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.4.</b>
                        
                        Geo
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.5" data-path="Indexes/Fulltext.html">
            
                
                    <a href="../Indexes/Fulltext.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.5.</b>
                        
                        Fulltext
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="17" data-path="Transaction/index.html">
            
                
                    <a href="../Transaction/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                        Transactions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18" data-path="Replications/index.html">
            
                
                    <a href="../Replications/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.</b>
                        
                        Replication
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="18.1" data-path="Replications/ReplicationDump.html">
            
                
                    <a href="../Replications/ReplicationDump.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.1.</b>
                        
                        Replication Dump
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18.2" data-path="Replications/ReplicationLogger.html">
            
                
                    <a href="../Replications/ReplicationLogger.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.2.</b>
                        
                        Replication Logger
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="18.3" data-path="Replications/ReplicationApplier.html">
            
                
                    <a href="../Replications/ReplicationApplier.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.3.</b>
                        
                        Replication Applier
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18.4" data-path="Replications/OtherReplication.html">
            
                
                    <a href="../Replications/OtherReplication.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.4.</b>
                        
                        Other Replication Commands
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="19" data-path="ShardingInterface/index.html">
            
                
                    <a href="../ShardingInterface/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>19.</b>
                        
                        Sharding
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="20" data-path="AdministrationAndMonitoring/index.html">
            
                
                    <a href="../AdministrationAndMonitoring/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>20.</b>
                        
                        Monitoring
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="21" data-path="Endpoints/index.html">
            
                
                    <a href="../Endpoints/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>21.</b>
                        
                        Endpoints
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="22" data-path="UserManagement/index.html">
            
                
                    <a href="../UserManagement/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>22.</b>
                        
                        User Management
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="23" data-path="Tasks/index.html">
            
                
                    <a href="../Tasks/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>23.</b>
                        
                        Tasks
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="24" data-path="MiscellaneousFunctions/index.html">
            
                
                    <a href="../MiscellaneousFunctions/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>24.</b>
                        
                        Miscellaneous functions
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >ArangoDB v3.0.x-devel (2016-06-02) HTTP API Documentation</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <p><a name="replication_applier_commands"></a></p>
<h1 id="replication-applier-commands">Replication Applier Commands</h1>
<p>The applier commands allow to remotely start, stop, and query the state and 
configuration of an ArangoDB database&apos;s replication applier.</p>
<!-- arangod/RestHandler/RestReplicationHandler.cpp -->
<h3 id="return-configuration-of-replication-applier">Return configuration of replication applier</h3>
<p> fetch the current replication configuration</p>
<p><code>GET /_api/replication/applier-config</code></p>
<p>Returns the configuration of the replication applier.
The body of the response is a JSON object with the configuration. The
following attributes may be present in the configuration:</p>
<ul>
<li><em>endpoint</em>: the logger server to connect to (e.g. &quot;tcp://192.168.173.13:8529&quot;).</li>
<li><em>database</em>: the name of the database to connect to (e.g. &quot;_system&quot;).</li>
<li><em>username</em>: an optional ArangoDB username to use when connecting to the endpoint.</li>
<li><em>password</em>: the password to use when connecting to the endpoint.</li>
<li><em>maxConnectRetries</em>: the maximum number of connection attempts the applier
will make in a row. If the applier cannot establish a connection to the
endpoint in this number of attempts, it will stop itself.</li>
<li><em>connectTimeout</em>: the timeout (in seconds) when attempting to connect to the
endpoint. This value is used for each connection attempt.</li>
<li><em>requestTimeout</em>: the timeout (in seconds) for individual requests to the endpoint.</li>
<li><em>chunkSize</em>: the requested maximum size for log transfer packets that
is used when the endpoint is contacted.</li>
<li><em>autoStart</em>: whether or not to auto-start the replication applier on
(next and following) server starts</li>
<li><em>adaptivePolling</em>: whether or not the replication applier will use
adaptive polling.</li>
<li><em>includeSystem</em>: whether or not system collection operations will be applied</li>
<li><em>autoResync</em>: whether or not the slave should perform a full automatic
resynchronization with the master in case the master cannot serve log data
requested by the slave, or when the replication is started and no tick
value
can be found.</li>
<li><em>autoResyncRetries</em>: number of resynchronization retries that will be performed
in a row when automatic resynchronization is enabled and kicks in. Setting this
to <em>0</em> will effectively disable <em>autoResync</em>. Setting it to some other value
will limit the number of retries that are performed. This helps preventing endless
retries in case resynchronizations always fail.</li>
<li><em>initialSyncMaxWaitTime</em>: the maximum wait time (in seconds) that the initial
synchronization will wait for a response from the master when fetching initial
collection data.
This wait time can be used to control after what time the initial synchronization
will give up waiting for a response and fail. This value is relevant even
for continuous replication when <em>autoResync</em> is set to <em>true</em> because this
may re-start the initial synchronization when the master cannot provide
log data the slave requires.
This value will be ignored if set to <em>0</em>.</li>
<li><em>connectionRetryWaitTime</em>: the time (in seconds) that the applier will
intentionally idle before it retries connecting to the master in case of
connection problems.
This value will be ignored if set to <em>0</em>.</li>
<li><em>idleMinWaitTime</em>: the minimum wait time (in seconds) that the applier will
intentionally idle before fetching more log data from the master in case
the master has already sent all its log data. This wait time can be used
to control the frequency with which the replication applier sends HTTP log
fetch requests to the master in case there is no write activity on the master.
This value will be ignored if set to <em>0</em>.</li>
<li><em>idleMaxWaitTime</em>: the maximum wait time (in seconds) that the applier will
intentionally idle before fetching more log data from the master in case the
master has already sent all its log data and there have been previous log
fetch attempts that resulted in no more log data. This wait time can be used
to control the maximum frequency with which the replication applier sends HTTP
log fetch requests to the master in case there is no write activity on the
master for longer periods. This configuration value will only be used if the
option <em>adaptivePolling</em> is set to <em>true</em>.
This value will be ignored if set to <em>0</em>.</li>
<li><em>requireFromPresent</em>: if set to <em>true</em>, then the replication applier will check
at start whether the start tick from which it starts or resumes replication is
still present on the master. If not, then there would be data loss. If
<em>requireFromPresent</em> is <em>true</em>, the replication applier will abort with an
appropriate error message. If set to <em>false</em>, then the replication applier will
still start, and ignore the data loss.</li>
<li><em>verbose</em>: if set to <em>true</em>, then a log line will be emitted for all operations
performed by the replication applier. This should be used for debugging
replication
problems only.</li>
<li><em>restrictType</em>: the configuration for <em>restrictCollections</em></li>
<li><em>restrictCollections</em>: the optional array of collections to include or exclude,
based on the setting of <em>restrictType</em></li>
</ul>
<p><strong>Return Codes</strong></p>
<ul>
<li><em>200</em>:
is returned if the request was executed successfully.</li>
<li><em>405</em>:
is returned when an invalid HTTP method is used.</li>
<li><em>500</em>:
is returned if an error occurred while assembling the response.</li>
</ul>
<p><strong>Examples</strong></p>
<div id="RestReplicationApplierGetConfig_container">
<div id="RestReplicationApplierGetConfig_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl --dump - http://localhost:8529/_api/replication/applier-config

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;requestTimeout&quot;</span> : <span class="hljs-number">600</span>, 
  <span class="hljs-string">&quot;connectTimeout&quot;</span> : <span class="hljs-number">10</span>, 
  <span class="hljs-string">&quot;ignoreErrors&quot;</span> : <span class="hljs-number">0</span>, 
  <span class="hljs-string">&quot;maxConnectRetries&quot;</span> : <span class="hljs-number">100</span>, 
  <span class="hljs-string">&quot;sslProtocol&quot;</span> : <span class="hljs-number">0</span>, 
  <span class="hljs-string">&quot;chunkSize&quot;</span> : <span class="hljs-number">0</span>, 
  <span class="hljs-string">&quot;autoStart&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;adaptivePolling&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;autoResync&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;autoResyncRetries&quot;</span> : <span class="hljs-number">2</span>, 
  <span class="hljs-string">&quot;includeSystem&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;requireFromPresent&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;verbose&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;incremental&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;restrictType&quot;</span> : <span class="hljs-string">&quot;&quot;</span>, 
  <span class="hljs-string">&quot;restrictCollections&quot;</span> : [ ], 
  <span class="hljs-string">&quot;connectionRetryWaitTime&quot;</span> : <span class="hljs-number">15</span>, 
  <span class="hljs-string">&quot;initialSyncMaxWaitTime&quot;</span> : <span class="hljs-number">300</span>, 
  <span class="hljs-string">&quot;idleMinWaitTime&quot;</span> : <span class="hljs-number">1</span>, 
  <span class="hljs-string">&quot;idleMaxWaitTime&quot;</span> : <span class="hljs-number">2.5</span> 
}
</pre>
</div>
<div id="RestReplicationApplierGetConfig_short" onclick="$(&apos;#RestReplicationApplierGetConfig_short&apos;).hide(); $(&apos;#RestReplicationApplierGetConfig_long&apos;).show();">
<pre>
shell&gt; curl --dump - http://localhost:8529/_api/replication/applier-config

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<!-- arangod/RestHandler/RestReplicationHandler.cpp -->
<h3 id="adjust-configuration-of-replication-applier">Adjust configuration of replication applier</h3>
<p> set configuration values of an applier</p>
<p><code>PUT /_api/replication/applier-config</code></p>
<p><strong>Body Parameters</strong></p>
<ul>
<li><strong>username</strong>: an optional ArangoDB username to use when connecting to the endpoint.</li>
<li><strong>includeSystem</strong>: whether or not system collection operations will be applied</li>
<li><strong>endpoint</strong>: the logger server to connect to (e.g. &quot;tcp://192.168.173.13:8529&quot;). The endpoint must be specified.</li>
<li><strong>verbose</strong>: if set to <em>true</em>, then a log line will be emitted for all operations 
performed by the replication applier. This should be used for debugging replication
problems only.</li>
<li><strong>connectTimeout</strong>: the timeout (in seconds) when attempting to connect to the
endpoint. This value is used for each connection attempt.</li>
<li><strong>chunkSize</strong>: the requested maximum size for log transfer packets that
is used when the endpoint is contacted.</li>
<li><strong>idleMinWaitTime</strong>: the minimum wait time (in seconds) that the applier will intentionally idle
before fetching more log data from the master in case the master has
already sent all its log data. This wait time can be used to control the
frequency with which the replication applier sends HTTP log fetch requests
to the master in case there is no write activity on the master.
This value will be ignored if set to <em>0</em>.</li>
<li><strong>requestTimeout</strong>: the timeout (in seconds) for individual requests to the endpoint.</li>
<li><strong>database</strong>: the name of the database on the endpoint. If not specified, defaults to the current local database name.</li>
<li><strong>requireFromPresent</strong>: if set to <em>true</em>, then the replication applier will check
at start whether the start tick from which it starts or resumes replication is
still present on the master. If not, then there would be data loss. If 
<em>requireFromPresent</em> is <em>true</em>, the replication applier will abort with an
appropriate error message. If set to <em>false</em>, then the replication applier will
still start, and ignore the data loss.</li>
<li><strong>restrictType</strong>: the configuration for <em>restrictCollections</em>; Has to be either <em>include</em> or <em>exclude</em></li>
<li><strong>password</strong>: the password to use when connecting to the endpoint.</li>
<li><strong>idleMaxWaitTime</strong>: the maximum wait time (in seconds) that the applier will intentionally idle 
before fetching more log data from the master in case the master has 
already sent all its log data and there have been previous log fetch attempts
that resulted in no more log data. This wait time can be used to control the
maximum frequency with which the replication applier sends HTTP log fetch
requests to the master in case there is no write activity on the master for
longer periods. This configuration value will only be used if the option
<em>adaptivePolling</em> is set to <em>true</em>.
This value will be ignored if set to <em>0</em>.</li>
<li><strong>adaptivePolling</strong>: if set to <em>true</em>, the replication applier will fall
to sleep for an increasingly long period in case the logger server at the
endpoint does not have any more replication events to apply. Using
adaptive polling is thus useful to reduce the amount of work for both the
applier and the logger server for cases when there are only infrequent
changes. The downside is that when using adaptive polling, it might take
longer for the replication applier to detect that there are new replication
events on the logger server.
Setting <em>adaptivePolling</em> to false will make the replication applier
contact the logger server in a constant interval, regardless of whether
the logger server provides updates frequently or seldom.</li>
<li><strong>autoStart</strong>: whether or not to auto-start the replication applier on
(next and following) server starts</li>
<li><strong>restrictCollections</strong>: the array of collections to include or exclude,
based on the setting of <em>restrictType</em> of type string</li>
<li><strong>maxConnectRetries</strong>: the maximum number of connection attempts the applier
will make in a row. If the applier cannot establish a connection to the
endpoint in this number of attempts, it will stop itself.</li>
<li><strong>initialSyncMaxWaitTime</strong>: the maximum wait time (in seconds) that the initial synchronization will
wait for a response from the master when fetching initial collection data.
This wait time can be used to control after what time the initial
synchronization
will give up waiting for a response and fail. This value is relevant even
for continuous replication when <em>autoResync</em> is set to <em>true</em> because this
may re-start the initial synchronization when the master cannot provide
log data the slave requires.
This value will be ignored if set to <em>0</em>.</li>
<li><strong>connectionRetryWaitTime</strong>: the time (in seconds) that the applier will intentionally idle before
it retries connecting to the master in case of connection problems.
This value will be ignored if set to <em>0</em>.</li>
<li><strong>autoResyncRetries</strong>: number of resynchronization retries that will be performed in a row when
automatic resynchronization is enabled and kicks in. Setting this to <em>0</em>
will
effectively disable <em>autoResync</em>. Setting it to some other value will limit
the number of retries that are performed. This helps preventing endless
retries
in case resynchronizations always fail.</li>
<li><strong>autoResync</strong>: whether or not the slave should perform a full automatic resynchronization
with the master in case the master cannot serve log data requested by the
slave,
or when the replication is started and no tick value can be found.</li>
</ul>
<div id="RestReplicationApplierSetConfig_container">
<div id="RestReplicationApplierSetConfig_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl -X PUT --data-binary @- --dump - http://localhost:8529/_api/replication/applier-config &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;endpoint&quot;</span> : <span class="hljs-string">&quot;tcp://127.0.0.1:8529&quot;</span>, 
  <span class="hljs-string">&quot;username&quot;</span> : <span class="hljs-string">&quot;replicationApplier&quot;</span>, 
  <span class="hljs-string">&quot;password&quot;</span> : <span class="hljs-string">&quot;applier1234@foxx&quot;</span>, 
  <span class="hljs-string">&quot;chunkSize&quot;</span> : <span class="hljs-number">4194304</span>, 
  <span class="hljs-string">&quot;autoStart&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;adaptivePolling&quot;</span> : <span class="hljs-literal">true</span> 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;endpoint&quot;</span> : <span class="hljs-string">&quot;tcp://127.0.0.1:8529&quot;</span>, 
  <span class="hljs-string">&quot;database&quot;</span> : <span class="hljs-string">&quot;_system&quot;</span>, 
  <span class="hljs-string">&quot;username&quot;</span> : <span class="hljs-string">&quot;replicationApplier&quot;</span>, 
  <span class="hljs-string">&quot;requestTimeout&quot;</span> : <span class="hljs-number">600</span>, 
  <span class="hljs-string">&quot;connectTimeout&quot;</span> : <span class="hljs-number">10</span>, 
  <span class="hljs-string">&quot;ignoreErrors&quot;</span> : <span class="hljs-number">0</span>, 
  <span class="hljs-string">&quot;maxConnectRetries&quot;</span> : <span class="hljs-number">100</span>, 
  <span class="hljs-string">&quot;sslProtocol&quot;</span> : <span class="hljs-number">0</span>, 
  <span class="hljs-string">&quot;chunkSize&quot;</span> : <span class="hljs-number">4194304</span>, 
  <span class="hljs-string">&quot;autoStart&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;adaptivePolling&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;autoResync&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;autoResyncRetries&quot;</span> : <span class="hljs-number">2</span>, 
  <span class="hljs-string">&quot;includeSystem&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;requireFromPresent&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;verbose&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;incremental&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;restrictType&quot;</span> : <span class="hljs-string">&quot;&quot;</span>, 
  <span class="hljs-string">&quot;restrictCollections&quot;</span> : [ ], 
  <span class="hljs-string">&quot;connectionRetryWaitTime&quot;</span> : <span class="hljs-number">15</span>, 
  <span class="hljs-string">&quot;initialSyncMaxWaitTime&quot;</span> : <span class="hljs-number">300</span>, 
  <span class="hljs-string">&quot;idleMinWaitTime&quot;</span> : <span class="hljs-number">1</span>, 
  <span class="hljs-string">&quot;idleMaxWaitTime&quot;</span> : <span class="hljs-number">2.5</span> 
}
</pre>
</div>
<div id="RestReplicationApplierSetConfig_short" onclick="$(&apos;#RestReplicationApplierSetConfig_short&apos;).hide(); $(&apos;#RestReplicationApplierSetConfig_long&apos;).show();">
<pre>
shell&gt; curl -X PUT --data-binary @- --dump - http://localhost:8529/_api/replication/applier-config &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;endpoint&quot;</span> : <span class="hljs-string">&quot;tcp://127.0.0.1:8529&quot;</span>, 
  <span class="hljs-string">&quot;username&quot;</span> : <span class="hljs-string">&quot;replicationApplier&quot;</span>, 
  <span class="hljs-string">&quot;password&quot;</span> : <span class="hljs-string">&quot;applier1234@foxx&quot;</span>, 
  <span class="hljs-string">&quot;chunkSize&quot;</span> : <span class="hljs-number">4194304</span>, 
  <span class="hljs-string">&quot;autoStart&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;adaptivePolling&quot;</span> : <span class="hljs-literal">true</span> 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<!-- arangod/RestHandler/RestReplicationHandler.cpp -->
<h3 id="start-replication-applier">Start replication applier</h3>
<p> start the replication applier</p>
<p><code>PUT /_api/replication/applier-start</code></p>
<p><strong>Query Parameters</strong></p>
<ul>
<li><em>from</em> (optional):
The remote <em>lastLogTick</em> value from which to start applying. If not specified,
the last saved tick from the previous applier run is used. If there is no
previous applier state saved, the applier will start at the beginning of the
logger server&apos;s log.</li>
</ul>
<p>Starts the replication applier. This will return immediately if the
replication applier is already running.
If the replication applier is not already running, the applier configuration
will be checked, and if it is complete, the applier will be started in a
background thread. This means that even if the applier will encounter any
errors while running, they will not be reported in the response to this
method.
To detect replication applier errors after the applier was started, use the
<em>/_api/replication/applier-state</em> API instead.</p>
<p><strong>Return Codes</strong></p>
<ul>
<li><em>200</em>:
is returned if the request was executed successfully.</li>
<li><em>400</em>:
is returned if the replication applier is not fully configured or the
configuration is invalid.</li>
<li><em>405</em>:
is returned when an invalid HTTP method is used.</li>
<li><em>500</em>:
is returned if an error occurred while assembling the response.</li>
</ul>
<p><strong>Examples</strong></p>
<div id="RestReplicationApplierStart_container">
<div id="RestReplicationApplierStart_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl -X PUT --dump - http://localhost:8529/_api/replication/applier-start

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;state&quot;</span> : { 
    <span class="hljs-string">&quot;running&quot;</span> : <span class="hljs-literal">true</span>, 
    <span class="hljs-string">&quot;lastAppliedContinuousTick&quot;</span> : <span class="hljs-literal">null</span>, 
    <span class="hljs-string">&quot;lastProcessedContinuousTick&quot;</span> : <span class="hljs-literal">null</span>, 
    <span class="hljs-string">&quot;lastAvailableContinuousTick&quot;</span> : <span class="hljs-literal">null</span>, 
    <span class="hljs-string">&quot;safeResumeTick&quot;</span> : <span class="hljs-literal">null</span>, 
    <span class="hljs-string">&quot;progress&quot;</span> : { 
      <span class="hljs-string">&quot;time&quot;</span> : <span class="hljs-string">&quot;2016-06-02T11:42:40Z&quot;</span>, 
      <span class="hljs-string">&quot;message&quot;</span> : <span class="hljs-string">&quot;applier initially created&quot;</span>, 
      <span class="hljs-string">&quot;failedConnects&quot;</span> : <span class="hljs-number">0</span> 
    }, 
    <span class="hljs-string">&quot;totalRequests&quot;</span> : <span class="hljs-number">0</span>, 
    <span class="hljs-string">&quot;totalFailedConnects&quot;</span> : <span class="hljs-number">0</span>, 
    <span class="hljs-string">&quot;totalEvents&quot;</span> : <span class="hljs-number">0</span>, 
    <span class="hljs-string">&quot;totalOperationsExcluded&quot;</span> : <span class="hljs-number">0</span>, 
    <span class="hljs-string">&quot;lastError&quot;</span> : { 
      <span class="hljs-string">&quot;errorNum&quot;</span> : <span class="hljs-number">0</span> 
    }, 
    <span class="hljs-string">&quot;time&quot;</span> : <span class="hljs-string">&quot;2016-06-02T11:43:16Z&quot;</span> 
  }, 
  <span class="hljs-string">&quot;server&quot;</span> : { 
    <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-string">&quot;3.0.x-devel&quot;</span>, 
    <span class="hljs-string">&quot;serverId&quot;</span> : <span class="hljs-string">&quot;16522320991458&quot;</span> 
  }, 
  <span class="hljs-string">&quot;endpoint&quot;</span> : <span class="hljs-string">&quot;tcp://127.0.0.1:8529&quot;</span>, 
  <span class="hljs-string">&quot;database&quot;</span> : <span class="hljs-string">&quot;_system&quot;</span> 
}
</pre>
</div>
<div id="RestReplicationApplierStart_short" onclick="$(&apos;#RestReplicationApplierStart_short&apos;).hide(); $(&apos;#RestReplicationApplierStart_long&apos;).show();">
<pre>
shell&gt; curl -X PUT --dump - http://localhost:8529/_api/replication/applier-start

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<!-- arangod/RestHandler/RestReplicationHandler.cpp -->
<h3 id="stop-replication-applier">Stop replication applier</h3>
<p> stop the replication</p>
<p><code>PUT /_api/replication/applier-stop</code></p>
<p>Stops the replication applier. This will return immediately if the
replication applier is not running.</p>
<p><strong>Return Codes</strong></p>
<ul>
<li><em>200</em>:
is returned if the request was executed successfully.</li>
<li><em>405</em>:
is returned when an invalid HTTP method is used.</li>
<li><em>500</em>:
is returned if an error occurred while assembling the response.</li>
</ul>
<p><strong>Examples</strong></p>
<div id="RestReplicationApplierStop_container">
<div id="RestReplicationApplierStop_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl -X PUT --dump - http://localhost:8529/_api/replication/applier-stop

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;state&quot;</span> : { 
    <span class="hljs-string">&quot;running&quot;</span> : <span class="hljs-literal">false</span>, 
    <span class="hljs-string">&quot;lastAppliedContinuousTick&quot;</span> : <span class="hljs-literal">null</span>, 
    <span class="hljs-string">&quot;lastProcessedContinuousTick&quot;</span> : <span class="hljs-literal">null</span>, 
    <span class="hljs-string">&quot;lastAvailableContinuousTick&quot;</span> : <span class="hljs-literal">null</span>, 
    <span class="hljs-string">&quot;safeResumeTick&quot;</span> : <span class="hljs-literal">null</span>, 
    <span class="hljs-string">&quot;progress&quot;</span> : { 
      <span class="hljs-string">&quot;time&quot;</span> : <span class="hljs-string">&quot;2016-06-02T11:43:17Z&quot;</span>, 
      <span class="hljs-string">&quot;message&quot;</span> : <span class="hljs-string">&quot;fetching master state information&quot;</span>, 
      <span class="hljs-string">&quot;failedConnects&quot;</span> : <span class="hljs-number">1</span> 
    }, 
    <span class="hljs-string">&quot;totalRequests&quot;</span> : <span class="hljs-number">3</span>, 
    <span class="hljs-string">&quot;totalFailedConnects&quot;</span> : <span class="hljs-number">3</span>, 
    <span class="hljs-string">&quot;totalEvents&quot;</span> : <span class="hljs-number">0</span>, 
    <span class="hljs-string">&quot;totalOperationsExcluded&quot;</span> : <span class="hljs-number">0</span>, 
    <span class="hljs-string">&quot;lastError&quot;</span> : { 
      <span class="hljs-string">&quot;errorNum&quot;</span> : <span class="hljs-number">1412</span>, 
      <span class="hljs-string">&quot;time&quot;</span> : <span class="hljs-string">&quot;2016-06-02T11:43:18Z&quot;</span>, 
      <span class="hljs-string">&quot;errorMessage&quot;</span> : <span class="hljs-string">&quot;could not connect to master at tcp://127.0.0.1:8529: Could not connect to &apos;http+tcp://127.0.0.1:8529&apos; &apos;connect() failed with #111 - Connection refused&apos;&quot;</span> 
    }, 
    <span class="hljs-string">&quot;time&quot;</span> : <span class="hljs-string">&quot;2016-06-02T11:43:18Z&quot;</span> 
  }, 
  <span class="hljs-string">&quot;server&quot;</span> : { 
    <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-string">&quot;3.0.x-devel&quot;</span>, 
    <span class="hljs-string">&quot;serverId&quot;</span> : <span class="hljs-string">&quot;16522320991458&quot;</span> 
  }, 
  <span class="hljs-string">&quot;endpoint&quot;</span> : <span class="hljs-string">&quot;tcp://127.0.0.1:8529&quot;</span>, 
  <span class="hljs-string">&quot;database&quot;</span> : <span class="hljs-string">&quot;_system&quot;</span> 
}
</pre>
</div>
<div id="RestReplicationApplierStop_short" onclick="$(&apos;#RestReplicationApplierStop_short&apos;).hide(); $(&apos;#RestReplicationApplierStop_long&apos;).show();">
<pre>
shell&gt; curl -X PUT --dump - http://localhost:8529/_api/replication/applier-stop

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<!-- arangod/RestHandler/RestReplicationHandler.cpp -->
<h3 id="state-of-the-replication-applier">State of the replication applier</h3>
<p> output the current status of the replication</p>
<p><code>GET /_api/replication/applier-state</code></p>
<p>Returns the state of the replication applier, regardless of whether the
applier is currently running or not.
The response is a JSON object with the following attributes:</p>
<ul>
<li><em>state</em>: a JSON object with the following sub-attributes:<ul>
<li><em>running</em>: whether or not the applier is active and running</li>
<li><em>lastAppliedContinuousTick</em>: the last tick value from the continuous
replication log the applier has applied.</li>
<li><em>lastProcessedContinuousTick</em>: the last tick value from the continuous
replication log the applier has processed.
Regularly, the last applied and last processed tick values should be
identical. For transactional operations, the replication applier will first
process incoming log events before applying them, so the processed tick
value might be higher than the applied tick value. This will be the case
until the applier encounters the <em>transaction commit</em> log event for the
transaction.</li>
<li><em>lastAvailableContinuousTick</em>: the last tick value the logger server can
provide.</li>
<li><em>time</em>: the time on the applier server.</li>
<li><em>totalRequests</em>: the total number of requests the applier has made to the
endpoint.</li>
<li><em>totalFailedConnects</em>: the total number of failed connection attempts the
applier has made.</li>
<li><em>totalEvents</em>: the total number of log events the applier has processed.</li>
<li><em>totalOperationsExcluded</em>: the total number of log events excluded because
of <em>restrictCollections</em>.</li>
<li><em>progress</em>: a JSON object with details about the replication applier progress.
It contains the following sub-attributes if there is progress to report:<ul>
<li><em>message</em>: a textual description of the progress</li>
<li><em>time</em>: the date and time the progress was logged</li>
<li><em>failedConnects</em>: the current number of failed connection attempts</li>
</ul>
</li>
<li><em>lastError</em>: a JSON object with details about the last error that happened on
the applier. It contains the following sub-attributes if there was an error:<ul>
<li><em>errorNum</em>: a numerical error code</li>
<li><em>errorMessage</em>: a textual error description</li>
<li><em>time</em>: the date and time the error occurred
In case no error has occurred, <em>lastError</em> will be empty.</li>
</ul>
</li>
</ul>
</li>
<li><em>server</em>: a JSON object with the following sub-attributes:<ul>
<li><em>version</em>: the applier server&apos;s version</li>
<li><em>serverId</em>: the applier server&apos;s id</li>
</ul>
</li>
<li><em>endpoint</em>: the endpoint the applier is connected to (if applier is
active) or will connect to (if applier is currently inactive)</li>
<li><em>database</em>: the name of the database the applier is connected to (if applier is
active) or will connect to (if applier is currently inactive)</li>
</ul>
<p><strong>Return Codes</strong></p>
<ul>
<li><em>200</em>:
is returned if the request was executed successfully.</li>
<li><em>405</em>:
is returned when an invalid HTTP method is used.</li>
<li><em>500</em>:
is returned if an error occurred while assembling the response.</li>
</ul>
<p><strong>Examples</strong></p>
<p>Fetching the state of an inactive applier:</p>
<div id="RestReplicationApplierStateNotRunning_container">
<div id="RestReplicationApplierStateNotRunning_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl --dump - http://localhost:8529/_api/replication/applier-state

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;state&quot;</span> : { 
    <span class="hljs-string">&quot;running&quot;</span> : <span class="hljs-literal">false</span>, 
    <span class="hljs-string">&quot;lastAppliedContinuousTick&quot;</span> : <span class="hljs-literal">null</span>, 
    <span class="hljs-string">&quot;lastProcessedContinuousTick&quot;</span> : <span class="hljs-literal">null</span>, 
    <span class="hljs-string">&quot;lastAvailableContinuousTick&quot;</span> : <span class="hljs-literal">null</span>, 
    <span class="hljs-string">&quot;safeResumeTick&quot;</span> : <span class="hljs-literal">null</span>, 
    <span class="hljs-string">&quot;progress&quot;</span> : { 
      <span class="hljs-string">&quot;time&quot;</span> : <span class="hljs-string">&quot;2016-06-02T11:43:16Z&quot;</span>, 
      <span class="hljs-string">&quot;message&quot;</span> : <span class="hljs-string">&quot;fetching master state information&quot;</span>, 
      <span class="hljs-string">&quot;failedConnects&quot;</span> : <span class="hljs-number">1</span> 
    }, 
    <span class="hljs-string">&quot;totalRequests&quot;</span> : <span class="hljs-number">1</span>, 
    <span class="hljs-string">&quot;totalFailedConnects&quot;</span> : <span class="hljs-number">1</span>, 
    <span class="hljs-string">&quot;totalEvents&quot;</span> : <span class="hljs-number">0</span>, 
    <span class="hljs-string">&quot;totalOperationsExcluded&quot;</span> : <span class="hljs-number">0</span>, 
    <span class="hljs-string">&quot;lastError&quot;</span> : { 
      <span class="hljs-string">&quot;errorNum&quot;</span> : <span class="hljs-number">1412</span>, 
      <span class="hljs-string">&quot;time&quot;</span> : <span class="hljs-string">&quot;2016-06-02T11:43:16Z&quot;</span>, 
      <span class="hljs-string">&quot;errorMessage&quot;</span> : <span class="hljs-string">&quot;could not connect to master at tcp://127.0.0.1:8529: Could not connect to &apos;http+tcp://127.0.0.1:8529&apos; &apos;connect() failed with #111 - Connection refused&apos;&quot;</span> 
    }, 
    <span class="hljs-string">&quot;time&quot;</span> : <span class="hljs-string">&quot;2016-06-02T11:43:16Z&quot;</span> 
  }, 
  <span class="hljs-string">&quot;server&quot;</span> : { 
    <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-string">&quot;3.0.x-devel&quot;</span>, 
    <span class="hljs-string">&quot;serverId&quot;</span> : <span class="hljs-string">&quot;16522320991458&quot;</span> 
  }, 
  <span class="hljs-string">&quot;endpoint&quot;</span> : <span class="hljs-string">&quot;tcp://127.0.0.1:8529&quot;</span>, 
  <span class="hljs-string">&quot;database&quot;</span> : <span class="hljs-string">&quot;_system&quot;</span> 
}
</pre>
</div>
<div id="RestReplicationApplierStateNotRunning_short" onclick="$(&apos;#RestReplicationApplierStateNotRunning_short&apos;).hide(); $(&apos;#RestReplicationApplierStateNotRunning_long&apos;).show();">
<pre>
shell&gt; curl --dump - http://localhost:8529/_api/replication/applier-state

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<p>Fetching the state of an active applier:</p>
<div id="RestReplicationApplierStateRunning_container">
<div id="RestReplicationApplierStateRunning_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl --dump - http://localhost:8529/_api/replication/applier-state

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;state&quot;</span> : { 
    <span class="hljs-string">&quot;running&quot;</span> : <span class="hljs-literal">true</span>, 
    <span class="hljs-string">&quot;lastAppliedContinuousTick&quot;</span> : <span class="hljs-literal">null</span>, 
    <span class="hljs-string">&quot;lastProcessedContinuousTick&quot;</span> : <span class="hljs-literal">null</span>, 
    <span class="hljs-string">&quot;lastAvailableContinuousTick&quot;</span> : <span class="hljs-literal">null</span>, 
    <span class="hljs-string">&quot;safeResumeTick&quot;</span> : <span class="hljs-literal">null</span>, 
    <span class="hljs-string">&quot;progress&quot;</span> : { 
      <span class="hljs-string">&quot;time&quot;</span> : <span class="hljs-string">&quot;2016-06-02T11:43:16Z&quot;</span>, 
      <span class="hljs-string">&quot;message&quot;</span> : <span class="hljs-string">&quot;fetching master state information&quot;</span>, 
      <span class="hljs-string">&quot;failedConnects&quot;</span> : <span class="hljs-number">1</span> 
    }, 
    <span class="hljs-string">&quot;totalRequests&quot;</span> : <span class="hljs-number">1</span>, 
    <span class="hljs-string">&quot;totalFailedConnects&quot;</span> : <span class="hljs-number">1</span>, 
    <span class="hljs-string">&quot;totalEvents&quot;</span> : <span class="hljs-number">0</span>, 
    <span class="hljs-string">&quot;totalOperationsExcluded&quot;</span> : <span class="hljs-number">0</span>, 
    <span class="hljs-string">&quot;lastError&quot;</span> : { 
      <span class="hljs-string">&quot;errorNum&quot;</span> : <span class="hljs-number">0</span> 
    }, 
    <span class="hljs-string">&quot;time&quot;</span> : <span class="hljs-string">&quot;2016-06-02T11:43:16Z&quot;</span> 
  }, 
  <span class="hljs-string">&quot;server&quot;</span> : { 
    <span class="hljs-string">&quot;version&quot;</span> : <span class="hljs-string">&quot;3.0.x-devel&quot;</span>, 
    <span class="hljs-string">&quot;serverId&quot;</span> : <span class="hljs-string">&quot;16522320991458&quot;</span> 
  }, 
  <span class="hljs-string">&quot;endpoint&quot;</span> : <span class="hljs-string">&quot;tcp://127.0.0.1:8529&quot;</span>, 
  <span class="hljs-string">&quot;database&quot;</span> : <span class="hljs-string">&quot;_system&quot;</span> 
}
</pre>
</div>
<div id="RestReplicationApplierStateRunning_short" onclick="$(&apos;#RestReplicationApplierStateRunning_short&apos;).hide(); $(&apos;#RestReplicationApplierStateRunning_long&apos;).show();">
<pre>
shell&gt; curl --dump - http://localhost:8529/_api/replication/applier-state

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<!-- arangod/RestHandler/RestReplicationHandler.cpp -->
<h3 id="turn-the-server-into-a-slave-of-another">Turn the server into a slave of another</h3>
<p> Changes role to slave</p>
<p><code>PUT /_api/replication/make-slave</code></p>
<p><strong>Body Parameters</strong></p>
<ul>
<li><strong>username</strong>: an optional ArangoDB username to use when connecting to the master.</li>
<li><strong>includeSystem</strong>: whether or not system collection operations will be applied</li>
<li><strong>endpoint</strong>: the master endpoint to connect to (e.g. &quot;tcp://192.168.173.13:8529&quot;).</li>
<li><strong>verbose</strong>: if set to <em>true</em>, then a log line will be emitted for all operations
performed by the replication applier. This should be used for debugging
replication
problems only.</li>
<li><strong>connectTimeout</strong>: the timeout (in seconds) when attempting to connect to the
endpoint. This value is used for each connection attempt.</li>
<li><strong>chunkSize</strong>: the requested maximum size for log transfer packets that
is used when the endpoint is contacted.</li>
<li><strong>idleMinWaitTime</strong>: the minimum wait time (in seconds) that the applier will intentionally idle
before fetching more log data from the master in case the master has
already sent all its log data. This wait time can be used to control the
frequency with which the replication applier sends HTTP log fetch requests
to the master in case there is no write activity on the master.
This value will be ignored if set to <em>0</em>.</li>
<li><strong>requestTimeout</strong>: the timeout (in seconds) for individual requests to the endpoint.</li>
<li><strong>database</strong>: the database name on the master (if not specified, defaults to the
name of the local current database).</li>
<li><strong>requireFromPresent</strong>: if set to <em>true</em>, then the replication applier will check
at start of its continuous replication if the start tick from the dump phase
is still present on the master. If not, then there would be data loss. If
<em>requireFromPresent</em> is <em>true</em>, the replication applier will abort with an
appropriate error message. If set to <em>false</em>, then the replication applier will
still start, and ignore the data loss.</li>
<li><strong>restrictType</strong>: an optional string value for collection filtering. When
specified, the allowed values are <em>include</em> or <em>exclude</em>.</li>
<li><strong>password</strong>: the password to use when connecting to the master.</li>
<li><strong>idleMaxWaitTime</strong>: the maximum wait time (in seconds) that the applier will intentionally idle
before fetching more log data from the master in case the master has
already sent all its log data and there have been previous log fetch attempts
that resulted in no more log data. This wait time can be used to control the
maximum frequency with which the replication applier sends HTTP log fetch
requests to the master in case there is no write activity on the master for
longer periods. This configuration value will only be used if the option
<em>adaptivePolling</em> is set to <em>true</em>.
This value will be ignored if set to <em>0</em>.</li>
<li><strong>adaptivePolling</strong>: whether or not the replication applier will use adaptive polling.</li>
<li><strong>restrictCollections</strong>: an optional array of collections for use with <em>restrictType</em>.
If <em>restrictType</em> is <em>include</em>, only the specified collections
will be sychronised. If <em>restrictType</em> is <em>exclude</em>, all but the specified
collections will be synchronized. of type string</li>
<li><strong>maxConnectRetries</strong>: the maximum number of connection attempts the applier
will make in a row. If the applier cannot establish a connection to the
endpoint in this number of attempts, it will stop itself.</li>
<li><strong>initialSyncMaxWaitTime</strong>: the maximum wait time (in seconds) that the initial synchronization will
wait for a response from the master when fetching initial collection data.
This wait time can be used to control after what time the initial synchronization
will give up waiting for a response and fail. This value is relevant even
for continuous replication when <em>autoResync</em> is set to <em>true</em> because this
may re-start the initial synchronization when the master cannot provide
log data the slave requires.
This value will be ignored if set to <em>0</em>.</li>
<li><strong>connectionRetryWaitTime</strong>: the time (in seconds) that the applier will intentionally idle before
it retries connecting to the master in case of connection problems.
This value will be ignored if set to <em>0</em>.</li>
<li><strong>autoResyncRetries</strong>: number of resynchronization retries that will be performed in a row when
automatic resynchronization is enabled and kicks in. Setting this to <em>0</em> will
effectively disable <em>autoResync</em>. Setting it to some other value will limit
the number of retries that are performed. This helps preventing endless retries
in case resynchronizations always fail.</li>
<li><strong>autoResync</strong>: whether or not the slave should perform an automatic resynchronization with
the master in case the master cannot serve log data requested by the slave,
or when the replication is started and no tick value can be found.</li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../Replications/ReplicationLogger.html" class="navigation navigation-prev " aria-label="Previous page: Replication Logger"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../Replications/OtherReplication.html" class="navigation navigation-next " aria-label="Next page: Other Replication Commands"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.js"></script>
    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.1.1/anchor.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-anchorjs/anchor-style.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-piwik/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"addcssjs":{"js":["styles/header.js"],"css":["styles/header.css"]},"add-header":{"BASE_PATH":"https://docs.arangodb.com/devel"},"piwik":{"URL":"www.arangodb.com/piwik/","siteId":12},"toggle-chapters":{},"anchorjs":{},"highlight":{},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        <!-- body:end -->
<script type="text/javascript">var _paq = _paq || [];_paq.push(['trackPageView']);_paq.push(['enableLinkTracking']);(function() {var u=(("https:" == document.location.protocol) ? "https" : "http") + "://www.arangodb.com/piwik/";_paq.push(['setTrackerUrl', u+'piwik.php']);_paq.push(['setSiteId', 12]);var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript';g.defer=true; g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);})();</script><noscript><p><img src="http://www.arangodb.com/piwik/piwik.php?idsite=12" style="border:0;" alt="" /></p></noscript>
    </body>
    <!-- End of book ArangoDB v3.0.x-devel (2016-06-02) HTTP API Documentation -->
</html>
