<!DOCTYPE HTML>
<html lang="en" >
    <!-- Start book ArangoDB v3.0.x-devel (2016-06-02) HTTP API Documentation -->
    <head>
        <!-- head:start -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Accessing Cursors | ArangoDB v3.0.x-devel (2016-06-02) HTTP API Documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        <meta name="author" content="ArangoDB GmbH">
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    
        <link rel="stylesheet" href="../styles/website.css">
    

        
    
    
    <link rel="next" href="../AqlQuery/index.html" />
    
    
    <link rel="prev" href="../AqlQueryCursor/QueryResults.html" />
    

        <!-- head:end -->
<script type="text/javascript" src="../styles/header.js"></script><link rel="stylesheet" type="text/css" href="../styles/header.css">
    </head>
    <body>
        <!-- body:start -->
<div id="header">
  <div id="logo">
    <a href="https://arangodb.com/">
      <img src="https://docs.arangodb.com/assets/arangodb_logo_2016.png">
    </a>
  </div>
  <div id="logo-small">
    <a href="https://arangodb.com/">
      <img src="https://docs.arangodb.com/assets/arangodb_logo_small_2016.png">
    </a>
  </div>
  <select id="version-switcher">
    <option value="devel">v3.0.x-devel (2016-06-02)</option>
    <option value="2.8">v2.8</option>
    <option value="2.7">v2.7</option>
    <option value="2.6">v2.6</option>
    <option value="2.5">v2.5</option>
    <option value="2.4">v2.4</option>
    <option value="2.3">v2.3</option>
    <option value="2.2">v2.2</option>
    <option value="2.1">v2.1</option>
  </select>
  <div class="google-search">
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
  <ul id="navmenu">
    <li>
      <a href="https://docs.arangodb.com/devel/Manual/index.html">Manual</a>
    </li>
    <li>
      <a href="https://docs.arangodb.com/devel/AQL/index.html">AQL</a>
    </li>
    <li class="active-tab">
      <a href="https://docs.arangodb.com/devel/HTTP/index.html">HTTP</a>
    </li>
    <li>
      <a href="https://docs.arangodb.com/cookbook">Cookbook</a>
    </li>
    <li class="socialIcons">
      <a href="https://github.com/ArangoDB/ArangoDB/issues" target="blank" name="github">
        <i title="GitHub" class="fa fa-github"></i>
      </a>
    </li>
    <li class="socialIcons">
      <a href="http://stackoverflow.com/questions/tagged/arangodb" target="blank" name="stackoverflow">
        <i title="Stackoverflow" class="fa fa-stack-overflow"></i>
      </a>
    </li>
    <li class="socialIcons socialIcons-googlegroups">
      <a href="https://groups.google.com/forum/#!forum/arangodb" target="blank" name="google groups">
        <img title="Google Groups" alt="Google Groups" src="https://docs.arangodb.com/assets/googlegroupsIcon.png" />
      </a>
    </li>
  </ul>
</div>
        
    <div class="book"
        data-level="9.2"
        data-chapter-title="Accessing Cursors"
        data-filepath="AqlQueryCursor/AccessingCursors.md"
        data-basepath=".."
        data-revision="Thu Jun 02 2016 11:44:44 GMT+0000 (UTC)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="General/index.html">
            
                
                    <a href="../General/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        General HTTP Handling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="Api/index.html">
            
                
                    <a href="../Api/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        HTTP Interface
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="Database/index.html">
            
                
                    <a href="../Database/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Databases
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="Database/DatabaseEndpoint.html">
            
                
                    <a href="../Database/DatabaseEndpoint.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        To-Endpoint
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="Database/DatabaseManagement.html">
            
                
                    <a href="../Database/DatabaseManagement.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Management
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="Database/NotesOnDatabases.html">
            
                
                    <a href="../Database/NotesOnDatabases.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Notes on Databases
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="Collection/index.html">
            
                
                    <a href="../Collection/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Collections
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="Collection/Creating.html">
            
                
                    <a href="../Collection/Creating.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Creating
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="Collection/Getting.html">
            
                
                    <a href="../Collection/Getting.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Getting Information
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="Collection/Modifying.html">
            
                
                    <a href="../Collection/Modifying.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Modifying
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="Document/index.html">
            
                
                    <a href="../Document/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Documents
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="Document/AddressAndEtag.html">
            
                
                    <a href="../Document/AddressAndEtag.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Basics and Terminology
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="Document/WorkingWithDocuments.html">
            
                
                    <a href="../Document/WorkingWithDocuments.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Working with Documents
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="Edge/index.html">
            
                
                    <a href="../Edge/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Edges
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="Edge/AddressAndEtag.html">
            
                
                    <a href="../Edge/AddressAndEtag.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Address and ETag
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="Edge/WorkingWithEdges.html">
            
                
                    <a href="../Edge/WorkingWithEdges.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Working with Edges
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="Gharial/index.html">
            
                
                    <a href="../Gharial/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        General Graph
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="Gharial/Management.html">
            
                
                    <a href="../Gharial/Management.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        Management
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="Gharial/Vertices.html">
            
                
                    <a href="../Gharial/Vertices.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        Vertices
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="Gharial/Edges.html">
            
                
                    <a href="../Gharial/Edges.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        Edges
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="Traversal/index.html">
            
                
                    <a href="../Traversal/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Traversals
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="AqlQueryCursor/index.html">
            
                
                    <a href="../AqlQueryCursor/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        AQL Query Cursors
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="AqlQueryCursor/QueryResults.html">
            
                
                    <a href="../AqlQueryCursor/QueryResults.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        Query Results
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="9.2" data-path="AqlQueryCursor/AccessingCursors.html">
            
                
                    <a href="../AqlQueryCursor/AccessingCursors.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                        Accessing Cursors
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10" data-path="AqlQuery/index.html">
            
                
                    <a href="../AqlQuery/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        AQL Queries
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="11" data-path="AqlQueryCache/index.html">
            
                
                    <a href="../AqlQueryCache/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        AQL Query Cache
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="AqlUserFunctions/index.html">
            
                
                    <a href="../AqlUserFunctions/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        AQL User Functions Management
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="SimpleQuery/index.html">
            
                
                    <a href="../SimpleQuery/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Simple Queries
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="14" data-path="AsyncResultsManagement/index.html">
            
                
                    <a href="../AsyncResultsManagement/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        Async Result Handling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="BulkImports/index.html">
            
                
                    <a href="../BulkImports/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        Bulk Import / Export
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="15.1" data-path="BulkImports/ImportingSelfContained.html">
            
                
                    <a href="../BulkImports/ImportingSelfContained.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.1.</b>
                        
                        JSON Documents
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15.2" data-path="BulkImports/ImportingHeadersAndValues.html">
            
                
                    <a href="../BulkImports/ImportingHeadersAndValues.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.2.</b>
                        
                        Headers &amp; Values
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15.3" data-path="BatchRequest/index.html">
            
                
                    <a href="../BatchRequest/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.3.</b>
                        
                        Batch Requests
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15.4" data-path="Export/index.html">
            
                
                    <a href="../Export/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.4.</b>
                        
                        Exporting data
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="16" data-path="Indexes/index.html">
            
                
                    <a href="../Indexes/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        Indexes
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="16.1" data-path="Indexes/WorkingWith.html">
            
                
                    <a href="../Indexes/WorkingWith.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.1.</b>
                        
                        Working with Indexes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.2" data-path="Indexes/Hash.html">
            
                
                    <a href="../Indexes/Hash.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.2.</b>
                        
                        Hash
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.3" data-path="Indexes/Skiplist.html">
            
                
                    <a href="../Indexes/Skiplist.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.3.</b>
                        
                        Skiplist
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.4" data-path="Indexes/Geo.html">
            
                
                    <a href="../Indexes/Geo.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.4.</b>
                        
                        Geo
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.5" data-path="Indexes/Fulltext.html">
            
                
                    <a href="../Indexes/Fulltext.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.5.</b>
                        
                        Fulltext
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="17" data-path="Transaction/index.html">
            
                
                    <a href="../Transaction/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                        Transactions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18" data-path="Replications/index.html">
            
                
                    <a href="../Replications/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.</b>
                        
                        Replication
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="18.1" data-path="Replications/ReplicationDump.html">
            
                
                    <a href="../Replications/ReplicationDump.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.1.</b>
                        
                        Replication Dump
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18.2" data-path="Replications/ReplicationLogger.html">
            
                
                    <a href="../Replications/ReplicationLogger.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.2.</b>
                        
                        Replication Logger
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18.3" data-path="Replications/ReplicationApplier.html">
            
                
                    <a href="../Replications/ReplicationApplier.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.3.</b>
                        
                        Replication Applier
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18.4" data-path="Replications/OtherReplication.html">
            
                
                    <a href="../Replications/OtherReplication.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.4.</b>
                        
                        Other Replication Commands
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="19" data-path="ShardingInterface/index.html">
            
                
                    <a href="../ShardingInterface/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>19.</b>
                        
                        Sharding
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="20" data-path="AdministrationAndMonitoring/index.html">
            
                
                    <a href="../AdministrationAndMonitoring/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>20.</b>
                        
                        Monitoring
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="21" data-path="Endpoints/index.html">
            
                
                    <a href="../Endpoints/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>21.</b>
                        
                        Endpoints
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="22" data-path="UserManagement/index.html">
            
                
                    <a href="../UserManagement/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>22.</b>
                        
                        User Management
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="23" data-path="Tasks/index.html">
            
                
                    <a href="../Tasks/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>23.</b>
                        
                        Tasks
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="24" data-path="MiscellaneousFunctions/index.html">
            
                
                    <a href="../MiscellaneousFunctions/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>24.</b>
                        
                        Miscellaneous functions
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >ArangoDB v3.0.x-devel (2016-06-02) HTTP API Documentation</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <p><a name="accessing_cursors_via_http"></a></p>
<h1 id="accessing-cursors-via-http">Accessing Cursors via HTTP</h1>
<!-- js/actions/api-cursor.js -->
<h3 id="create-cursor">Create cursor</h3>
<p> create a cursor and return the first results</p>
<p><code>POST /_api/cursor</code>
A JSON object describing the query and query parameters.</p>
<p><strong>Body Parameters</strong></p>
<ul>
<li><strong>count</strong>: indicates whether the number of documents in the result set should be returned in
the &quot;count&quot; attribute of the result.
Calculating the &quot;count&quot; attribute might in the future have a performance
impact for some queries so this option is turned off by default, and &quot;count&quot;
is only returned when requested.</li>
<li><strong>ttl</strong>: The time-to-live for the cursor (in seconds). The cursor will be
removed on the server automatically after the specified amount of time. This
is useful to ensure garbage collection of cursors that are not fully fetched
by clients. If not set, a server-defined value will be used.</li>
<li><strong>batchSize</strong>: maximum number of result documents to be transferred from
the server to the client in one roundtrip. If this attribute is
not set, a server-controlled default value will be used. A <em>batchSize</em> value of
<em>0</em> is disallowed.</li>
<li><strong>cache</strong>: flag to determine whether the AQL query cache
shall be used. If set to <em>false</em>, then any query cache lookup will be skipped
for the query. If set to <em>true</em>, it will lead to the query cache being checked
for the query if the query cache mode is either <em>on</em> or <em>demand</em>.</li>
<li><strong>bindVars</strong>: list of bind parameter objects. of type object</li>
<li><strong>query</strong>: contains the query string to be executed</li>
<li><strong>options</strong>:<ul>
<li><strong>profile</strong>: if set to <em>true</em>, then the additional query profiling information
will be returned in the <em>extra.stats</em> return attribute if the query result is not
served from the query cache.</li>
<li><strong>optimizer.rules</strong>: a list of to-be-included or to-be-excluded optimizer rules
can be put into this attribute, telling the optimizer to include or exclude
specific rules. To disable a rule, prefix its name with a <code>-</code>, to enable a rule, prefix it
with a <code>+</code>. There is also a pseudo-rule <code>all</code>, which will match all optimizer rules. of type string</li>
<li><strong>fullCount</strong>: if set to <em>true</em> and the query contains a <em>LIMIT</em> clause, then the
result will contain an extra attribute <em>extra</em> with a sub-attribute <em>fullCount</em>.
This sub-attribute will contain the number of documents in the result before the
last LIMIT in the query was applied. It can be used to count the number of documents that
match certain filter criteria, but only return a subset of them, in one go.
It is thus similar to MySQL&apos;s <em>SQL_CALC_FOUND_ROWS</em> hint. Note that setting the option
will disable a few LIMIT optimizations and may lead to more documents being processed,
and thus make queries run longer. Note that the <em>fullCount</em> sub-attribute will only
be present in the result if the query has a LIMIT clause and the LIMIT clause is
actually used in the query.</li>
<li><strong>maxPlans</strong>: limits the maximum number of plans that are created by the AQL query optimizer.</li>
</ul>
</li>
</ul>
<div id="RestCursorCreateCursorForLimitReturnSingle_container">
<div id="RestCursorCreateCursorForLimitReturnSingle_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;FOR p IN products LIMIT 2 RETURN p&quot;</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;batchSize&quot;</span> : <span class="hljs-number">2</span> 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">201</span> Created
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;result&quot;</span> : [ 
    { 
      <span class="hljs-string">&quot;_key&quot;</span> : <span class="hljs-string">&quot;9867&quot;</span>, 
      <span class="hljs-string">&quot;_id&quot;</span> : <span class="hljs-string">&quot;products/9867&quot;</span>, 
      <span class="hljs-string">&quot;_rev&quot;</span> : <span class="hljs-string">&quot;9867&quot;</span>, 
      <span class="hljs-string">&quot;hello2&quot;</span> : <span class="hljs-string">&quot;world1&quot;</span> 
    }, 
    { 
      <span class="hljs-string">&quot;_key&quot;</span> : <span class="hljs-string">&quot;9863&quot;</span>, 
      <span class="hljs-string">&quot;_id&quot;</span> : <span class="hljs-string">&quot;products/9863&quot;</span>, 
      <span class="hljs-string">&quot;_rev&quot;</span> : <span class="hljs-string">&quot;9863&quot;</span>, 
      <span class="hljs-string">&quot;hello1&quot;</span> : <span class="hljs-string">&quot;world1&quot;</span> 
    } 
  ], 
  <span class="hljs-string">&quot;hasMore&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-number">2</span>, 
  <span class="hljs-string">&quot;cached&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;extra&quot;</span> : { 
    <span class="hljs-string">&quot;stats&quot;</span> : { 
      <span class="hljs-string">&quot;writesExecuted&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;writesIgnored&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;scannedFull&quot;</span> : <span class="hljs-number">2</span>, 
      <span class="hljs-string">&quot;scannedIndex&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;filtered&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;executionTime&quot;</span> : <span class="hljs-number">0.0000591278076171875</span> 
    }, 
    <span class="hljs-string">&quot;warnings&quot;</span> : [ ] 
  }, 
  <span class="hljs-string">&quot;error&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;code&quot;</span> : <span class="hljs-number">201</span> 
}
</pre>
</div>
<div id="RestCursorCreateCursorForLimitReturnSingle_short" onclick="$(&apos;#RestCursorCreateCursorForLimitReturnSingle_short&apos;).hide(); $(&apos;#RestCursorCreateCursorForLimitReturnSingle_long&apos;).show();">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;FOR p IN products LIMIT 2 RETURN p&quot;</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;batchSize&quot;</span> : <span class="hljs-number">2</span> 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">201</span> Created
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<p>Execute a query and extract a part of the result</p>
<div id="RestCursorCreateCursorForLimitReturn_container">
<div id="RestCursorCreateCursorForLimitReturn_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;FOR p IN products LIMIT 5 RETURN p&quot;</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;batchSize&quot;</span> : <span class="hljs-number">2</span> 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">201</span> Created
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;result&quot;</span> : [ 
    { 
      <span class="hljs-string">&quot;_key&quot;</span> : <span class="hljs-string">&quot;9849&quot;</span>, 
      <span class="hljs-string">&quot;_id&quot;</span> : <span class="hljs-string">&quot;products/9849&quot;</span>, 
      <span class="hljs-string">&quot;_rev&quot;</span> : <span class="hljs-string">&quot;9849&quot;</span>, 
      <span class="hljs-string">&quot;hello3&quot;</span> : <span class="hljs-string">&quot;world1&quot;</span> 
    }, 
    { 
      <span class="hljs-string">&quot;_key&quot;</span> : <span class="hljs-string">&quot;9852&quot;</span>, 
      <span class="hljs-string">&quot;_id&quot;</span> : <span class="hljs-string">&quot;products/9852&quot;</span>, 
      <span class="hljs-string">&quot;_rev&quot;</span> : <span class="hljs-string">&quot;9852&quot;</span>, 
      <span class="hljs-string">&quot;hello4&quot;</span> : <span class="hljs-string">&quot;world1&quot;</span> 
    } 
  ], 
  <span class="hljs-string">&quot;hasMore&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;id&quot;</span> : <span class="hljs-string">&quot;9858&quot;</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-number">5</span>, 
  <span class="hljs-string">&quot;extra&quot;</span> : { 
    <span class="hljs-string">&quot;stats&quot;</span> : { 
      <span class="hljs-string">&quot;writesExecuted&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;writesIgnored&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;scannedFull&quot;</span> : <span class="hljs-number">5</span>, 
      <span class="hljs-string">&quot;scannedIndex&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;filtered&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;executionTime&quot;</span> : <span class="hljs-number">0.0001480579376220703</span> 
    }, 
    <span class="hljs-string">&quot;warnings&quot;</span> : [ ] 
  }, 
  <span class="hljs-string">&quot;cached&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;error&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;code&quot;</span> : <span class="hljs-number">201</span> 
}
</pre>
</div>
<div id="RestCursorCreateCursorForLimitReturn_short" onclick="$(&apos;#RestCursorCreateCursorForLimitReturn_short&apos;).hide(); $(&apos;#RestCursorCreateCursorForLimitReturn_long&apos;).show();">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;FOR p IN products LIMIT 5 RETURN p&quot;</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;batchSize&quot;</span> : <span class="hljs-number">2</span> 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">201</span> Created
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<p>Using the query option &quot;fullCount&quot;</p>
<div id="RestCursorCreateCursorOption_container">
<div id="RestCursorCreateCursorOption_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;FOR i IN 1..1000 FILTER i &gt; 500 LIMIT 10 RETURN i&quot;</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;options&quot;</span> : { 
    <span class="hljs-string">&quot;fullCount&quot;</span> : <span class="hljs-literal">true</span> 
  } 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">201</span> Created
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;result&quot;</span> : [ 
    <span class="hljs-number">501</span>, 
    <span class="hljs-number">502</span>, 
    <span class="hljs-number">503</span>, 
    <span class="hljs-number">504</span>, 
    <span class="hljs-number">505</span>, 
    <span class="hljs-number">506</span>, 
    <span class="hljs-number">507</span>, 
    <span class="hljs-number">508</span>, 
    <span class="hljs-number">509</span>, 
    <span class="hljs-number">510</span> 
  ], 
  <span class="hljs-string">&quot;hasMore&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-number">10</span>, 
  <span class="hljs-string">&quot;cached&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;extra&quot;</span> : { 
    <span class="hljs-string">&quot;stats&quot;</span> : { 
      <span class="hljs-string">&quot;writesExecuted&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;writesIgnored&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;scannedFull&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;scannedIndex&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;filtered&quot;</span> : <span class="hljs-number">500</span>, 
      <span class="hljs-string">&quot;fullCount&quot;</span> : <span class="hljs-number">500</span>, 
      <span class="hljs-string">&quot;executionTime&quot;</span> : <span class="hljs-number">0.0003509521484375</span> 
    }, 
    <span class="hljs-string">&quot;warnings&quot;</span> : [ ] 
  }, 
  <span class="hljs-string">&quot;error&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;code&quot;</span> : <span class="hljs-number">201</span> 
}
</pre>
</div>
<div id="RestCursorCreateCursorOption_short" onclick="$(&apos;#RestCursorCreateCursorOption_short&apos;).hide(); $(&apos;#RestCursorCreateCursorOption_long&apos;).show();">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;FOR i IN 1..1000 FILTER i &gt; 500 LIMIT 10 RETURN i&quot;</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;options&quot;</span> : { 
    <span class="hljs-string">&quot;fullCount&quot;</span> : <span class="hljs-literal">true</span> 
  } 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">201</span> Created
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<p>Enabling and disabling optimizer rules</p>
<div id="RestCursorOptimizerRules_container">
<div id="RestCursorOptimizerRules_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;FOR i IN 1..10 LET a = 1 LET b = 2 FILTER a + b == 3 RETURN i&quot;</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;options&quot;</span> : { 
    <span class="hljs-string">&quot;maxPlans&quot;</span> : <span class="hljs-number">1</span>, 
    <span class="hljs-string">&quot;optimizer&quot;</span> : { 
      <span class="hljs-string">&quot;rules&quot;</span> : [ 
        <span class="hljs-string">&quot;-all&quot;</span>, 
        <span class="hljs-string">&quot;+remove-unnecessary-filters&quot;</span> 
      ] 
    } 
  } 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">201</span> Created
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;result&quot;</span> : [ 
    <span class="hljs-number">1</span>, 
    <span class="hljs-number">2</span>, 
    <span class="hljs-number">3</span>, 
    <span class="hljs-number">4</span>, 
    <span class="hljs-number">5</span>, 
    <span class="hljs-number">6</span>, 
    <span class="hljs-number">7</span>, 
    <span class="hljs-number">8</span>, 
    <span class="hljs-number">9</span>, 
    <span class="hljs-number">10</span> 
  ], 
  <span class="hljs-string">&quot;hasMore&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-number">10</span>, 
  <span class="hljs-string">&quot;cached&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;extra&quot;</span> : { 
    <span class="hljs-string">&quot;stats&quot;</span> : { 
      <span class="hljs-string">&quot;writesExecuted&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;writesIgnored&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;scannedFull&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;scannedIndex&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;filtered&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;executionTime&quot;</span> : <span class="hljs-number">0.0003638267517089844</span> 
    }, 
    <span class="hljs-string">&quot;warnings&quot;</span> : [ ] 
  }, 
  <span class="hljs-string">&quot;error&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;code&quot;</span> : <span class="hljs-number">201</span> 
}
</pre>
</div>
<div id="RestCursorOptimizerRules_short" onclick="$(&apos;#RestCursorOptimizerRules_short&apos;).hide(); $(&apos;#RestCursorOptimizerRules_long&apos;).show();">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;FOR i IN 1..10 LET a = 1 LET b = 2 FILTER a + b == 3 RETURN i&quot;</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;options&quot;</span> : { 
    <span class="hljs-string">&quot;maxPlans&quot;</span> : <span class="hljs-number">1</span>, 
    <span class="hljs-string">&quot;optimizer&quot;</span> : { 
      <span class="hljs-string">&quot;rules&quot;</span> : [ 
        <span class="hljs-string">&quot;-all&quot;</span>, 
        <span class="hljs-string">&quot;+remove-unnecessary-filters&quot;</span> 
      ] 
    } 
  } 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">201</span> Created
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<p>Execute a data-modification query and retrieve the number of
modified documents</p>
<div id="RestCursorDeleteQuery_container">
<div id="RestCursorDeleteQuery_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;FOR p IN products REMOVE p IN products&quot;</span> 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">201</span> Created
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;result&quot;</span> : [ ], 
  <span class="hljs-string">&quot;hasMore&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;cached&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;extra&quot;</span> : { 
    <span class="hljs-string">&quot;stats&quot;</span> : { 
      <span class="hljs-string">&quot;writesExecuted&quot;</span> : <span class="hljs-number">2</span>, 
      <span class="hljs-string">&quot;writesIgnored&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;scannedFull&quot;</span> : <span class="hljs-number">2</span>, 
      <span class="hljs-string">&quot;scannedIndex&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;filtered&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;executionTime&quot;</span> : <span class="hljs-number">0.00008702278137207031</span> 
    }, 
    <span class="hljs-string">&quot;warnings&quot;</span> : [ ] 
  }, 
  <span class="hljs-string">&quot;error&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;code&quot;</span> : <span class="hljs-number">201</span> 
}
</pre>
</div>
<div id="RestCursorDeleteQuery_short" onclick="$(&apos;#RestCursorDeleteQuery_short&apos;).hide(); $(&apos;#RestCursorDeleteQuery_long&apos;).show();">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;FOR p IN products REMOVE p IN products&quot;</span> 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">201</span> Created
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<p>Execute a data-modification query with option <em>ignoreErrors</em></p>
<div id="RestCursorDeleteIgnore_container">
<div id="RestCursorDeleteIgnore_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;REMOVE &apos;bar&apos; IN products OPTIONS { ignoreErrors: true }&quot;</span> 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">201</span> Created
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;result&quot;</span> : [ ], 
  <span class="hljs-string">&quot;hasMore&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;cached&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;extra&quot;</span> : { 
    <span class="hljs-string">&quot;stats&quot;</span> : { 
      <span class="hljs-string">&quot;writesExecuted&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;writesIgnored&quot;</span> : <span class="hljs-number">1</span>, 
      <span class="hljs-string">&quot;scannedFull&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;scannedIndex&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;filtered&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;executionTime&quot;</span> : <span class="hljs-number">0.00008487701416015625</span> 
    }, 
    <span class="hljs-string">&quot;warnings&quot;</span> : [ ] 
  }, 
  <span class="hljs-string">&quot;error&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;code&quot;</span> : <span class="hljs-number">201</span> 
}
</pre>
</div>
<div id="RestCursorDeleteIgnore_short" onclick="$(&apos;#RestCursorDeleteIgnore_short&apos;).hide(); $(&apos;#RestCursorDeleteIgnore_long&apos;).show();">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;REMOVE &apos;bar&apos; IN products OPTIONS { ignoreErrors: true }&quot;</span> 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">201</span> Created
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<p>Bad query - Missing body</p>
<div id="RestCursorCreateCursorMissingBody_container">
<div id="RestCursorCreateCursorMissingBody_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl -X POST --dump - http://localhost:8529/_api/cursor

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">400</span> Bad Request
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;error&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;errorMessage&quot;</span> : <span class="hljs-string">&quot;Parse error: Expecting item&quot;</span>, 
  <span class="hljs-string">&quot;code&quot;</span> : <span class="hljs-number">400</span>, 
  <span class="hljs-string">&quot;errorNum&quot;</span> : <span class="hljs-number">600</span> 
}
</pre>
</div>
<div id="RestCursorCreateCursorMissingBody_short" onclick="$(&apos;#RestCursorCreateCursorMissingBody_short&apos;).hide(); $(&apos;#RestCursorCreateCursorMissingBody_long&apos;).show();">
<pre>
shell&gt; curl -X POST --dump - http://localhost:8529/_api/cursor

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">400</span> Bad Request
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<p>Bad query - Unknown collection</p>
<div id="RestCursorCreateCursorUnknownCollection_container">
<div id="RestCursorCreateCursorUnknownCollection_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;FOR u IN unknowncoll LIMIT 2 RETURN u&quot;</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;batchSize&quot;</span> : <span class="hljs-number">2</span> 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">404</span> Not Found
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;error&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;errorMessage&quot;</span> : <span class="hljs-string">&quot;collection not found (unknowncoll)&quot;</span>, 
  <span class="hljs-string">&quot;code&quot;</span> : <span class="hljs-number">404</span>, 
  <span class="hljs-string">&quot;errorNum&quot;</span> : <span class="hljs-number">1203</span> 
}
</pre>
</div>
<div id="RestCursorCreateCursorUnknownCollection_short" onclick="$(&apos;#RestCursorCreateCursorUnknownCollection_short&apos;).hide(); $(&apos;#RestCursorCreateCursorUnknownCollection_long&apos;).show();">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;FOR u IN unknowncoll LIMIT 2 RETURN u&quot;</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;batchSize&quot;</span> : <span class="hljs-number">2</span> 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">404</span> Not Found
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<p>Bad query - Execute a data-modification query that attempts to remove a non-existing
document</p>
<div id="RestCursorDeleteQueryFail_container">
<div id="RestCursorDeleteQueryFail_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;REMOVE &apos;foo&apos; IN products&quot;</span> 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">404</span> Not Found
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;error&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;errorMessage&quot;</span> : <span class="hljs-string">&quot;document not found (while executing)&quot;</span>, 
  <span class="hljs-string">&quot;code&quot;</span> : <span class="hljs-number">404</span>, 
  <span class="hljs-string">&quot;errorNum&quot;</span> : <span class="hljs-number">1202</span> 
}
</pre>
</div>
<div id="RestCursorDeleteQueryFail_short" onclick="$(&apos;#RestCursorDeleteQueryFail_short&apos;).hide(); $(&apos;#RestCursorDeleteQueryFail_long&apos;).show();">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;REMOVE &apos;foo&apos; IN products&quot;</span> 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">404</span> Not Found
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<!-- js/actions/api-cursor.js -->
<h3 id="read-next-batch-from-cursor">Read next batch from cursor</h3>
<p> return the next results from an existing cursor</p>
<p><code>PUT /_api/cursor/{cursor-identifier}</code></p>
<p><strong>Path Parameters</strong></p>
<ul>
<li><em>cursor-identifier</em> (required):
The name of the cursor</li>
</ul>
<p>If the cursor is still alive, returns an object with the following
attributes:</p>
<ul>
<li><em>id</em>: the <em>cursor-identifier</em></li>
<li><em>result</em>: a list of documents for the current batch</li>
<li><em>hasMore</em>: <em>false</em> if this was the last batch</li>
<li><em>count</em>: if present the total number of elements
Note that even if <em>hasMore</em> returns <em>true</em>, the next call might
still return no documents. If, however, <em>hasMore</em> is <em>false</em>, then
the cursor is exhausted.  Once the <em>hasMore</em> attribute has a value of
<em>false</em>, the client can stop.</li>
</ul>
<p><strong>Return Codes</strong></p>
<ul>
<li><em>200</em>:
The server will respond with <em>HTTP 200</em> in case of success.</li>
<li><em>400</em>:
If the cursor identifier is omitted, the server will respond with <em>HTTP 404</em>.</li>
<li><em>404</em>:
If no cursor with the specified identifier can be found, the server will respond
with <em>HTTP 404</em>.</li>
</ul>
<p><strong>Examples</strong></p>
<p>Valid request for next batch</p>
<div id="RestCursorForLimitReturnCont_container">
<div id="RestCursorForLimitReturnCont_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;FOR p IN products LIMIT 5 RETURN p&quot;</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;batchSize&quot;</span> : <span class="hljs-number">2</span> 
}
EOF

shell&gt; curl -X PUT --dump - http://localhost:8529/_api/cursor/9948

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;result&quot;</span> : [ 
    { 
      <span class="hljs-string">&quot;_key&quot;</span> : <span class="hljs-string">&quot;9932&quot;</span>, 
      <span class="hljs-string">&quot;_id&quot;</span> : <span class="hljs-string">&quot;products/9932&quot;</span>, 
      <span class="hljs-string">&quot;_rev&quot;</span> : <span class="hljs-string">&quot;9932&quot;</span>, 
      <span class="hljs-string">&quot;hello1&quot;</span> : <span class="hljs-string">&quot;world1&quot;</span> 
    }, 
    { 
      <span class="hljs-string">&quot;_key&quot;</span> : <span class="hljs-string">&quot;9939&quot;</span>, 
      <span class="hljs-string">&quot;_id&quot;</span> : <span class="hljs-string">&quot;products/9939&quot;</span>, 
      <span class="hljs-string">&quot;_rev&quot;</span> : <span class="hljs-string">&quot;9939&quot;</span>, 
      <span class="hljs-string">&quot;hello3&quot;</span> : <span class="hljs-string">&quot;world1&quot;</span> 
    } 
  ], 
  <span class="hljs-string">&quot;hasMore&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;id&quot;</span> : <span class="hljs-string">&quot;9948&quot;</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-number">5</span>, 
  <span class="hljs-string">&quot;extra&quot;</span> : { 
    <span class="hljs-string">&quot;stats&quot;</span> : { 
      <span class="hljs-string">&quot;writesExecuted&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;writesIgnored&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;scannedFull&quot;</span> : <span class="hljs-number">5</span>, 
      <span class="hljs-string">&quot;scannedIndex&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;filtered&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;executionTime&quot;</span> : <span class="hljs-number">0.00005793571472167969</span> 
    }, 
    <span class="hljs-string">&quot;warnings&quot;</span> : [ ] 
  }, 
  <span class="hljs-string">&quot;cached&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;error&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;code&quot;</span> : <span class="hljs-number">200</span> 
}
</pre>
</div>
<div id="RestCursorForLimitReturnCont_short" onclick="$(&apos;#RestCursorForLimitReturnCont_short&apos;).hide(); $(&apos;#RestCursorForLimitReturnCont_long&apos;).show();">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;FOR p IN products LIMIT 5 RETURN p&quot;</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;batchSize&quot;</span> : <span class="hljs-number">2</span> 
}
EOF

shell&gt; curl -X PUT --dump - http://localhost:8529/_api/cursor/9948

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<p>Missing identifier</p>
<div id="RestCursorMissingCursorIdentifier_container">
<div id="RestCursorMissingCursorIdentifier_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl -X PUT --dump - http://localhost:8529/_api/cursor

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">400</span> Bad Request
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;error&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;errorMessage&quot;</span> : <span class="hljs-string">&quot;expecting PUT /_api/cursor/&lt;cursor-id&gt;&quot;</span>, 
  <span class="hljs-string">&quot;code&quot;</span> : <span class="hljs-number">400</span>, 
  <span class="hljs-string">&quot;errorNum&quot;</span> : <span class="hljs-number">400</span> 
}
</pre>
</div>
<div id="RestCursorMissingCursorIdentifier_short" onclick="$(&apos;#RestCursorMissingCursorIdentifier_short&apos;).hide(); $(&apos;#RestCursorMissingCursorIdentifier_long&apos;).show();">
<pre>
shell&gt; curl -X PUT --dump - http://localhost:8529/_api/cursor

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">400</span> Bad Request
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<p>Unknown identifier</p>
<div id="RestCursorInvalidCursorIdentifier_container">
<div id="RestCursorInvalidCursorIdentifier_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl -X PUT --dump - http://localhost:8529/_api/cursor/123123

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">404</span> Not Found
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;error&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;errorMessage&quot;</span> : <span class="hljs-string">&quot;cursor not found&quot;</span>, 
  <span class="hljs-string">&quot;code&quot;</span> : <span class="hljs-number">404</span>, 
  <span class="hljs-string">&quot;errorNum&quot;</span> : <span class="hljs-number">1600</span> 
}
</pre>
</div>
<div id="RestCursorInvalidCursorIdentifier_short" onclick="$(&apos;#RestCursorInvalidCursorIdentifier_short&apos;).hide(); $(&apos;#RestCursorInvalidCursorIdentifier_long&apos;).show();">
<pre>
shell&gt; curl -X PUT --dump - http://localhost:8529/_api/cursor/123123

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">404</span> Not Found
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>

<!-- js/actions/api-cursor.js -->
<h3 id="delete-cursor">Delete cursor</h3>
<p> dispose an existing cursor</p>
<p><code>DELETE /_api/cursor/{cursor-identifier}</code></p>
<p><strong>Path Parameters</strong></p>
<ul>
<li><em>cursor-identifier</em> (required):
The id of the cursor</li>
</ul>
<p>Deletes the cursor and frees the resources associated with it.
The cursor will automatically be destroyed on the server when the client has
retrieved all documents from it. The client can also explicitly destroy the
cursor at any earlier time using an HTTP DELETE request. The cursor id must
be included as part of the URL.
Note: the server will also destroy abandoned cursors automatically after a
certain server-controlled timeout to avoid resource leakage.</p>
<p><strong>Return Codes</strong></p>
<ul>
<li><em>202</em>:
is returned if the server is aware of the cursor.</li>
<li><em>404</em>:
is returned if the server is not aware of the cursor. It is also
returned if a cursor is used after it has been destroyed.</li>
</ul>
<p><strong>Examples</strong></p>
<div id="RestCursorDelete_container">
<div id="RestCursorDelete_long" onclick="" style="Display: none;">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;FOR p IN products LIMIT 5 RETURN p&quot;</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;batchSize&quot;</span> : <span class="hljs-number">2</span> 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">201</span> Created
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

{ 
  <span class="hljs-string">&quot;result&quot;</span> : [ 
    { 
      <span class="hljs-string">&quot;_key&quot;</span> : <span class="hljs-string">&quot;9882&quot;</span>, 
      <span class="hljs-string">&quot;_id&quot;</span> : <span class="hljs-string">&quot;products/9882&quot;</span>, 
      <span class="hljs-string">&quot;_rev&quot;</span> : <span class="hljs-string">&quot;9882&quot;</span>, 
      <span class="hljs-string">&quot;hello3&quot;</span> : <span class="hljs-string">&quot;world1&quot;</span> 
    }, 
    { 
      <span class="hljs-string">&quot;_key&quot;</span> : <span class="hljs-string">&quot;9875&quot;</span>, 
      <span class="hljs-string">&quot;_id&quot;</span> : <span class="hljs-string">&quot;products/9875&quot;</span>, 
      <span class="hljs-string">&quot;_rev&quot;</span> : <span class="hljs-string">&quot;9875&quot;</span>, 
      <span class="hljs-string">&quot;hello1&quot;</span> : <span class="hljs-string">&quot;world1&quot;</span> 
    } 
  ], 
  <span class="hljs-string">&quot;hasMore&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;id&quot;</span> : <span class="hljs-string">&quot;9891&quot;</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-number">5</span>, 
  <span class="hljs-string">&quot;extra&quot;</span> : { 
    <span class="hljs-string">&quot;stats&quot;</span> : { 
      <span class="hljs-string">&quot;writesExecuted&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;writesIgnored&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;scannedFull&quot;</span> : <span class="hljs-number">5</span>, 
      <span class="hljs-string">&quot;scannedIndex&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;filtered&quot;</span> : <span class="hljs-number">0</span>, 
      <span class="hljs-string">&quot;executionTime&quot;</span> : <span class="hljs-number">0.0000591278076171875</span> 
    }, 
    <span class="hljs-string">&quot;warnings&quot;</span> : [ ] 
  }, 
  <span class="hljs-string">&quot;cached&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;error&quot;</span> : <span class="hljs-literal">false</span>, 
  <span class="hljs-string">&quot;code&quot;</span> : <span class="hljs-number">201</span> 
}
shell&gt; curl -X DELETE --dump - http://localhost:8529/_api/cursor/9891

</pre>
</div>
<div id="RestCursorDelete_short" onclick="$(&apos;#RestCursorDelete_short&apos;).hide(); $(&apos;#RestCursorDelete_long&apos;).show();">
<pre>
shell&gt; curl -X POST --data-binary @- --dump - http://localhost:8529/_api/cursor &lt;&lt;EOF
{ 
  <span class="hljs-string">&quot;query&quot;</span> : <span class="hljs-string">&quot;FOR p IN products LIMIT 5 RETURN p&quot;</span>, 
  <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-literal">true</span>, 
  <span class="hljs-string">&quot;batchSize&quot;</span> : <span class="hljs-number">2</span> 
}
EOF

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">201</span> Created
content-type: application/json; charset=utf<span class="hljs-number">-8</span>

</pre><div class="example_show_button">show response body</div>
</div>
</div>


                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../AqlQueryCursor/QueryResults.html" class="navigation navigation-prev " aria-label="Previous page: Query Results"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../AqlQuery/index.html" class="navigation navigation-next " aria-label="Next page: AQL Queries"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.js"></script>
    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.1.1/anchor.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-anchorjs/anchor-style.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-piwik/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"addcssjs":{"js":["styles/header.js"],"css":["styles/header.css"]},"add-header":{"BASE_PATH":"https://docs.arangodb.com/devel"},"piwik":{"URL":"www.arangodb.com/piwik/","siteId":12},"toggle-chapters":{},"anchorjs":{},"highlight":{},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        <!-- body:end -->
<script type="text/javascript">var _paq = _paq || [];_paq.push(['trackPageView']);_paq.push(['enableLinkTracking']);(function() {var u=(("https:" == document.location.protocol) ? "https" : "http") + "://www.arangodb.com/piwik/";_paq.push(['setTrackerUrl', u+'piwik.php']);_paq.push(['setSiteId', 12]);var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript';g.defer=true; g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);})();</script><noscript><p><img src="http://www.arangodb.com/piwik/piwik.php?idsite=12" style="border:0;" alt="" /></p></noscript>
    </body>
    <!-- End of book ArangoDB v3.0.x-devel (2016-06-02) HTTP API Documentation -->
</html>
