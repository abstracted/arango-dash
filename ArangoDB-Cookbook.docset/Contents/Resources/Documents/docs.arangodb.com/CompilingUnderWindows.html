<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Compile on Windows | Cookbook</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.5.2">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    
        <link rel="stylesheet" href="./styles/website.css">
    

        
    
    
    <link rel="next" href="./CompilingUnderWindowsLegacy.html" />
    
    
    <link rel="prev" href="./CompilingOnDebian.html" />
    

        <script type="text/javascript" src="styles/header.js"></script><link rel="stylesheet" type="text/css" href="styles/header.css">
    </head>
    <body>
        
        
    <div class="book" data-level="7.5.2" data-chapter-title="Compile on Windows" data-filepath="CompilingUnderWindows.md" data-basepath="." data-revision="Fri Jan 29 2016 14:30:11 GMT+0100 (CET)">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="ModulDocumentInheritance.html">
            
                
                    <a href="./ModulDocumentInheritance.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Modelling Document Inheritance
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="AccessingShapesData.html">
            
                
                    <a href="./AccessingShapesData.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Accessing Shapes Data
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" >
            
            <span><b>3.</b> AQL</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="JoinsInAQL.html">
            
                
                    <a href="./JoinsInAQL.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Using Joins in AQL
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="UsingDynamicAttributeNames.html">
            
                
                    <a href="./UsingDynamicAttributeNames.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Using Dynamic Attribute Names
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="FindingLeafNodesGraph.html">
            
                
                    <a href="./FindingLeafNodesGraph.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Finding Leaf Nodes in a Graph
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="FilteringNodesGraph.html">
            
                
                    <a href="./FilteringNodesGraph.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Filtering Nodes in a Graph
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="CountingNodesEfficientlyGraph.html">
            
                
                    <a href="./CountingNodesEfficientlyGraph.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        Counting Nodes efficiently
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="CreatingTestDataAQL.html">
            
                
                    <a href="./CreatingTestDataAQL.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        Creating Test-data using AQL
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="DiffingDocuments.html">
            
                
                    <a href="./DiffingDocuments.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                        Diffing Documents
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="AvoidingInjection.html">
            
                
                    <a href="./AvoidingInjection.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.</b>
                        
                        Avoiding Parameter Injection
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.9" data-path="MultilineQueryStrings.html">
            
                
                    <a href="./MultilineQueryStrings.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.9.</b>
                        
                        Multiline Query Strings
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" >
            
            <span><b>4.</b> Graph-based Recipes</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="Fulldepth.html">
            
                
                    <a href="./Fulldepth.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Fulldepth Graph-Traversal
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="FindingConnectedVerticesForSubgraphs.html">
            
                
                    <a href="./FindingConnectedVerticesForSubgraphs.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Vertices for Subgraphs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="JavaDriverGraphExampleVertex.html">
            
                
                    <a href="./JavaDriverGraphExampleVertex.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Vertex example with Java
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="JavaDriverBaseDocument.html">
            
                
                    <a href="./JavaDriverBaseDocument.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        Accessing base documents with Java
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="UsingCustomVisitorFromNodeJs.html">
            
                
                    <a href="./UsingCustomVisitorFromNodeJs.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        Using a custom Visitor
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="GraphExampleActorsAndMovies.html">
            
                
                    <a href="./GraphExampleActorsAndMovies.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        Example AQL Queries for Graphs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="JavaDriverXmlData.html">
            
                
                    <a href="./JavaDriverXmlData.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.7.</b>
                        
                        Add XML data to ArangoDB with Java
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" >
            
            <span><b>5.</b> Foxx Framework</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="FoxxFirstSteps.html">
            
                
                    <a href="./FoxxFirstSteps.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        My first Foxx App
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="FoxxFirstStepsLegacy.html">
            
                
                    <a href="./FoxxFirstStepsLegacy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        My first Foxx App pre-2.4
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="FoxxAuth.html">
            
                
                    <a href="./FoxxAuth.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        Adding Authentication
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="FoxxAuthLegacy.html">
            
                
                    <a href="./FoxxAuthLegacy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        Adding Authentication pre-2.5
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="MakingRequests.html">
            
                
                    <a href="./MakingRequests.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                        Using external APIs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="FoxxQueues.html">
            
                
                    <a href="./FoxxQueues.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.6.</b>
                        
                        Background jobs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="FoxxQueuesLegacy.html">
            
                
                    <a href="./FoxxQueuesLegacy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.</b>
                        
                        legacy background jobs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.8" data-path="FoxxCustomQueueJobsLegacy.html">
            
                
                    <a href="./FoxxCustomQueueJobsLegacy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.8.</b>
                        
                        legacy custom Background jobs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.9" data-path="FoxxScripts.html">
            
                
                    <a href="./FoxxScripts.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.9.</b>
                        
                        Creating a Foxx script
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.10" data-path="FoxxCustomQueueJobs.html">
            
                
                    <a href="./FoxxCustomQueueJobs.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.10.</b>
                        
                        Custom job types for Queues
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.11" data-path="FoxxGeneratorFirstSteps.html">
            
                
                    <a href="./FoxxGeneratorFirstSteps.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.11.</b>
                        
                        My first FoxxGenerator App
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.12" data-path="FoxxDeploy.html">
            
                
                    <a href="./FoxxDeploy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.12.</b>
                        
                        How to deploy a Foxx App
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.13" data-path="MakingFoxxAppAccessible.html">
            
                
                    <a href="./MakingFoxxAppAccessible.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.13.</b>
                        
                        Apps accessible from the Web
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.14" data-path="FoxxApiKeys.html">
            
                
                    <a href="./FoxxApiKeys.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.14.</b>
                        
                        API-Key Management
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.15" data-path="FoxxBinaryFileUploads.html">
            
                
                    <a href="./FoxxBinaryFileUploads.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.15.</b>
                        
                        Handling Binary HTTP documents in Foxx
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.16" data-path="FoxxBinaryHttpPost.html">
            
                
                    <a href="./FoxxBinaryHttpPost.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.16.</b>
                        
                        Sending Binary HTTP documents from Foxx
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.17" data-path="FoxxTesting.html">
            
                
                    <a href="./FoxxTesting.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.17.</b>
                        
                        Foxx Testing
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" >
            
            <span><b>6.</b> Use Cases, Examples</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="CrawlingGithubPromises.html">
            
                
                    <a href="./CrawlingGithubPromises.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Crawling Github with Promises
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="UsingArangoDBWithSailsJS.html">
            
                
                    <a href="./UsingArangoDBWithSailsJS.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Using ArangoDB with Sails.js
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="PopulatingAnAutocompleteTextbox.html">
            
                
                    <a href="./PopulatingAnAutocompleteTextbox.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        Populating a Textbox
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="ExportingData.html">
            
                
                    <a href="./ExportingData.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                        Exporting Data
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" >
            
            <span><b>7.</b> ArangoDB Setup / Administration</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="UsingAuthentication.html">
            
                
                    <a href="./UsingAuthentication.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        Using Authentication
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="ImportingData.html">
            
                
                    <a href="./ImportingData.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        Importing Data
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="ReplicatingData.html">
            
                
                    <a href="./ReplicatingData.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        Replicating Data
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="XCopyInstallWindows.html">
            
                
                    <a href="./XCopyInstallWindows.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.4.</b>
                        
                        XCopy Install Windows
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="Compiling.html">
            
                
                    <a href="./Compiling.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.5.</b>
                        
                        Compiling / Build
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.5.1" data-path="CompilingOnDebian.html">
            
                
                    <a href="./CompilingOnDebian.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.5.1.</b>
                        
                        Compile on Debian
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="7.5.2" data-path="CompilingUnderWindows.html">
            
                
                    <a href="./CompilingUnderWindows.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.5.2.</b>
                        
                        Compile on Windows
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.5.3" data-path="CompilingUnderWindowsLegacy.html">
            
                
                    <a href="./CompilingUnderWindowsLegacy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.5.3.</b>
                        
                        Compile on Windows pre-2.4
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.5.4" data-path="RunningCustomBuild.html">
            
                
                    <a href="./RunningCustomBuild.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.5.4.</b>
                        
                        Running Custom Build
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" >
            
            <span><b>8.</b> Cloud, DCOS and Docker</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="RunningOnAWS.html">
            
                
                    <a href="./RunningOnAWS.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        Running on AWS
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="UpdateArangoDBOnAWS.html">
            
                
                    <a href="./UpdateArangoDBOnAWS.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        Update on AWS
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="UsingArangoDBAzure.html">
            
                
                    <a href="./UsingArangoDBAzure.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.</b>
                        
                        Running on Azure
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="RunningInDockerContainer.html">
            
                
                    <a href="./RunningInDockerContainer.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.</b>
                        
                        Docker ArangoDB
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.5" data-path="UsingArangoDBNodeJSDocker.html">
            
                
                    <a href="./UsingArangoDBNodeJSDocker.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.</b>
                        
                        Docker with NodeJS App
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.6" data-path="UsingArangoDBInGiantSwarm.html">
            
                
                    <a href="./UsingArangoDBInGiantSwarm.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.6.</b>
                        
                        In the GiantSwarm
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.7" data-path="UsingArangoDBMesosphere.html">
            
                
                    <a href="./UsingArangoDBMesosphere.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.7.</b>
                        
                        ArangoDB in Mesos
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9" >
            
            <span><b>9.</b> Monitoring</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="MonitoringWithCollectd.html">
            
                
                    <a href="./MonitoringWithCollectd.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        Monitoring with Collectd
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="MonitoringSlaveStatus.html">
            
                
                    <a href="./MonitoringSlaveStatus.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                        Collectd - Replication Slaves
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.3" data-path="MonitoringTrafficWithIPAccounting.html">
            
                
                    <a href="./MonitoringTrafficWithIPAccounting.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.3.</b>
                        
                        Collectd - Network usage
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.4" data-path="MonitoringOtherRelevantMetrics.html">
            
                
                    <a href="./MonitoringOtherRelevantMetrics.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.4.</b>
                        
                        Collectd - more Metrics
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.5" data-path="MonitoringFoxxApps.html">
            
                
                    <a href="./MonitoringFoxxApps.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.5.</b>
                        
                        Collectd - Monitoring Foxx
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Cookbook</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="compiling-arangodb-under-windows">Compiling ArangoDB under Windows</h1>
<h2 id="problem">Problem</h2>
<p>I want to compile ArangoDB under Windows.</p>
<p><strong>Note:</strong> For this recipe you need at least ArangoDB 2.4; it also works for 2.5 and above.
For ArangoDB version before 2.4 look at the <a href="CompilingUnderWindowsLegacy.html">old Compiling ArangoDB under Windows</a>.</p>
<h2 id="solution">Solution</h2>
<p>While compiling ArangoDB under Linux is straight forward - simply execute <code>configure</code> and <code>make</code> - compiling under Windows 
is a bit more demanding.</p>
<h3 id="ingredients">Ingredients</h3>
<p>For this recipe you need to install the following programs under Windows:</p>
<ul>
<li><p><a href="https://www.cygwin.com/" target="_blank">cygwin</a></p>
<p>You need at least <code>make</code> from cygwin. Cygwin also offers a <code>cmake</code>. Do <strong>not</strong> install this version.
The unit tests require the bash.</p>
<p>You should also issue these commands to generate user informations for the cygwin commands:</p>
<pre><code>  mkpasswd &gt; /etc/passwd
  mkgroup &gt; /etc/group
</code></pre><p>Turning ACL off (noacl) for all mounts in cygwin fixes permissions troubles that may appear in the build:</p>
<pre><code>  # /etc/fstab
  #
  #    This file is read once by the first process in a Cygwin process tree.
  #    To pick up changes, restart all Cygwin processes.  For a description
  #    see https://cygwin.com/cygwin-ug-net/using.html#mount-table

  # noacl = Ignore Access Control List and let Windows handle permissions
  C:/cygwin64/bin  /usr/bin   ntfs      binary,auto,noacl           0  0
  C:/cygwin64/lib  /usr/lib   ntfs      binary,auto,noacl           0  0
  C:/cygwin64      /          ntfs      override,binary,auto,noacl  0  0
  none             /cygdrive  cygdrive  binary,posix=0,user,noacl   0  0
</code></pre></li>
<li><p><a href="http://www.cmake.org/" target="_blank">cmake</a></p>
<p>Either version 2.8.12, 3.0.2 or 3.1.2 should work. Attention - pitfall: the cygwin version doesn&apos;t work.</p>
</li>
<li><p><a href="http://www.python.org" target="_blank">python</a></p>
<p>Either 2.x version should work - it&apos;s used to run V8s GYP.
Make sure you add python.exe to your path environment variable;
restarting your running shell may be necessary.</p>
</li>
<li><p><a href="https://www.microsoft.com/en-us/download/details.aspx?id=44914" target="_blank">Visual Studio Express 2013 for Windows Desktop</a></p>
<p>More recent versions, such as <a href="https://www.visualstudio.com/" target="_blank">Visual Studio Community 2015</a> don&apos;t work yet.</p>
<p>Please note that there are different versions of Visual Studio. The <code>Visual Studio for Windows</code>
will <strong>not work</strong>. You need to install <code>Visual Studio (Express) for Windows Desktop</code>. You must
configure your path in such a way that the compiler can be found. One way is to execute the
<code>vcvarsall.bat</code> script from the <code>VC</code> folder.</p>
</li>
</ul>
<!--
* BOOST (if you intend to run the tests for development)

    [installing boost under windows](https://niuquant.wordpress.com/2013/11/16/setup-boost-1-55-0-unit-test-framework-with-visual-stuido-2010-on-windows-8-desktop/)
    has more details on how to.
-->
<ul>
<li><p><a href="http://nsis.sourceforge.net/Download" target="_blank">Nullsoft Scriptable Install System</a></p>
</li>
<li><p><a href="https://www.ruby-lang.org/en/downloads/" target="_blank">Ruby</a>
(for the unittests, if you intend to run them)</p>
</li>
<li><p><a href="https://technet.microsoft.com/en-us/sysinternals/dd996900.aspx" target="_blank">procdump</a>
(for the unittests; run once to accept the eula)</p>
</li>
<li><p><a href="https://github.com/GitTools/GitLink" target="_blank">GitLink</a> to adjust the pdb files to github</p>
</li>
<li><p><a href="https://msdn.microsoft.com/de-de/windows/hardware/gg454513.aspx" target="_blank">WinDbg</a>
(in the section &quot;Standalone Debugging Tools for Windows (WinDbg)&quot;)
to get automated backraces during unittest runs. Hint: Add its install path to the PATH environment.</p>
</li>
</ul>
<h3 id="enable-native-symlinks-for-cygwin-and-git">Enable native symlinks for Cygwin and git</h3>
<p>Cygwin will create proprietary files as placeholders by default instead of
actually symlinking files. The placeholders later tell Cygwin where to resolve
paths to. It does not intercept every access to the placeholders however, so
that 3rd party scripts break. Windows Vista and above support real symlinks,
and Cygwin can be configured to make use of it:</p>
<pre><code># use actual symlinks to prevent documentation build errors
# (requires elevated rights!)
export CYGWIN=&quot;winsymlinks:native&quot;
</code></pre><p>Note that you must run Cygwin as administrator or change the Windows group
policies to allow user accounts to create symlinks (<code>gpedit.msc</code> if available).</p>
<p>BTW: You can create symlinks manually on Windows like:</p>
<pre><code>mklink /H target/file.ext source/file.ext
mklink /D target/path source/path
mklink /J target/path source/path/for/junction
</code></pre><p>And in Cygwin:</p>
<pre><code>ln -s source target
</code></pre><h3 id="use-bundled-python-and-other-executables">Use bundled Python and other executables</h3>
<p>To use the bundled python 2.6, even if there&apos;s another python installation on
your machine, use the following shell command in the Cygwin environment to
extend the environment path (non-permanent):</p>
<pre><code>export PATH=absolute/path/to/python_26:$PATH
</code></pre><p>Note that the build scripts aren&apos;t compatible with Python 3.x!</p>
<p>Add more paths if needed to make commands like <code>ebook-convert</code> available:</p>
<pre><code>export PATH=&quot;/cygdrive/c/Program Files/Calibre2:absolute/path/to/python_26:$PATH&quot;
</code></pre><p>Colons are used to separate individual paths (<code>path1:path2</code>). <code>$PATH</code> contains
the current environment paths, and must be used at the end of the export command
to not take precedence over the newly added paths.</p>
<h3 id="building-the-required-libraries">Building the required libraries</h3>
<p>First of all, start a <code>bash</code> from cygwin and clone the repository using the corresponding branch, e.g. for ArangoDB 2.6:</p>
<pre><code>git clone -b 2.6 https://github.com/arangodb/arangodb-windows-libraries.git
</code></pre><p>and switch into the directory <code>arangodb-windows-libraries</code>. This repository contains the open-source libraries which
are needed by ArangoDB:</p>
<ul>
<li>etcd from CoreOS</li>
<li>getopt</li>
<li>libev</li>
<li>linenoise</li>
<li>openssl</li>
<li>regex</li>
<li>zlib</li>
</ul>
<p>In order to build the corresponding 32bit and 64bit versions of these libraries, execute</p>
<pre><code>make
make install
make 3rdParty
</code></pre><p>This will create a folder <code>WindowsLibraries</code> containing the headers and libraries.</p>
<h3 id="building-arangodb-itself">Building ArangoDB itself</h3>
<p>Clone the repository</p>
<pre><code>https://github.com/arangodb/arangodb.git
</code></pre><p>and copy the previously created <code>WindowsLibraries</code> folder into this directory <code>ArangoDB</code>.</p>
<p>Next you need to build Google&apos;s V8 version, that is part of ArangoDB. This version contains V8 and ICU.
Switch into the directory</p>
<pre><code>ArangoDB/3rdParty
</code></pre><p>and execute</p>
<pre><code>make -f Makefile.v8-windows
make -f Makefile.v8-windows install
</code></pre><p>Now switch back into the <code>ArangoDB</code> root folder and execute</p>
<pre><code>make pack-win32
</code></pre><p>or</p>
<pre><code>make pack-win64
</code></pre><p>in order to build the installer file for either 32 bit or 64 bit.</p>
<h3 id="development-builds">Development builds</h3>
<p>For development builds which are able to run the unit tests run
<!--
(adjust the boost directory to your situation):
-->
<!--
    export BOOST_ROOT='c:\Program Files\boost_1_56_0\'
    export BOOST_LIBRARYDIR='c:\Program Files\boost_1_56_0\lib64-msvc-12.0'
    BOOSTROOT='c:\Program Files\boost_1_56_0'
    BOOST_INCLUDE='c:\Program Files\boost_1_56_0\'
    BOOST_LIBRARYDIR='c:\Program Files\boost_1_56_0\lib64-msvc-12.0'
    BOOST_ROOT='c:\Program Files\boost_1_56_0\'
    CMAKE_INCLUDE_PATHE='c:\Program Files\boost_1_56_0\'
--></p>
<pre><code>make pack-win64-relative
</code></pre><p>Since most of the scripts assume they&apos;re running on a unix system, some directories are treated
as mandatory and thus have to be created on the drive where you checked out your source:</p>
<pre><code>mkdir -p /cygdrive/c/var/tmp/
</code></pre><p>You probably already downloaded and installed <a href="https://www.ruby-lang.org/en/downloads/" target="_blank">Ruby</a>.
Now we need to install the httparty and rspec gems. In order to use gem, you need to
<a href="https://gist.github.com/fnichol/867550" target="_blank">Install certificates</a>. Once you did that you can run:</p>
<pre><code>gem install httparty rspec
</code></pre><p>The <em>bin/rspec.bat</em> created by gem is not sufficient for being run by the unittesting facility;
replace it with something like this:</p>
<pre><code>@ECHO OFF
IF NOT &quot;%~f0&quot; == &quot;~f0&quot; GOTO :WinNT
@&quot;C:\Program Files (x86)\Rub21-x64\bin\ruby.exe&quot; &quot;C:/Program Files (x86)/Ruby21-x64/bin/rspec&quot; %1 %2 %3 %4 %5 %6 %7 %8 %9
GOTO :EOF
:WinNT
@&quot;C:\Program Files (x86)\Ruby21-x64\bin\ruby.exe&quot; &quot;C:/Program Files (x86)/Ruby21-x64/bin/rspec&quot; %*
</code></pre><p>You can then run the unittests like that:</p>
<pre><code>bash ./scripts/unittest all --skipBoost true --skipGeo true
</code></pre><h3 id="executables-only">Executables only</h3>
<p>If you do not need the installer file, you can use the <code>cmake</code> to build the executables. Instead of <code>make pack-win32</code>
use</p>
<pre><code>mkdir Build32
cd Build32
cmake -G &quot;Visual Studio 12&quot; ..
</code></pre><p>This will create a solution file in the <code>Build32</code> folder. You can now start Visual Studio and open this
solution file.</p>
<p>To build the 64 bit version, use</p>
<pre><code>mkdir Build64
cd Build64
cmake -G &quot;Visual Studio 12 Win64&quot; ..
</code></pre><p>Alternatively use <code>cmake</code> to build the executables.</p>
<pre><code>cmake --build . --config Release
</code></pre><p>In order to execute the binaries you need to copy the ICU datafile into the directory containing the
executable</p>
<pre><code>cp WindowsLibraries/64/icudtl.dat Build64/bin/Debug/icudt54l.dat
</code></pre><p>If you intend to use the machine for development purposes, it may be more practical to copy it somewhere else:</p>
<pre><code>cp WindowsLibraries/64/icudtl.dat /cygdrive/c/Windows/icudt54l.dat
</code></pre><p>And configure your environment (yes this instruction remembers to the hitchhikers guide to the galaxy...) so that
<code>ICU_DATA</code> points to <code>c:\\Windows</code>. You do that by opening the explorer,
right click on <code>This PC</code> in the tree on the left, choose <code>Properties</code> in the opening window <code>Advanced system settings</code>,
in the Popup <code>Environment Variables</code>, another popup opens, in the <code>System Variables</code> part you click <code>New</code>, 
And Key: :<code>ICU_DATA</code> to value: <code>c:\\Windows</code></p>
<p><img src="assets/CompilingUnderWindows/SetEnvironmentVar.png" alt="HowtoSetEnv"></p>
<p><strong>Authors</strong>:
<a href="https://github.com/fceller" target="_blank">Frank Celler</a>,
<a href="https://github.com/dothebart" target="_blank">Wilfried Goesgens</a> and
<a href="https://github.com/CoDEmanX" target="_blank">CoDEmanX</a>.</p>
<p><strong>Tags</strong>: #windows</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./CompilingOnDebian.html" class="navigation navigation-prev " aria-label="Previous page: Compile on Debian"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./CompilingUnderWindowsLegacy.html" class="navigation navigation-next " aria-label="Next page: Compile on Windows pre-2.4"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-piwik/plugin.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"piwik":{"URL":"www.arangodb.com/piwik/","siteId":12},"addcssjs":{"js":["styles/header.js"],"css":["styles/header.css"]},"highlight":{},"search":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        <script type="text/javascript">var _paq = _paq || [];_paq.push(['trackPageView']);_paq.push(['enableLinkTracking']);(function() {var u=(("https:" == document.location.protocol) ? "https" : "http") + "://www.arangodb.com/piwik/";_paq.push(['setTrackerUrl', u+'piwik.php']);_paq.push(['setSiteId', 12]);var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript';g.defer=true; g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);})();</script><noscript><p><img src="http://www.arangodb.com/piwik/piwik.php?idsite=12" style="border:0;" alt="" /></p></noscript>
    </body>
    
</html>
